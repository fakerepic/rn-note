<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>RichTextEditor</title>
    <script type="module" crossorigin>var PI=Object.defineProperty;var DI=(t,e,n)=>e in t?PI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Zw=(t,e,n)=>(DI(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function tE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nE={exports:{}},vh={},rE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zu=Symbol.for("react.element"),LI=Symbol.for("react.portal"),zI=Symbol.for("react.fragment"),RI=Symbol.for("react.strict_mode"),BI=Symbol.for("react.profiler"),$I=Symbol.for("react.provider"),FI=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),HI=Symbol.for("react.suspense"),VI=Symbol.for("react.memo"),jI=Symbol.for("react.lazy"),eS=Symbol.iterator;function WI(t){return t===null||typeof t!="object"?null:(t=eS&&t[eS]||t["@@iterator"],typeof t=="function"?t:null)}var sE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iE=Object.assign,oE={};function Pl(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||sE}Pl.prototype.isReactComponent={};Pl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lE(){}lE.prototype=Pl.prototype;function E0(t,e,n){this.props=t,this.context=e,this.refs=oE,this.updater=n||sE}var M0=E0.prototype=new lE;M0.constructor=E0;iE(M0,Pl.prototype);M0.isPureReactComponent=!0;var tS=Array.isArray,aE=Object.prototype.hasOwnProperty,T0={current:null},uE={key:!0,ref:!0,__self:!0,__source:!0};function cE(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)aE.call(e,r)&&!uE.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];s.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{$$typeof:zu,type:t,key:i,ref:l,props:s,_owner:T0.current}}function UI(t,e){return{$$typeof:zu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function N0(t){return typeof t=="object"&&t!==null&&t.$$typeof===zu}function JI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nS=/\/+/g;function Vm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?JI(""+t.key):e.toString(36)}function Od(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case zu:case LI:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Vm(l,0):r,tS(s)?(n="",t!=null&&(n=t.replace(nS,"$&/")+"/"),Od(s,e,n,"",function(f){return f})):s!=null&&(N0(s)&&(s=UI(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nS,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",tS(t))for(var u=0;u<t.length;u++){i=t[u];var d=r+Vm(i,u);l+=Od(i,e,n,d,s)}else if(d=WI(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=r+Vm(i,u++),l+=Od(i,e,n,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function Zc(t,e,n){if(t==null)return t;var r=[],s=0;return Od(t,r,"","",function(i){return e.call(n,i,s++)}),r}function QI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gt={current:null},Id={transition:null},qI={ReactCurrentDispatcher:Gt,ReactCurrentBatchConfig:Id,ReactCurrentOwner:T0};ge.Children={map:Zc,forEach:function(t,e,n){Zc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Zc(t,function(){e++}),e},toArray:function(t){return Zc(t,function(e){return e})||[]},only:function(t){if(!N0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=Pl;ge.Fragment=zI;ge.Profiler=BI;ge.PureComponent=E0;ge.StrictMode=RI;ge.Suspense=HI;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qI;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=iE({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=T0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)aE.call(e,d)&&!uE.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:zu,type:t.type,key:s,ref:i,props:r,_owner:l}};ge.createContext=function(t){return t={$$typeof:FI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$I,_context:t},t.Consumer=t};ge.createElement=cE;ge.createFactory=function(t){var e=cE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{$$typeof:_I,render:t}};ge.isValidElement=N0;ge.lazy=function(t){return{$$typeof:jI,_payload:{_status:-1,_result:t},_init:QI}};ge.memo=function(t,e){return{$$typeof:VI,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Id.transition;Id.transition={};try{t()}finally{Id.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return Gt.current.useCallback(t,e)};ge.useContext=function(t){return Gt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Gt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Gt.current.useEffect(t,e)};ge.useId=function(){return Gt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Gt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Gt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Gt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Gt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Gt.current.useReducer(t,e,n)};ge.useRef=function(t){return Gt.current.useRef(t)};ge.useState=function(t){return Gt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Gt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Gt.current.useTransition()};ge.version="18.2.0";rE.exports=ge;var Ce=rE.exports;const we=tE(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KI=Ce,GI=Symbol.for("react.element"),YI=Symbol.for("react.fragment"),XI=Object.prototype.hasOwnProperty,ZI=KI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,e3={key:!0,ref:!0,__self:!0,__source:!0};function dE(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)XI.call(e,r)&&!e3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:GI,type:t,key:i,ref:l,props:s,_owner:ZI.current}}vh.Fragment=YI;vh.jsx=dE;vh.jsxs=dE;nE.exports=vh;var Yr=nE.exports,fE={exports:{}},An={},hE={exports:{}},pE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var F=z.length;z.push(W);e:for(;0<F;){var ae=F-1>>>1,de=z[ae];if(0<s(de,W))z[ae]=W,z[F]=de,F=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],F=z.pop();if(F!==W){z[0]=F;e:for(var ae=0,de=z.length,gn=de>>>1;ae<gn;){var rt=2*(ae+1)-1,_r=z[rt],st=rt+1,Xn=z[st];if(0>s(_r,F))st<de&&0>s(Xn,_r)?(z[ae]=Xn,z[st]=F,ae=st):(z[ae]=_r,z[rt]=F,ae=rt);else if(st<de&&0>s(Xn,F))z[ae]=Xn,z[st]=F,ae=st;else break e}}return W}function s(z,W){var F=z.sortIndex-W.sortIndex;return F!==0?F:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,k=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=z)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function D(z){if(b=!1,N(z),!w)if(n(d)!==null)w=!0,qe(R);else{var W=n(f);W!==null&&kt(D,W.startTime-z)}}function R(z,W){w=!1,b&&(b=!1,x(J),J=-1),k=!0;var F=y;try{for(N(W),m=n(d);m!==null&&(!(m.expirationTime>W)||z&&!Te());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var de=ae(m.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?m.callback=de:m===n(d)&&r(d),N(W)}else r(d);m=n(d)}if(m!==null)var gn=!0;else{var rt=n(f);rt!==null&&kt(D,rt.startTime-W),gn=!1}return gn}finally{m=null,y=F,k=!1}}var L=!1,B=null,J=-1,K=5,se=-1;function Te(){return!(t.unstable_now()-se<K)}function ut(){if(B!==null){var z=t.unstable_now();se=z;var W=!0;try{W=B(!0,z)}finally{W?nt():(L=!1,B=null)}}else L=!1}var nt;if(typeof E=="function")nt=function(){E(ut)};else if(typeof MessageChannel<"u"){var Dn=new MessageChannel,Yn=Dn.port2;Dn.port1.onmessage=ut,nt=function(){Yn.postMessage(null)}}else nt=function(){T(ut,0)};function qe(z){B=z,L||(L=!0,nt())}function kt(z,W){J=T(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||k||(w=!0,qe(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var F=y;y=W;try{return z()}finally{y=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=y;y=z;try{return W()}finally{y=F}},t.unstable_scheduleCallback=function(z,W,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=F+de,z={id:p++,callback:W,priorityLevel:z,startTime:F,expirationTime:de,sortIndex:-1},F>ae?(z.sortIndex=F,e(f,z),n(d)===null&&z===n(f)&&(b?(x(J),J=-1):b=!0,kt(D,F-ae))):(z.sortIndex=de,e(d,z),w||k||(w=!0,qe(R))),z},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(z){var W=y;return function(){var F=y;y=W;try{return z.apply(this,arguments)}finally{y=F}}}})(pE);hE.exports=pE;var t3=hE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mE=Ce,In=t3;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gE=new Set,lu={};function uo(t,e){vl(t,e),vl(t+"Capture",e)}function vl(t,e){for(lu[t]=e,t=0;t<e.length;t++)gE.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zg=Object.prototype.hasOwnProperty,n3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rS={},sS={};function r3(t){return Zg.call(sS,t)?!0:Zg.call(rS,t)?!1:n3.test(t)?sS[t]=!0:(rS[t]=!0,!1)}function s3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function i3(t,e,n,r){if(e===null||typeof e>"u"||s3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Nt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nt[t]=new Yt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nt[e]=new Yt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nt[t]=new Yt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nt[t]=new Yt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nt[t]=new Yt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nt[t]=new Yt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nt[t]=new Yt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nt[t]=new Yt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nt[t]=new Yt(t,5,!1,t.toLowerCase(),null,!1,!1)});var C0=/[\-:]([a-z])/g;function O0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(C0,O0);Nt[e]=new Yt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(C0,O0);Nt[e]=new Yt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(C0,O0);Nt[e]=new Yt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!1,!1)});Nt.xlinkHref=new Yt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nt[t]=new Yt(t,1,!1,t.toLowerCase(),null,!0,!0)});function I0(t,e,n,r){var s=Nt.hasOwnProperty(e)?Nt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(i3(e,n,s,r)&&(n=null),r||s===null?r3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ds=mE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ed=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),A0=Symbol.for("react.strict_mode"),ey=Symbol.for("react.profiler"),yE=Symbol.for("react.provider"),vE=Symbol.for("react.context"),P0=Symbol.for("react.forward_ref"),ty=Symbol.for("react.suspense"),ny=Symbol.for("react.suspense_list"),D0=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),kE=Symbol.for("react.offscreen"),iS=Symbol.iterator;function xa(t){return t===null||typeof t!="object"?null:(t=iS&&t[iS]||t["@@iterator"],typeof t=="function"?t:null)}var We=Object.assign,jm;function Da(t){if(jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jm=e&&e[1]||""}return`
`+jm+t}var Wm=!1;function Um(t,e){if(!t||Wm)return"";Wm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,u=i.length-1;1<=l&&0<=u&&s[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==i[u]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{Wm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Da(t):""}function o3(t){switch(t.tag){case 5:return Da(t.type);case 16:return Da("Lazy");case 13:return Da("Suspense");case 19:return Da("SuspenseList");case 0:case 2:case 15:return t=Um(t.type,!1),t;case 11:return t=Um(t.type.render,!1),t;case 1:return t=Um(t.type,!0),t;default:return""}}function ry(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Qo:return"Portal";case ey:return"Profiler";case A0:return"StrictMode";case ty:return"Suspense";case ny:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case vE:return(t.displayName||"Context")+".Consumer";case yE:return(t._context.displayName||"Context")+".Provider";case P0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case D0:return e=t.displayName||null,e!==null?e:ry(t.type)||"Memo";case zs:e=t._payload,t=t._init;try{return ry(t(e))}catch{}}return null}function l3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ry(e);case 8:return e===A0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function a3(t){var e=wE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function td(t){t._valueTracker||(t._valueTracker=a3(t))}function SE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=wE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sy(t,e){var n=e.checked;return We({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function bE(t,e){e=e.checked,e!=null&&I0(t,"checked",e,!1)}function iy(t,e){bE(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oy(t,e.type,n):e.hasOwnProperty("defaultValue")&&oy(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function lS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function oy(t,e,n){(e!=="number"||Gd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var La=Array.isArray;function ll(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function ly(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return We({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function aS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(La(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function xE(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function EE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ay(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?EE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nd,ME=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(nd=nd||document.createElement("div"),nd.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=nd.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Va={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},u3=["Webkit","ms","Moz","O"];Object.keys(Va).forEach(function(t){u3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Va[e]=Va[t]})});function TE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Va.hasOwnProperty(t)&&Va[t]?(""+e).trim():e+"px"}function NE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var c3=We({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uy(t,e){if(e){if(c3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function cy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dy=null;function L0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var fy=null,al=null,ul=null;function cS(t){if(t=$u(t)){if(typeof fy!="function")throw Error(j(280));var e=t.stateNode;e&&(e=xh(e),fy(t.stateNode,t.type,e))}}function CE(t){al?ul?ul.push(t):ul=[t]:al=t}function OE(){if(al){var t=al,e=ul;if(ul=al=null,cS(t),e)for(t=0;t<e.length;t++)cS(e[t])}}function IE(t,e){return t(e)}function AE(){}var Jm=!1;function PE(t,e,n){if(Jm)return t(e,n);Jm=!0;try{return IE(t,e,n)}finally{Jm=!1,(al!==null||ul!==null)&&(AE(),OE())}}function uu(t,e){var n=t.stateNode;if(n===null)return null;var r=xh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var hy=!1;if(is)try{var Ea={};Object.defineProperty(Ea,"passive",{get:function(){hy=!0}}),window.addEventListener("test",Ea,Ea),window.removeEventListener("test",Ea,Ea)}catch{hy=!1}function d3(t,e,n,r,s,i,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var ja=!1,Yd=null,Xd=!1,py=null,f3={onError:function(t){ja=!0,Yd=t}};function h3(t,e,n,r,s,i,l,u,d){ja=!1,Yd=null,d3.apply(f3,arguments)}function p3(t,e,n,r,s,i,l,u,d){if(h3.apply(this,arguments),ja){if(ja){var f=Yd;ja=!1,Yd=null}else throw Error(j(198));Xd||(Xd=!0,py=f)}}function co(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function DE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dS(t){if(co(t)!==t)throw Error(j(188))}function m3(t){var e=t.alternate;if(!e){if(e=co(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dS(s),t;if(i===r)return dS(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function LE(t){return t=m3(t),t!==null?zE(t):null}function zE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zE(t);if(e!==null)return e;t=t.sibling}return null}var RE=In.unstable_scheduleCallback,fS=In.unstable_cancelCallback,g3=In.unstable_shouldYield,y3=In.unstable_requestPaint,Ye=In.unstable_now,v3=In.unstable_getCurrentPriorityLevel,z0=In.unstable_ImmediatePriority,BE=In.unstable_UserBlockingPriority,Zd=In.unstable_NormalPriority,k3=In.unstable_LowPriority,$E=In.unstable_IdlePriority,kh=null,zr=null;function w3(t){if(zr&&typeof zr.onCommitFiberRoot=="function")try{zr.onCommitFiberRoot(kh,t,void 0,(t.current.flags&128)===128)}catch{}}var pr=Math.clz32?Math.clz32:x3,S3=Math.log,b3=Math.LN2;function x3(t){return t>>>=0,t===0?32:31-(S3(t)/b3|0)|0}var rd=64,sd=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ef(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=za(u):(i&=l,i!==0&&(r=za(i)))}else l=n&~s,l!==0?r=za(l):i!==0&&(r=za(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pr(e),s=1<<n,r|=t[n],e&=~s;return r}function E3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function M3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-pr(i),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=E3(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function my(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function FE(){var t=rd;return rd<<=1,!(rd&4194240)&&(rd=64),t}function Qm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ru(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pr(e),t[e]=n}function T3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-pr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function R0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var be=0;function _E(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var HE,B0,VE,jE,WE,gy=!1,id=[],Gs=null,Ys=null,Xs=null,cu=new Map,du=new Map,Hs=[],N3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function hS(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":du.delete(e.pointerId)}}function Ma(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$u(e),e!==null&&B0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function C3(t,e,n,r,s){switch(e){case"focusin":return Gs=Ma(Gs,t,e,n,r,s),!0;case"dragenter":return Ys=Ma(Ys,t,e,n,r,s),!0;case"mouseover":return Xs=Ma(Xs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return cu.set(i,Ma(cu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,du.set(i,Ma(du.get(i)||null,t,e,n,r,s)),!0}return!1}function UE(t){var e=zi(t.target);if(e!==null){var n=co(e);if(n!==null){if(e=n.tag,e===13){if(e=DE(n),e!==null){t.blockedOn=e,WE(t.priority,function(){VE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ad(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=yy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);dy=r,n.target.dispatchEvent(r),dy=null}else return e=$u(n),e!==null&&B0(e),t.blockedOn=n,!1;e.shift()}return!0}function pS(t,e,n){Ad(t)&&n.delete(e)}function O3(){gy=!1,Gs!==null&&Ad(Gs)&&(Gs=null),Ys!==null&&Ad(Ys)&&(Ys=null),Xs!==null&&Ad(Xs)&&(Xs=null),cu.forEach(pS),du.forEach(pS)}function Ta(t,e){t.blockedOn===e&&(t.blockedOn=null,gy||(gy=!0,In.unstable_scheduleCallback(In.unstable_NormalPriority,O3)))}function fu(t){function e(s){return Ta(s,t)}if(0<id.length){Ta(id[0],t);for(var n=1;n<id.length;n++){var r=id[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gs!==null&&Ta(Gs,t),Ys!==null&&Ta(Ys,t),Xs!==null&&Ta(Xs,t),cu.forEach(e),du.forEach(e),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)UE(n),n.blockedOn===null&&Hs.shift()}var cl=ds.ReactCurrentBatchConfig,tf=!0;function I3(t,e,n,r){var s=be,i=cl.transition;cl.transition=null;try{be=1,$0(t,e,n,r)}finally{be=s,cl.transition=i}}function A3(t,e,n,r){var s=be,i=cl.transition;cl.transition=null;try{be=4,$0(t,e,n,r)}finally{be=s,cl.transition=i}}function $0(t,e,n,r){if(tf){var s=yy(t,e,n,r);if(s===null)rg(t,e,r,nf,n),hS(t,r);else if(C3(s,t,e,n,r))r.stopPropagation();else if(hS(t,r),e&4&&-1<N3.indexOf(t)){for(;s!==null;){var i=$u(s);if(i!==null&&HE(i),i=yy(t,e,n,r),i===null&&rg(t,e,r,nf,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else rg(t,e,r,null,n)}}var nf=null;function yy(t,e,n,r){if(nf=null,t=L0(r),t=zi(t),t!==null)if(e=co(t),e===null)t=null;else if(n=e.tag,n===13){if(t=DE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return nf=t,null}function JE(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(v3()){case z0:return 1;case BE:return 4;case Zd:case k3:return 16;case $E:return 536870912;default:return 16}default:return 16}}var Us=null,F0=null,Pd=null;function QE(){if(Pd)return Pd;var t,e=F0,n=e.length,r,s="value"in Us?Us.value:Us.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Pd=s.slice(t,1<r?1-r:void 0)}function Dd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function od(){return!0}function mS(){return!1}function Pn(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?od:mS,this.isPropagationStopped=mS,this}return We(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=od)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=od)},persist:function(){},isPersistent:od}),e}var Dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_0=Pn(Dl),Bu=We({},Dl,{view:0,detail:0}),P3=Pn(Bu),qm,Km,Na,wh=We({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:H0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Na&&(Na&&t.type==="mousemove"?(qm=t.screenX-Na.screenX,Km=t.screenY-Na.screenY):Km=qm=0,Na=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Km}}),gS=Pn(wh),D3=We({},wh,{dataTransfer:0}),L3=Pn(D3),z3=We({},Bu,{relatedTarget:0}),Gm=Pn(z3),R3=We({},Dl,{animationName:0,elapsedTime:0,pseudoElement:0}),B3=Pn(R3),$3=We({},Dl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),F3=Pn($3),_3=We({},Dl,{data:0}),yS=Pn(_3),H3={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},V3={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j3={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function W3(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=j3[t])?!!e[t]:!1}function H0(){return W3}var U3=We({},Bu,{key:function(t){if(t.key){var e=H3[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Dd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?V3[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:H0,charCode:function(t){return t.type==="keypress"?Dd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Dd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),J3=Pn(U3),Q3=We({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vS=Pn(Q3),q3=We({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:H0}),K3=Pn(q3),G3=We({},Dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Y3=Pn(G3),X3=We({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Z3=Pn(X3),eA=[9,13,27,32],V0=is&&"CompositionEvent"in window,Wa=null;is&&"documentMode"in document&&(Wa=document.documentMode);var tA=is&&"TextEvent"in window&&!Wa,qE=is&&(!V0||Wa&&8<Wa&&11>=Wa),kS=" ",wS=!1;function KE(t,e){switch(t){case"keyup":return eA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GE(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ko=!1;function nA(t,e){switch(t){case"compositionend":return GE(e);case"keypress":return e.which!==32?null:(wS=!0,kS);case"textInput":return t=e.data,t===kS&&wS?null:t;default:return null}}function rA(t,e){if(Ko)return t==="compositionend"||!V0&&KE(t,e)?(t=QE(),Pd=F0=Us=null,Ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qE&&e.locale!=="ko"?null:e.data;default:return null}}var sA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function SS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!sA[t.type]:e==="textarea"}function YE(t,e,n,r){CE(r),e=rf(e,"onChange"),0<e.length&&(n=new _0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ua=null,hu=null;function iA(t){aM(t,0)}function Sh(t){var e=Xo(t);if(SE(e))return t}function oA(t,e){if(t==="change")return e}var XE=!1;if(is){var Ym;if(is){var Xm="oninput"in document;if(!Xm){var bS=document.createElement("div");bS.setAttribute("oninput","return;"),Xm=typeof bS.oninput=="function"}Ym=Xm}else Ym=!1;XE=Ym&&(!document.documentMode||9<document.documentMode)}function xS(){Ua&&(Ua.detachEvent("onpropertychange",ZE),hu=Ua=null)}function ZE(t){if(t.propertyName==="value"&&Sh(hu)){var e=[];YE(e,hu,t,L0(t)),PE(iA,e)}}function lA(t,e,n){t==="focusin"?(xS(),Ua=e,hu=n,Ua.attachEvent("onpropertychange",ZE)):t==="focusout"&&xS()}function aA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Sh(hu)}function uA(t,e){if(t==="click")return Sh(e)}function cA(t,e){if(t==="input"||t==="change")return Sh(e)}function dA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yr=typeof Object.is=="function"?Object.is:dA;function pu(t,e){if(yr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Zg.call(e,s)||!yr(t[s],e[s]))return!1}return!0}function ES(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function MS(t,e){var n=ES(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ES(n)}}function eM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?eM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function tM(){for(var t=window,e=Gd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gd(t.document)}return e}function j0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function fA(t){var e=tM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&eM(n.ownerDocument.documentElement,n)){if(r!==null&&j0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=MS(n,i);var l=MS(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hA=is&&"documentMode"in document&&11>=document.documentMode,Go=null,vy=null,Ja=null,ky=!1;function TS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ky||Go==null||Go!==Gd(r)||(r=Go,"selectionStart"in r&&j0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ja&&pu(Ja,r)||(Ja=r,r=rf(vy,"onSelect"),0<r.length&&(e=new _0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Go)))}function ld(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yo={animationend:ld("Animation","AnimationEnd"),animationiteration:ld("Animation","AnimationIteration"),animationstart:ld("Animation","AnimationStart"),transitionend:ld("Transition","TransitionEnd")},Zm={},nM={};is&&(nM=document.createElement("div").style,"AnimationEvent"in window||(delete Yo.animationend.animation,delete Yo.animationiteration.animation,delete Yo.animationstart.animation),"TransitionEvent"in window||delete Yo.transitionend.transition);function bh(t){if(Zm[t])return Zm[t];if(!Yo[t])return t;var e=Yo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in nM)return Zm[t]=e[n];return t}var rM=bh("animationend"),sM=bh("animationiteration"),iM=bh("animationstart"),oM=bh("transitionend"),lM=new Map,NS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fi(t,e){lM.set(t,e),uo(e,[t])}for(var eg=0;eg<NS.length;eg++){var tg=NS[eg],pA=tg.toLowerCase(),mA=tg[0].toUpperCase()+tg.slice(1);fi(pA,"on"+mA)}fi(rM,"onAnimationEnd");fi(sM,"onAnimationIteration");fi(iM,"onAnimationStart");fi("dblclick","onDoubleClick");fi("focusin","onFocus");fi("focusout","onBlur");fi(oM,"onTransitionEnd");vl("onMouseEnter",["mouseout","mouseover"]);vl("onMouseLeave",["mouseout","mouseover"]);vl("onPointerEnter",["pointerout","pointerover"]);vl("onPointerLeave",["pointerout","pointerover"]);uo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));uo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));uo("onBeforeInput",["compositionend","keypress","textInput","paste"]);uo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));uo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function CS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,p3(r,e,void 0,t),t.currentTarget=null}function aM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==i&&s.isPropagationStopped())break e;CS(s,u,f),i=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==i&&s.isPropagationStopped())break e;CS(s,u,f),i=d}}}if(Xd)throw t=py,Xd=!1,py=null,t}function Pe(t,e){var n=e[Ey];n===void 0&&(n=e[Ey]=new Set);var r=t+"__bubble";n.has(r)||(uM(e,t,2,!1),n.add(r))}function ng(t,e,n){var r=0;e&&(r|=4),uM(n,t,r,e)}var ad="_reactListening"+Math.random().toString(36).slice(2);function mu(t){if(!t[ad]){t[ad]=!0,gE.forEach(function(n){n!=="selectionchange"&&(gA.has(n)||ng(n,!1,t),ng(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ad]||(e[ad]=!0,ng("selectionchange",!1,e))}}function uM(t,e,n,r){switch(JE(e)){case 1:var s=I3;break;case 4:s=A3;break;default:s=$0}n=s.bind(null,e,n,t),s=void 0,!hy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function rg(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=zi(u),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}u=u.parentNode}}r=r.return}PE(function(){var f=i,p=L0(n),m=[];e:{var y=lM.get(t);if(y!==void 0){var k=_0,w=t;switch(t){case"keypress":if(Dd(n)===0)break e;case"keydown":case"keyup":k=J3;break;case"focusin":w="focus",k=Gm;break;case"focusout":w="blur",k=Gm;break;case"beforeblur":case"afterblur":k=Gm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=gS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=L3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=K3;break;case rM:case sM:case iM:k=B3;break;case oM:k=Y3;break;case"scroll":k=P3;break;case"wheel":k=Z3;break;case"copy":case"cut":case"paste":k=F3;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=vS}var b=(e&4)!==0,T=!b&&t==="scroll",x=b?y!==null?y+"Capture":null:y;b=[];for(var E=f,N;E!==null;){N=E;var D=N.stateNode;if(N.tag===5&&D!==null&&(N=D,x!==null&&(D=uu(E,x),D!=null&&b.push(gu(E,D,N)))),T)break;E=E.return}0<b.length&&(y=new k(y,w,null,n,p),m.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&n!==dy&&(w=n.relatedTarget||n.fromElement)&&(zi(w)||w[ls]))break e;if((k||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,k?(w=n.relatedTarget||n.toElement,k=f,w=w?zi(w):null,w!==null&&(T=co(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(k=null,w=f),k!==w)){if(b=gS,D="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=vS,D="onPointerLeave",x="onPointerEnter",E="pointer"),T=k==null?y:Xo(k),N=w==null?y:Xo(w),y=new b(D,E+"leave",k,n,p),y.target=T,y.relatedTarget=N,D=null,zi(p)===f&&(b=new b(x,E+"enter",w,n,p),b.target=N,b.relatedTarget=T,D=b),T=D,k&&w)t:{for(b=k,x=w,E=0,N=b;N;N=Fo(N))E++;for(N=0,D=x;D;D=Fo(D))N++;for(;0<E-N;)b=Fo(b),E--;for(;0<N-E;)x=Fo(x),N--;for(;E--;){if(b===x||x!==null&&b===x.alternate)break t;b=Fo(b),x=Fo(x)}b=null}else b=null;k!==null&&OS(m,y,k,b,!1),w!==null&&T!==null&&OS(m,T,w,b,!0)}}e:{if(y=f?Xo(f):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var R=oA;else if(SS(y))if(XE)R=cA;else{R=aA;var L=lA}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=uA);if(R&&(R=R(t,f))){YE(m,R,n,p);break e}L&&L(t,y,f),t==="focusout"&&(L=y._wrapperState)&&L.controlled&&y.type==="number"&&oy(y,"number",y.value)}switch(L=f?Xo(f):window,t){case"focusin":(SS(L)||L.contentEditable==="true")&&(Go=L,vy=f,Ja=null);break;case"focusout":Ja=vy=Go=null;break;case"mousedown":ky=!0;break;case"contextmenu":case"mouseup":case"dragend":ky=!1,TS(m,n,p);break;case"selectionchange":if(hA)break;case"keydown":case"keyup":TS(m,n,p)}var B;if(V0)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Ko?KE(t,n)&&(J="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(qE&&n.locale!=="ko"&&(Ko||J!=="onCompositionStart"?J==="onCompositionEnd"&&Ko&&(B=QE()):(Us=p,F0="value"in Us?Us.value:Us.textContent,Ko=!0)),L=rf(f,J),0<L.length&&(J=new yS(J,t,null,n,p),m.push({event:J,listeners:L}),B?J.data=B:(B=GE(n),B!==null&&(J.data=B)))),(B=tA?nA(t,n):rA(t,n))&&(f=rf(f,"onBeforeInput"),0<f.length&&(p=new yS("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=B))}aM(m,e)})}function gu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function rf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=uu(t,n),i!=null&&r.unshift(gu(t,i,s)),i=uu(t,e),i!=null&&r.push(gu(t,i,s))),t=t.return}return r}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function OS(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,s?(d=uu(n,i),d!=null&&l.unshift(gu(n,d,u))):s||(d=uu(n,i),d!=null&&l.push(gu(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var yA=/\r\n?/g,vA=/\u0000|\uFFFD/g;function IS(t){return(typeof t=="string"?t:""+t).replace(yA,`
`).replace(vA,"")}function ud(t,e,n){if(e=IS(e),IS(t)!==e&&n)throw Error(j(425))}function sf(){}var wy=null,Sy=null;function by(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xy=typeof setTimeout=="function"?setTimeout:void 0,kA=typeof clearTimeout=="function"?clearTimeout:void 0,AS=typeof Promise=="function"?Promise:void 0,wA=typeof queueMicrotask=="function"?queueMicrotask:typeof AS<"u"?function(t){return AS.resolve(null).then(t).catch(SA)}:xy;function SA(t){setTimeout(function(){throw t})}function sg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),fu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);fu(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function PS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ll=Math.random().toString(36).slice(2),Ar="__reactFiber$"+Ll,yu="__reactProps$"+Ll,ls="__reactContainer$"+Ll,Ey="__reactEvents$"+Ll,bA="__reactListeners$"+Ll,xA="__reactHandles$"+Ll;function zi(t){var e=t[Ar];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Ar]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=PS(t);t!==null;){if(n=t[Ar])return n;t=PS(t)}return e}t=n,n=t.parentNode}return null}function $u(t){return t=t[Ar]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function xh(t){return t[yu]||null}var My=[],Zo=-1;function hi(t){return{current:t}}function De(t){0>Zo||(t.current=My[Zo],My[Zo]=null,Zo--)}function Oe(t,e){Zo++,My[Zo]=t.current,t.current=e}var ui={},$t=hi(ui),un=hi(!1),eo=ui;function kl(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function cn(t){return t=t.childContextTypes,t!=null}function of(){De(un),De($t)}function DS(t,e,n){if($t.current!==ui)throw Error(j(168));Oe($t,e),Oe(un,n)}function cM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,l3(t)||"Unknown",s));return We({},n,r)}function lf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,eo=$t.current,Oe($t,t),Oe(un,un.current),!0}function LS(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=cM(t,e,eo),r.__reactInternalMemoizedMergedChildContext=t,De(un),De($t),Oe($t,t)):De(un),Oe(un,n)}var es=null,Eh=!1,ig=!1;function dM(t){es===null?es=[t]:es.push(t)}function EA(t){Eh=!0,dM(t)}function pi(){if(!ig&&es!==null){ig=!0;var t=0,e=be;try{var n=es;for(be=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,Eh=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),RE(z0,pi),s}finally{be=e,ig=!1}}return null}var el=[],tl=0,af=null,uf=0,jn=[],Wn=0,to=null,ts=1,ns="";function Pi(t,e){el[tl++]=uf,el[tl++]=af,af=t,uf=e}function fM(t,e,n){jn[Wn++]=ts,jn[Wn++]=ns,jn[Wn++]=to,to=t;var r=ts;t=ns;var s=32-pr(r)-1;r&=~(1<<s),n+=1;var i=32-pr(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,ts=1<<32-pr(e)+s|n<<s|r,ns=i+t}else ts=1<<i|n<<s|r,ns=t}function W0(t){t.return!==null&&(Pi(t,1),fM(t,1,0))}function U0(t){for(;t===af;)af=el[--tl],el[tl]=null,uf=el[--tl],el[tl]=null;for(;t===to;)to=jn[--Wn],jn[Wn]=null,ns=jn[--Wn],jn[Wn]=null,ts=jn[--Wn],jn[Wn]=null}var On=null,Nn=null,Re=!1,ur=null;function hM(t,e){var n=Un(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,On=t,Nn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,On=t,Nn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=to!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Un(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,On=t,Nn=null,!0):!1;default:return!1}}function Ty(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ny(t){if(Re){var e=Nn;if(e){var n=e;if(!zS(t,e)){if(Ty(t))throw Error(j(418));e=Zs(n.nextSibling);var r=On;e&&zS(t,e)?hM(r,n):(t.flags=t.flags&-4097|2,Re=!1,On=t)}}else{if(Ty(t))throw Error(j(418));t.flags=t.flags&-4097|2,Re=!1,On=t}}}function RS(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;On=t}function cd(t){if(t!==On)return!1;if(!Re)return RS(t),Re=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!by(t.type,t.memoizedProps)),e&&(e=Nn)){if(Ty(t))throw pM(),Error(j(418));for(;e;)hM(t,e),e=Zs(e.nextSibling)}if(RS(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nn=Zs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nn=null}}else Nn=On?Zs(t.stateNode.nextSibling):null;return!0}function pM(){for(var t=Nn;t;)t=Zs(t.nextSibling)}function wl(){Nn=On=null,Re=!1}function J0(t){ur===null?ur=[t]:ur.push(t)}var MA=ds.ReactCurrentBatchConfig;function lr(t,e){if(t&&t.defaultProps){e=We({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cf=hi(null),df=null,nl=null,Q0=null;function q0(){Q0=nl=df=null}function K0(t){var e=cf.current;De(cf),t._currentValue=e}function Cy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function dl(t,e){df=t,Q0=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function qn(t){var e=t._currentValue;if(Q0!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(df===null)throw Error(j(308));nl=t,df.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Ri=null;function G0(t){Ri===null?Ri=[t]:Ri.push(t)}function mM(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,G0(e)):(n.next=s.next,s.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rs=!1;function Y0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ve&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,as(t,n)}return s=r.interleaved,s===null?(e.next=e,G0(r)):(e.next=s.next,s.next=e),r.interleaved=e,as(t,n)}function Ld(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}function BS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ff(t,e,n,r){var s=t.updateQueue;Rs=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?i=f:l.next=f,l=d;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;l=0,p=f=d=null,u=i;do{var y=u.lane,k=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:k,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,b=u;switch(y=e,k=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){m=w.call(k,m,y);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,y=typeof w=="function"?w.call(k,m,y):w,y==null)break e;m=We({},m,y);break e;case 2:Rs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[u]:y.push(u))}else k={eventTime:k,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=k,d=m):p=p.next=k,l|=y;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;y=u,u=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(d=m),s.baseState=d,s.firstBaseUpdate=f,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ro|=l,t.lanes=l,t.memoizedState=m}}function $S(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var yM=new mE.Component().refs;function Oy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:We({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Mh={isMounted:function(t){return(t=t._reactInternals)?co(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=rs(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(mr(e,t,s,r),Ld(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Jt(),s=ni(t),i=rs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(mr(e,t,s,r),Ld(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Jt(),r=ni(t),s=rs(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(mr(e,t,r,n),Ld(e,t,r))}};function FS(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!pu(n,r)||!pu(s,i):!0}function vM(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=qn(i):(s=cn(e)?eo:$t.current,r=e.contextTypes,i=(r=r!=null)?kl(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Mh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function _S(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Mh.enqueueReplaceState(e,e.state,null)}function Iy(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=yM,Y0(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=qn(i):(i=cn(e)?eo:$t.current,s.context=kl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Oy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Mh.enqueueReplaceState(s,s.state,null),ff(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=s.refs;u===yM&&(u=s.refs={}),l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function dd(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function HS(t){var e=t._init;return e(t._payload)}function kM(t){function e(x,E){if(t){var N=x.deletions;N===null?(x.deletions=[E],x.flags|=16):N.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function s(x,E){return x=ri(x,E),x.index=0,x.sibling=null,x}function i(x,E,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<E?(x.flags|=2,E):N):(x.flags|=2,E)):(x.flags|=1048576,E)}function l(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,E,N,D){return E===null||E.tag!==6?(E=fg(N,x.mode,D),E.return=x,E):(E=s(E,N),E.return=x,E)}function d(x,E,N,D){var R=N.type;return R===qo?p(x,E,N.props.children,D,N.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zs&&HS(R)===E.type)?(D=s(E,N.props),D.ref=Ca(x,E,N),D.return=x,D):(D=_d(N.type,N.key,N.props,null,x.mode,D),D.ref=Ca(x,E,N),D.return=x,D)}function f(x,E,N,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=hg(N,x.mode,D),E.return=x,E):(E=s(E,N.children||[]),E.return=x,E)}function p(x,E,N,D,R){return E===null||E.tag!==7?(E=Qi(N,x.mode,D,R),E.return=x,E):(E=s(E,N),E.return=x,E)}function m(x,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=fg(""+E,x.mode,N),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case ed:return N=_d(E.type,E.key,E.props,null,x.mode,N),N.ref=Ca(x,null,E),N.return=x,N;case Qo:return E=hg(E,x.mode,N),E.return=x,E;case zs:var D=E._init;return m(x,D(E._payload),N)}if(La(E)||xa(E))return E=Qi(E,x.mode,N,null),E.return=x,E;dd(x,E)}return null}function y(x,E,N,D){var R=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:u(x,E,""+N,D);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case ed:return N.key===R?d(x,E,N,D):null;case Qo:return N.key===R?f(x,E,N,D):null;case zs:return R=N._init,y(x,E,R(N._payload),D)}if(La(N)||xa(N))return R!==null?null:p(x,E,N,D,null);dd(x,N)}return null}function k(x,E,N,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(N)||null,u(E,x,""+D,R);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ed:return x=x.get(D.key===null?N:D.key)||null,d(E,x,D,R);case Qo:return x=x.get(D.key===null?N:D.key)||null,f(E,x,D,R);case zs:var L=D._init;return k(x,E,N,L(D._payload),R)}if(La(D)||xa(D))return x=x.get(N)||null,p(E,x,D,R,null);dd(E,D)}return null}function w(x,E,N,D){for(var R=null,L=null,B=E,J=E=0,K=null;B!==null&&J<N.length;J++){B.index>J?(K=B,B=null):K=B.sibling;var se=y(x,B,N[J],D);if(se===null){B===null&&(B=K);break}t&&B&&se.alternate===null&&e(x,B),E=i(se,E,J),L===null?R=se:L.sibling=se,L=se,B=K}if(J===N.length)return n(x,B),Re&&Pi(x,J),R;if(B===null){for(;J<N.length;J++)B=m(x,N[J],D),B!==null&&(E=i(B,E,J),L===null?R=B:L.sibling=B,L=B);return Re&&Pi(x,J),R}for(B=r(x,B);J<N.length;J++)K=k(B,x,J,N[J],D),K!==null&&(t&&K.alternate!==null&&B.delete(K.key===null?J:K.key),E=i(K,E,J),L===null?R=K:L.sibling=K,L=K);return t&&B.forEach(function(Te){return e(x,Te)}),Re&&Pi(x,J),R}function b(x,E,N,D){var R=xa(N);if(typeof R!="function")throw Error(j(150));if(N=R.call(N),N==null)throw Error(j(151));for(var L=R=null,B=E,J=E=0,K=null,se=N.next();B!==null&&!se.done;J++,se=N.next()){B.index>J?(K=B,B=null):K=B.sibling;var Te=y(x,B,se.value,D);if(Te===null){B===null&&(B=K);break}t&&B&&Te.alternate===null&&e(x,B),E=i(Te,E,J),L===null?R=Te:L.sibling=Te,L=Te,B=K}if(se.done)return n(x,B),Re&&Pi(x,J),R;if(B===null){for(;!se.done;J++,se=N.next())se=m(x,se.value,D),se!==null&&(E=i(se,E,J),L===null?R=se:L.sibling=se,L=se);return Re&&Pi(x,J),R}for(B=r(x,B);!se.done;J++,se=N.next())se=k(B,x,J,se.value,D),se!==null&&(t&&se.alternate!==null&&B.delete(se.key===null?J:se.key),E=i(se,E,J),L===null?R=se:L.sibling=se,L=se);return t&&B.forEach(function(ut){return e(x,ut)}),Re&&Pi(x,J),R}function T(x,E,N,D){if(typeof N=="object"&&N!==null&&N.type===qo&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case ed:e:{for(var R=N.key,L=E;L!==null;){if(L.key===R){if(R=N.type,R===qo){if(L.tag===7){n(x,L.sibling),E=s(L,N.props.children),E.return=x,x=E;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zs&&HS(R)===L.type){n(x,L.sibling),E=s(L,N.props),E.ref=Ca(x,L,N),E.return=x,x=E;break e}n(x,L);break}else e(x,L);L=L.sibling}N.type===qo?(E=Qi(N.props.children,x.mode,D,N.key),E.return=x,x=E):(D=_d(N.type,N.key,N.props,null,x.mode,D),D.ref=Ca(x,E,N),D.return=x,x=D)}return l(x);case Qo:e:{for(L=N.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){n(x,E.sibling),E=s(E,N.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=hg(N,x.mode,D),E.return=x,x=E}return l(x);case zs:return L=N._init,T(x,E,L(N._payload),D)}if(La(N))return w(x,E,N,D);if(xa(N))return b(x,E,N,D);dd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(n(x,E.sibling),E=s(E,N),E.return=x,x=E):(n(x,E),E=fg(N,x.mode,D),E.return=x,x=E),l(x)):n(x,E)}return T}var Sl=kM(!0),wM=kM(!1),Fu={},Rr=hi(Fu),vu=hi(Fu),ku=hi(Fu);function Bi(t){if(t===Fu)throw Error(j(174));return t}function X0(t,e){switch(Oe(ku,e),Oe(vu,t),Oe(Rr,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ay(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ay(e,t)}De(Rr),Oe(Rr,e)}function bl(){De(Rr),De(vu),De(ku)}function SM(t){Bi(ku.current);var e=Bi(Rr.current),n=ay(e,t.type);e!==n&&(Oe(vu,t),Oe(Rr,n))}function Z0(t){vu.current===t&&(De(Rr),De(vu))}var He=hi(0);function hf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var og=[];function ev(){for(var t=0;t<og.length;t++)og[t]._workInProgressVersionPrimary=null;og.length=0}var zd=ds.ReactCurrentDispatcher,lg=ds.ReactCurrentBatchConfig,no=0,je=null,lt=null,ht=null,pf=!1,Qa=!1,wu=0,TA=0;function Dt(){throw Error(j(321))}function tv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!yr(t[n],e[n]))return!1;return!0}function nv(t,e,n,r,s,i){if(no=i,je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,zd.current=t===null||t.memoizedState===null?IA:AA,t=n(r,s),Qa){i=0;do{if(Qa=!1,wu=0,25<=i)throw Error(j(301));i+=1,ht=lt=null,e.updateQueue=null,zd.current=PA,t=n(r,s)}while(Qa)}if(zd.current=mf,e=lt!==null&&lt.next!==null,no=0,ht=lt=je=null,pf=!1,e)throw Error(j(300));return t}function rv(){var t=wu!==0;return wu=0,t}function Mr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?je.memoizedState=ht=t:ht=ht.next=t,ht}function Kn(){if(lt===null){var t=je.alternate;t=t!==null?t.memoizedState:null}else t=lt.next;var e=ht===null?je.memoizedState:ht.next;if(e!==null)ht=e,lt=t;else{if(t===null)throw Error(j(310));lt=t,t={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?je.memoizedState=ht=t:ht=ht.next=t}return ht}function Su(t,e){return typeof e=="function"?e(t):e}function ag(t){var e=Kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=lt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=l=null,d=null,f=i;do{var p=f.lane;if((no&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,l=r):d=d.next=m,je.lanes|=p,ro|=p}f=f.next}while(f!==null&&f!==i);d===null?l=r:d.next=u,yr(r,e.memoizedState)||(an=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,je.lanes|=i,ro|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ug(t){var e=Kn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);yr(i,e.memoizedState)||(an=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bM(){}function xM(t,e){var n=je,r=Kn(),s=e(),i=!yr(r.memoizedState,s);if(i&&(r.memoizedState=s,an=!0),r=r.queue,sv(TM.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,bu(9,MM.bind(null,n,r,s,e),void 0,null),pt===null)throw Error(j(349));no&30||EM(n,e,s)}return s}function EM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function MM(t,e,n,r){e.value=n,e.getSnapshot=r,NM(e)&&CM(t)}function TM(t,e,n){return n(function(){NM(e)&&CM(t)})}function NM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!yr(t,n)}catch{return!0}}function CM(t){var e=as(t,1);e!==null&&mr(e,t,1,-1)}function VS(t){var e=Mr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Su,lastRenderedState:t},e.queue=t,t=t.dispatch=OA.bind(null,je,t),[e.memoizedState,t]}function bu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=je.updateQueue,e===null?(e={lastEffect:null,stores:null},je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function OM(){return Kn().memoizedState}function Rd(t,e,n,r){var s=Mr();je.flags|=t,s.memoizedState=bu(1|e,n,void 0,r===void 0?null:r)}function Th(t,e,n,r){var s=Kn();r=r===void 0?null:r;var i=void 0;if(lt!==null){var l=lt.memoizedState;if(i=l.destroy,r!==null&&tv(r,l.deps)){s.memoizedState=bu(e,n,i,r);return}}je.flags|=t,s.memoizedState=bu(1|e,n,i,r)}function jS(t,e){return Rd(8390656,8,t,e)}function sv(t,e){return Th(2048,8,t,e)}function IM(t,e){return Th(4,2,t,e)}function AM(t,e){return Th(4,4,t,e)}function PM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DM(t,e,n){return n=n!=null?n.concat([t]):null,Th(4,4,PM.bind(null,e,t),n)}function iv(){}function LM(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function zM(t,e){var n=Kn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&tv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function RM(t,e,n){return no&21?(yr(n,e)||(n=FE(),je.lanes|=n,ro|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=n)}function NA(t,e){var n=be;be=n!==0&&4>n?n:4,t(!0);var r=lg.transition;lg.transition={};try{t(!1),e()}finally{be=n,lg.transition=r}}function BM(){return Kn().memoizedState}function CA(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$M(t))FM(e,n);else if(n=mM(t,e,n,r),n!==null){var s=Jt();mr(n,t,r,s),_M(n,e,r)}}function OA(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($M(t))FM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(s.hasEagerState=!0,s.eagerState=u,yr(u,l)){var d=e.interleaved;d===null?(s.next=s,G0(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=mM(t,e,s,r),n!==null&&(s=Jt(),mr(n,t,r,s),_M(n,e,r))}}function $M(t){var e=t.alternate;return t===je||e!==null&&e===je}function FM(t,e){Qa=pf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function _M(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,R0(t,n)}}var mf={readContext:qn,useCallback:Dt,useContext:Dt,useEffect:Dt,useImperativeHandle:Dt,useInsertionEffect:Dt,useLayoutEffect:Dt,useMemo:Dt,useReducer:Dt,useRef:Dt,useState:Dt,useDebugValue:Dt,useDeferredValue:Dt,useTransition:Dt,useMutableSource:Dt,useSyncExternalStore:Dt,useId:Dt,unstable_isNewReconciler:!1},IA={readContext:qn,useCallback:function(t,e){return Mr().memoizedState=[t,e===void 0?null:e],t},useContext:qn,useEffect:jS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rd(4194308,4,PM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rd(4,2,t,e)},useMemo:function(t,e){var n=Mr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Mr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=CA.bind(null,je,t),[r.memoizedState,t]},useRef:function(t){var e=Mr();return t={current:t},e.memoizedState=t},useState:VS,useDebugValue:iv,useDeferredValue:function(t){return Mr().memoizedState=t},useTransition:function(){var t=VS(!1),e=t[0];return t=NA.bind(null,t[1]),Mr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=je,s=Mr();if(Re){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),pt===null)throw Error(j(349));no&30||EM(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,jS(TM.bind(null,r,i,t),[t]),r.flags|=2048,bu(9,MM.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Mr(),e=pt.identifierPrefix;if(Re){var n=ns,r=ts;n=(r&~(1<<32-pr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=TA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},AA={readContext:qn,useCallback:LM,useContext:qn,useEffect:sv,useImperativeHandle:DM,useInsertionEffect:IM,useLayoutEffect:AM,useMemo:zM,useReducer:ag,useRef:OM,useState:function(){return ag(Su)},useDebugValue:iv,useDeferredValue:function(t){var e=Kn();return RM(e,lt.memoizedState,t)},useTransition:function(){var t=ag(Su)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:xM,useId:BM,unstable_isNewReconciler:!1},PA={readContext:qn,useCallback:LM,useContext:qn,useEffect:sv,useImperativeHandle:DM,useInsertionEffect:IM,useLayoutEffect:AM,useMemo:zM,useReducer:ug,useRef:OM,useState:function(){return ug(Su)},useDebugValue:iv,useDeferredValue:function(t){var e=Kn();return lt===null?e.memoizedState=t:RM(e,lt.memoizedState,t)},useTransition:function(){var t=ug(Su)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:bM,useSyncExternalStore:xM,useId:BM,unstable_isNewReconciler:!1};function xl(t,e){try{var n="",r=e;do n+=o3(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function cg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ay(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var DA=typeof WeakMap=="function"?WeakMap:Map;function HM(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yf||(yf=!0,Hy=r),Ay(t,e)},n}function VM(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ay(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ay(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function WS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new DA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=QA.bind(null,t,e,n),e.then(t,t))}function US(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function JS(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var LA=ds.ReactCurrentOwner,an=!1;function Wt(t,e,n,r){e.child=t===null?wM(e,null,n,r):Sl(e,t.child,n,r)}function QS(t,e,n,r,s){n=n.render;var i=e.ref;return dl(e,s),r=nv(t,e,n,r,i,s),n=rv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(Re&&n&&W0(e),e.flags|=1,Wt(t,e,r,s),e.child)}function qS(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!hv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,jM(t,e,i,r,s)):(t=_d(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:pu,n(l,r)&&t.ref===e.ref)return us(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function jM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(pu(i,r)&&t.ref===e.ref)if(an=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,us(t,e,s)}return Py(t,e,n,r,s)}function WM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(sl,Sn),Sn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Oe(sl,Sn),Sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Oe(sl,Sn),Sn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Oe(sl,Sn),Sn|=r;return Wt(t,e,s,n),e.child}function UM(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Py(t,e,n,r,s){var i=cn(n)?eo:$t.current;return i=kl(e,i),dl(e,s),n=nv(t,e,n,r,i,s),r=rv(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(Re&&r&&W0(e),e.flags|=1,Wt(t,e,n,s),e.child)}function KS(t,e,n,r,s){if(cn(n)){var i=!0;lf(e)}else i=!1;if(dl(e,s),e.stateNode===null)Bd(t,e),vM(e,n,r),Iy(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=qn(f):(f=cn(n)?eo:$t.current,f=kl(e,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==f)&&_S(e,l,r,f),Rs=!1;var y=e.memoizedState;l.state=y,ff(e,r,l,s),d=e.memoizedState,u!==r||y!==d||un.current||Rs?(typeof p=="function"&&(Oy(e,n,p,r),d=e.memoizedState),(u=Rs||FS(e,n,u,r,y,d,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,gM(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:lr(e.type,u),l.props=f,m=e.pendingProps,y=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=qn(d):(d=cn(n)?eo:$t.current,d=kl(e,d));var k=n.getDerivedStateFromProps;(p=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||y!==d)&&_S(e,l,r,d),Rs=!1,y=e.memoizedState,l.state=y,ff(e,r,l,s);var w=e.memoizedState;u!==m||y!==w||un.current||Rs?(typeof k=="function"&&(Oy(e,n,k,r),w=e.memoizedState),(f=Rs||FS(e,n,f,r,y,w,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),l.props=r,l.state=w,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return Dy(t,e,n,r,i,s)}function Dy(t,e,n,r,s,i){UM(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&LS(e,n,!1),us(t,e,i);r=e.stateNode,LA.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=Sl(e,t.child,null,i),e.child=Sl(e,null,u,i)):Wt(t,e,u,i),e.memoizedState=r.state,s&&LS(e,n,!0),e.child}function JM(t){var e=t.stateNode;e.pendingContext?DS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&DS(t,e.context,!1),X0(t,e.containerInfo)}function GS(t,e,n,r,s){return wl(),J0(s),e.flags|=256,Wt(t,e,n,r),e.child}var Ly={dehydrated:null,treeContext:null,retryLane:0};function zy(t){return{baseLanes:t,cachePool:null,transitions:null}}function QM(t,e,n){var r=e.pendingProps,s=He.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Oe(He,s&1),t===null)return Ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Oh(l,r,0,null),t=Qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zy(n),e.memoizedState=Ly,t):ov(e,l));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return zA(t,e,l,r,u,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ri(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=ri(u,i):(i=Qi(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?zy(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Ly,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ov(t,e){return e=Oh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fd(t,e,n,r){return r!==null&&J0(r),Sl(e,t.child,null,n),t=ov(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zA(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=cg(Error(j(422))),fd(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Oh({mode:"visible",children:r.children},s,0,null),i=Qi(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Sl(e,t.child,null,l),e.child.memoizedState=zy(l),e.memoizedState=Ly,i);if(!(e.mode&1))return fd(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(j(419)),r=cg(i,r,void 0),fd(t,e,l,r)}if(u=(l&t.childLanes)!==0,an||u){if(r=pt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,as(t,s),mr(r,t,s,-1))}return fv(),r=cg(Error(j(421))),fd(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=qA.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Nn=Zs(s.nextSibling),On=e,Re=!0,ur=null,t!==null&&(jn[Wn++]=ts,jn[Wn++]=ns,jn[Wn++]=to,ts=t.id,ns=t.overflow,to=e),e=ov(e,r.children),e.flags|=4096,e)}function YS(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cy(t.return,e,n)}function dg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function qM(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Wt(t,e,r.children,n),r=He.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&YS(t,n,e);else if(t.tag===19)YS(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Oe(He,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),dg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}dg(e,!0,n,null,i);break;case"together":dg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ro|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function RA(t,e,n){switch(e.tag){case 3:JM(e),wl();break;case 5:SM(e);break;case 1:cn(e.type)&&lf(e);break;case 4:X0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Oe(cf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Oe(He,He.current&1),e.flags|=128,null):n&e.child.childLanes?QM(t,e,n):(Oe(He,He.current&1),t=us(t,e,n),t!==null?t.sibling:null);Oe(He,He.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return qM(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Oe(He,He.current),r)break;return null;case 22:case 23:return e.lanes=0,WM(t,e,n)}return us(t,e,n)}var KM,Ry,GM,YM;KM=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ry=function(){};GM=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bi(Rr.current);var i=null;switch(n){case"input":s=sy(t,s),r=sy(t,r),i=[];break;case"select":s=We({},s,{value:void 0}),r=We({},r,{value:void 0}),i=[];break;case"textarea":s=ly(t,s),r=ly(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=sf)}uy(n,r);var l;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var u=s[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(lu.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var d=r[f];if(u=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(lu.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Pe("scroll",t),i||u===d||(i=[])):(i=i||[]).push(f,d))}n&&(i=i||[]).push("style",n);var f=i;(e.updateQueue=f)&&(e.flags|=4)}};YM=function(t,e,n,r){n!==r&&(e.flags|=4)};function Oa(t,e){if(!Re)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Lt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function BA(t,e,n){var r=e.pendingProps;switch(U0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(e),null;case 1:return cn(e.type)&&of(),Lt(e),null;case 3:return r=e.stateNode,bl(),De(un),De($t),ev(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(cd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ur!==null&&(Wy(ur),ur=null))),Ry(t,e),Lt(e),null;case 5:Z0(e);var s=Bi(ku.current);if(n=e.type,t!==null&&e.stateNode!=null)GM(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return Lt(e),null}if(t=Bi(Rr.current),cd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ar]=e,r[yu]=i,t=(e.mode&1)!==0,n){case"dialog":Pe("cancel",r),Pe("close",r);break;case"iframe":case"object":case"embed":Pe("load",r);break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],r);break;case"source":Pe("error",r);break;case"img":case"image":case"link":Pe("error",r),Pe("load",r);break;case"details":Pe("toggle",r);break;case"input":oS(r,i),Pe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Pe("invalid",r);break;case"textarea":aS(r,i),Pe("invalid",r)}uy(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&ud(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&ud(r.textContent,u,t),s=["children",""+u]):lu.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Pe("scroll",r)}switch(n){case"input":td(r),lS(r,i,!0);break;case"textarea":td(r),uS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=sf)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=EE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Ar]=e,t[yu]=r,KM(t,e,!1,!1),e.stateNode=t;e:{switch(l=cy(n,r),n){case"dialog":Pe("cancel",t),Pe("close",t),s=r;break;case"iframe":case"object":case"embed":Pe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ra.length;s++)Pe(Ra[s],t);s=r;break;case"source":Pe("error",t),s=r;break;case"img":case"image":case"link":Pe("error",t),Pe("load",t),s=r;break;case"details":Pe("toggle",t),s=r;break;case"input":oS(t,r),s=sy(t,r),Pe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=We({},r,{value:void 0}),Pe("invalid",t);break;case"textarea":aS(t,r),s=ly(t,r),Pe("invalid",t);break;default:s=r}uy(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?NE(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&ME(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&au(t,d):typeof d=="number"&&au(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(lu.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Pe("scroll",t):d!=null&&I0(t,i,d,l))}switch(n){case"input":td(t),lS(t,r,!1);break;case"textarea":td(t),uS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ll(t,!!r.multiple,i,!1):r.defaultValue!=null&&ll(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=sf)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Lt(e),null;case 6:if(t&&e.stateNode!=null)YM(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=Bi(ku.current),Bi(Rr.current),cd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ar]=e,(i=r.nodeValue!==n)&&(t=On,t!==null))switch(t.tag){case 3:ud(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ud(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ar]=e,e.stateNode=r}return Lt(e),null;case 13:if(De(He),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Re&&Nn!==null&&e.mode&1&&!(e.flags&128))pM(),wl(),e.flags|=98560,i=!1;else if(i=cd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Ar]=e}else wl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Lt(e),i=!1}else ur!==null&&(Wy(ur),ur=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||He.current&1?at===0&&(at=3):fv())),e.updateQueue!==null&&(e.flags|=4),Lt(e),null);case 4:return bl(),Ry(t,e),t===null&&mu(e.stateNode.containerInfo),Lt(e),null;case 10:return K0(e.type._context),Lt(e),null;case 17:return cn(e.type)&&of(),Lt(e),null;case 19:if(De(He),i=e.memoizedState,i===null)return Lt(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Oa(i,!1);else{if(at!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=hf(t),l!==null){for(e.flags|=128,Oa(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Oe(He,He.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ye()>El&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304)}else{if(!r)if(t=hf(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Oa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!Re)return Lt(e),null}else 2*Ye()-i.renderingStartTime>El&&n!==1073741824&&(e.flags|=128,r=!0,Oa(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ye(),e.sibling=null,n=He.current,Oe(He,r?n&1|2:n&1),e):(Lt(e),null);case 22:case 23:return dv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Sn&1073741824&&(Lt(e),e.subtreeFlags&6&&(e.flags|=8192)):Lt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function $A(t,e){switch(U0(e),e.tag){case 1:return cn(e.type)&&of(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return bl(),De(un),De($t),ev(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Z0(e),null;case 13:if(De(He),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));wl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return De(He),null;case 4:return bl(),null;case 10:return K0(e.type._context),null;case 22:case 23:return dv(),null;case 24:return null;default:return null}}var hd=!1,Rt=!1,FA=typeof WeakSet=="function"?WeakSet:Set,X=null;function rl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(t,e,r)}else n.current=null}function By(t,e,n){try{n()}catch(r){Je(t,e,r)}}var XS=!1;function _A(t,e){if(wy=tf,t=tM(),j0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,p=0,m=t,y=null;t:for(;;){for(var k;m!==n||s!==0&&m.nodeType!==3||(u=l+s),m!==i||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(k=m.firstChild)!==null;)y=m,m=k;for(;;){if(m===t)break t;if(y===n&&++f===s&&(u=l),y===i&&++p===r&&(d=l),(k=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=k}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(Sy={focusedElem:t,selectionRange:n},tf=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,T=w.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:lr(e.type,b),T);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(D){Je(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=XS,XS=!1,w}function qa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&By(e,n,i)}s=s.next}while(s!==r)}}function Nh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function $y(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function XM(t){var e=t.alternate;e!==null&&(t.alternate=null,XM(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ar],delete e[yu],delete e[Ey],delete e[bA],delete e[xA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function ZM(t){return t.tag===5||t.tag===3||t.tag===4}function ZS(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||ZM(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Fy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=sf));else if(r!==4&&(t=t.child,t!==null))for(Fy(t,e,n),t=t.sibling;t!==null;)Fy(t,e,n),t=t.sibling}function _y(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(_y(t,e,n),t=t.sibling;t!==null;)_y(t,e,n),t=t.sibling}var bt=null,ar=!1;function Ps(t,e,n){for(n=n.child;n!==null;)eT(t,e,n),n=n.sibling}function eT(t,e,n){if(zr&&typeof zr.onCommitFiberUnmount=="function")try{zr.onCommitFiberUnmount(kh,n)}catch{}switch(n.tag){case 5:Rt||rl(n,e);case 6:var r=bt,s=ar;bt=null,Ps(t,e,n),bt=r,ar=s,bt!==null&&(ar?(t=bt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bt.removeChild(n.stateNode));break;case 18:bt!==null&&(ar?(t=bt,n=n.stateNode,t.nodeType===8?sg(t.parentNode,n):t.nodeType===1&&sg(t,n),fu(t)):sg(bt,n.stateNode));break;case 4:r=bt,s=ar,bt=n.stateNode.containerInfo,ar=!0,Ps(t,e,n),bt=r,ar=s;break;case 0:case 11:case 14:case 15:if(!Rt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&By(n,e,l),s=s.next}while(s!==r)}Ps(t,e,n);break;case 1:if(!Rt&&(rl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Je(n,e,u)}Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:n.mode&1?(Rt=(r=Rt)||n.memoizedState!==null,Ps(t,e,n),Rt=r):Ps(t,e,n);break;default:Ps(t,e,n)}}function eb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new FA),e.forEach(function(r){var s=KA.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function or(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:bt=u.stateNode,ar=!1;break e;case 3:bt=u.stateNode.containerInfo,ar=!0;break e;case 4:bt=u.stateNode.containerInfo,ar=!0;break e}u=u.return}if(bt===null)throw Error(j(160));eT(i,l,s),bt=null,ar=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(f){Je(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)tT(e,t),e=e.sibling}function tT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(or(e,t),Er(t),r&4){try{qa(3,t,t.return),Nh(3,t)}catch(b){Je(t,t.return,b)}try{qa(5,t,t.return)}catch(b){Je(t,t.return,b)}}break;case 1:or(e,t),Er(t),r&512&&n!==null&&rl(n,n.return);break;case 5:if(or(e,t),Er(t),r&512&&n!==null&&rl(n,n.return),t.flags&32){var s=t.stateNode;try{au(s,"")}catch(b){Je(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&bE(s,i),cy(u,l);var f=cy(u,i);for(l=0;l<d.length;l+=2){var p=d[l],m=d[l+1];p==="style"?NE(s,m):p==="dangerouslySetInnerHTML"?ME(s,m):p==="children"?au(s,m):I0(s,p,m,f)}switch(u){case"input":iy(s,i);break;case"textarea":xE(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var k=i.value;k!=null?ll(s,!!i.multiple,k,!1):y!==!!i.multiple&&(i.defaultValue!=null?ll(s,!!i.multiple,i.defaultValue,!0):ll(s,!!i.multiple,i.multiple?[]:"",!1))}s[yu]=i}catch(b){Je(t,t.return,b)}}break;case 6:if(or(e,t),Er(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){Je(t,t.return,b)}}break;case 3:if(or(e,t),Er(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{fu(e.containerInfo)}catch(b){Je(t,t.return,b)}break;case 4:or(e,t),Er(t);break;case 13:or(e,t),Er(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uv=Ye())),r&4&&eb(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Rt=(f=Rt)||p,or(e,t),Rt=f):or(e,t),Er(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(X=t,p=t.child;p!==null;){for(m=X=p;X!==null;){switch(y=X,k=y.child,y.tag){case 0:case 11:case 14:case 15:qa(4,y,y.return);break;case 1:rl(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){Je(r,n,b)}}break;case 5:rl(y,y.return);break;case 22:if(y.memoizedState!==null){nb(m);continue}}k!==null?(k.return=y,X=k):nb(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,f?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=TE("display",l))}catch(b){Je(t,t.return,b)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(b){Je(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:or(e,t),Er(t),r&4&&eb(t);break;case 21:break;default:or(e,t),Er(t)}}function Er(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(ZM(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(au(s,""),r.flags&=-33);var i=ZS(t);_y(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=ZS(t);Fy(t,u,l);break;default:throw Error(j(161))}}catch(d){Je(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function HA(t,e,n){X=t,nT(t)}function nT(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||hd;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||Rt;u=hd;var f=Rt;if(hd=l,(Rt=d)&&!f)for(X=s;X!==null;)l=X,d=l.child,l.tag===22&&l.memoizedState!==null?rb(s):d!==null?(d.return=l,X=d):rb(s);for(;i!==null;)X=i,nT(i),i=i.sibling;X=s,hd=u,Rt=f}tb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):tb(t)}}function tb(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Rt||Nh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Rt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:lr(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&$S(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}$S(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&fu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Rt||e.flags&512&&$y(e)}catch(y){Je(e,e.return,y)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function nb(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function rb(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nh(4,e)}catch(d){Je(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Je(e,s,d)}}var i=e.return;try{$y(e)}catch(d){Je(e,i,d)}break;case 5:var l=e.return;try{$y(e)}catch(d){Je(e,l,d)}}}catch(d){Je(e,e.return,d)}if(e===t){X=null;break}var u=e.sibling;if(u!==null){u.return=e.return,X=u;break}X=e.return}}var VA=Math.ceil,gf=ds.ReactCurrentDispatcher,lv=ds.ReactCurrentOwner,Jn=ds.ReactCurrentBatchConfig,ve=0,pt=null,Ze=null,Tt=0,Sn=0,sl=hi(0),at=0,xu=null,ro=0,Ch=0,av=0,Ka=null,on=null,uv=0,El=1/0,Xr=null,yf=!1,Hy=null,ti=null,pd=!1,Js=null,vf=0,Ga=0,Vy=null,$d=-1,Fd=0;function Jt(){return ve&6?Ye():$d!==-1?$d:$d=Ye()}function ni(t){return t.mode&1?ve&2&&Tt!==0?Tt&-Tt:MA.transition!==null?(Fd===0&&(Fd=FE()),Fd):(t=be,t!==0||(t=window.event,t=t===void 0?16:JE(t.type)),t):1}function mr(t,e,n,r){if(50<Ga)throw Ga=0,Vy=null,Error(j(185));Ru(t,n,r),(!(ve&2)||t!==pt)&&(t===pt&&(!(ve&2)&&(Ch|=n),at===4&&Vs(t,Tt)),dn(t,r),n===1&&ve===0&&!(e.mode&1)&&(El=Ye()+500,Eh&&pi()))}function dn(t,e){var n=t.callbackNode;M3(t,e);var r=ef(t,t===pt?Tt:0);if(r===0)n!==null&&fS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&fS(n),e===1)t.tag===0?EA(sb.bind(null,t)):dM(sb.bind(null,t)),wA(function(){!(ve&6)&&pi()}),n=null;else{switch(_E(r)){case 1:n=z0;break;case 4:n=BE;break;case 16:n=Zd;break;case 536870912:n=$E;break;default:n=Zd}n=cT(n,rT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function rT(t,e){if($d=-1,Fd=0,ve&6)throw Error(j(327));var n=t.callbackNode;if(fl()&&t.callbackNode!==n)return null;var r=ef(t,t===pt?Tt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=kf(t,r);else{e=r;var s=ve;ve|=2;var i=iT();(pt!==t||Tt!==e)&&(Xr=null,El=Ye()+500,Ji(t,e));do try{UA();break}catch(u){sT(t,u)}while(!0);q0(),gf.current=i,ve=s,Ze!==null?e=0:(pt=null,Tt=0,e=at)}if(e!==0){if(e===2&&(s=my(t),s!==0&&(r=s,e=jy(t,s))),e===1)throw n=xu,Ji(t,0),Vs(t,r),dn(t,Ye()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!jA(s)&&(e=kf(t,r),e===2&&(i=my(t),i!==0&&(r=i,e=jy(t,i))),e===1))throw n=xu,Ji(t,0),Vs(t,r),dn(t,Ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Di(t,on,Xr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=uv+500-Ye(),10<e)){if(ef(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Jt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xy(Di.bind(null,t,on,Xr),e);break}Di(t,on,Xr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-pr(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VA(r/1960))-r,10<r){t.timeoutHandle=xy(Di.bind(null,t,on,Xr),r);break}Di(t,on,Xr);break;case 5:Di(t,on,Xr);break;default:throw Error(j(329))}}}return dn(t,Ye()),t.callbackNode===n?rT.bind(null,t):null}function jy(t,e){var n=Ka;return t.current.memoizedState.isDehydrated&&(Ji(t,e).flags|=256),t=kf(t,e),t!==2&&(e=on,on=n,e!==null&&Wy(e)),t}function Wy(t){on===null?on=t:on.push.apply(on,t)}function jA(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!yr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~av,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pr(e),r=1<<n;t[n]=-1,e&=~r}}function sb(t){if(ve&6)throw Error(j(327));fl();var e=ef(t,0);if(!(e&1))return dn(t,Ye()),null;var n=kf(t,e);if(t.tag!==0&&n===2){var r=my(t);r!==0&&(e=r,n=jy(t,r))}if(n===1)throw n=xu,Ji(t,0),Vs(t,e),dn(t,Ye()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Di(t,on,Xr),dn(t,Ye()),null}function cv(t,e){var n=ve;ve|=1;try{return t(e)}finally{ve=n,ve===0&&(El=Ye()+500,Eh&&pi())}}function so(t){Js!==null&&Js.tag===0&&!(ve&6)&&fl();var e=ve;ve|=1;var n=Jn.transition,r=be;try{if(Jn.transition=null,be=1,t)return t()}finally{be=r,Jn.transition=n,ve=e,!(ve&6)&&pi()}}function dv(){Sn=sl.current,De(sl)}function Ji(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,kA(n)),Ze!==null)for(n=Ze.return;n!==null;){var r=n;switch(U0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&of();break;case 3:bl(),De(un),De($t),ev();break;case 5:Z0(r);break;case 4:bl();break;case 13:De(He);break;case 19:De(He);break;case 10:K0(r.type._context);break;case 22:case 23:dv()}n=n.return}if(pt=t,Ze=t=ri(t.current,null),Tt=Sn=e,at=0,xu=null,av=Ch=ro=0,on=Ka=null,Ri!==null){for(e=0;e<Ri.length;e++)if(n=Ri[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Ri=null}return t}function sT(t,e){do{var n=Ze;try{if(q0(),zd.current=mf,pf){for(var r=je.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pf=!1}if(no=0,ht=lt=je=null,Qa=!1,wu=0,lv.current=null,n===null||n.return===null){at=1,xu=e,Ze=null;break}e:{var i=t,l=n.return,u=n,d=e;if(e=Tt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var k=US(l);if(k!==null){k.flags&=-257,JS(k,l,u,i,e),k.mode&1&&WS(i,f,e),e=k,d=f;var w=e.updateQueue;if(w===null){var b=new Set;b.add(d),e.updateQueue=b}else w.add(d);break e}else{if(!(e&1)){WS(i,f,e),fv();break e}d=Error(j(426))}}else if(Re&&u.mode&1){var T=US(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),JS(T,l,u,i,e),J0(xl(d,u));break e}}i=d=xl(d,u),at!==4&&(at=2),Ka===null?Ka=[i]:Ka.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=HM(i,d,e);BS(i,x);break e;case 1:u=d;var E=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ti===null||!ti.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=VM(i,u,e);BS(i,D);break e}}i=i.return}while(i!==null)}lT(n)}catch(R){e=R,Ze===n&&n!==null&&(Ze=n=n.return);continue}break}while(!0)}function iT(){var t=gf.current;return gf.current=mf,t===null?mf:t}function fv(){(at===0||at===3||at===2)&&(at=4),pt===null||!(ro&268435455)&&!(Ch&268435455)||Vs(pt,Tt)}function kf(t,e){var n=ve;ve|=2;var r=iT();(pt!==t||Tt!==e)&&(Xr=null,Ji(t,e));do try{WA();break}catch(s){sT(t,s)}while(!0);if(q0(),ve=n,gf.current=r,Ze!==null)throw Error(j(261));return pt=null,Tt=0,at}function WA(){for(;Ze!==null;)oT(Ze)}function UA(){for(;Ze!==null&&!g3();)oT(Ze)}function oT(t){var e=uT(t.alternate,t,Sn);t.memoizedProps=t.pendingProps,e===null?lT(t):Ze=e,lv.current=null}function lT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$A(n,e),n!==null){n.flags&=32767,Ze=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{at=6,Ze=null;return}}else if(n=BA(n,e,Sn),n!==null){Ze=n;return}if(e=e.sibling,e!==null){Ze=e;return}Ze=e=t}while(e!==null);at===0&&(at=5)}function Di(t,e,n){var r=be,s=Jn.transition;try{Jn.transition=null,be=1,JA(t,e,n,r)}finally{Jn.transition=s,be=r}return null}function JA(t,e,n,r){do fl();while(Js!==null);if(ve&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(T3(t,i),t===pt&&(Ze=pt=null,Tt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pd||(pd=!0,cT(Zd,function(){return fl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Jn.transition,Jn.transition=null;var l=be;be=1;var u=ve;ve|=4,lv.current=null,_A(t,n),tT(n,t),fA(Sy),tf=!!wy,Sy=wy=null,t.current=n,HA(n),y3(),ve=u,be=l,Jn.transition=i}else t.current=n;if(pd&&(pd=!1,Js=t,vf=s),i=t.pendingLanes,i===0&&(ti=null),w3(n.stateNode),dn(t,Ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yf)throw yf=!1,t=Hy,Hy=null,t;return vf&1&&t.tag!==0&&fl(),i=t.pendingLanes,i&1?t===Vy?Ga++:(Ga=0,Vy=t):Ga=0,pi(),null}function fl(){if(Js!==null){var t=_E(vf),e=Jn.transition,n=be;try{if(Jn.transition=null,be=16>t?16:t,Js===null)var r=!1;else{if(t=Js,Js=null,vf=0,ve&6)throw Error(j(331));var s=ve;for(ve|=4,X=t.current;X!==null;){var i=X,l=i.child;if(X.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(X=f;X!==null;){var p=X;switch(p.tag){case 0:case 11:case 15:qa(8,p,i)}var m=p.child;if(m!==null)m.return=p,X=m;else for(;X!==null;){p=X;var y=p.sibling,k=p.return;if(XM(p),p===f){X=null;break}if(y!==null){y.return=k,X=y;break}X=k}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,X=l;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:qa(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,X=x;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){l=X;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,X=N;else e:for(l=E;X!==null;){if(u=X,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Nh(9,u)}}catch(R){Je(u,u.return,R)}if(u===l){X=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,X=D;break e}X=u.return}}if(ve=s,pi(),zr&&typeof zr.onPostCommitFiberRoot=="function")try{zr.onPostCommitFiberRoot(kh,t)}catch{}r=!0}return r}finally{be=n,Jn.transition=e}}return!1}function ib(t,e,n){e=xl(n,e),e=HM(t,e,1),t=ei(t,e,1),e=Jt(),t!==null&&(Ru(t,1,e),dn(t,e))}function Je(t,e,n){if(t.tag===3)ib(t,t,n);else for(;e!==null;){if(e.tag===3){ib(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=xl(n,t),t=VM(e,t,1),e=ei(e,t,1),t=Jt(),e!==null&&(Ru(e,1,t),dn(e,t));break}}e=e.return}}function QA(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Jt(),t.pingedLanes|=t.suspendedLanes&n,pt===t&&(Tt&n)===n&&(at===4||at===3&&(Tt&130023424)===Tt&&500>Ye()-uv?Ji(t,0):av|=n),dn(t,e)}function aT(t,e){e===0&&(t.mode&1?(e=sd,sd<<=1,!(sd&130023424)&&(sd=4194304)):e=1);var n=Jt();t=as(t,e),t!==null&&(Ru(t,e,n),dn(t,n))}function qA(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),aT(t,n)}function KA(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),aT(t,n)}var uT;uT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||un.current)an=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return an=!1,RA(t,e,n);an=!!(t.flags&131072)}else an=!1,Re&&e.flags&1048576&&fM(e,uf,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bd(t,e),t=e.pendingProps;var s=kl(e,$t.current);dl(e,n),s=nv(null,e,r,t,s,n);var i=rv();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cn(r)?(i=!0,lf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Y0(e),s.updater=Mh,e.stateNode=s,s._reactInternals=e,Iy(e,r,t,n),e=Dy(null,e,r,!0,i,n)):(e.tag=0,Re&&i&&W0(e),Wt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=YA(r),t=lr(r,t),s){case 0:e=Py(null,e,r,t,n);break e;case 1:e=KS(null,e,r,t,n);break e;case 11:e=QS(null,e,r,t,n);break e;case 14:e=qS(null,e,r,lr(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Py(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),KS(t,e,r,s,n);case 3:e:{if(JM(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gM(t,e),ff(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=xl(Error(j(423)),e),e=GS(t,e,r,n,s);break e}else if(r!==s){s=xl(Error(j(424)),e),e=GS(t,e,r,n,s);break e}else for(Nn=Zs(e.stateNode.containerInfo.firstChild),On=e,Re=!0,ur=null,n=wM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(wl(),r===s){e=us(t,e,n);break e}Wt(t,e,r,n)}e=e.child}return e;case 5:return SM(e),t===null&&Ny(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,by(r,s)?l=null:i!==null&&by(r,i)&&(e.flags|=32),UM(t,e),Wt(t,e,l,n),e.child;case 6:return t===null&&Ny(e),null;case 13:return QM(t,e,n);case 4:return X0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Sl(e,null,r,n):Wt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),QS(t,e,r,s,n);case 7:return Wt(t,e,e.pendingProps,n),e.child;case 8:return Wt(t,e,e.pendingProps.children,n),e.child;case 12:return Wt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,Oe(cf,r._currentValue),r._currentValue=l,i!==null)if(yr(i.value,l)){if(i.children===s.children&&!un.current){e=us(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=rs(-1,n&-n),d.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Cy(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(j(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Cy(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Wt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,dl(e,n),s=qn(s),r=r(s),e.flags|=1,Wt(t,e,r,n),e.child;case 14:return r=e.type,s=lr(r,e.pendingProps),s=lr(r.type,s),qS(t,e,r,s,n);case 15:return jM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:lr(r,s),Bd(t,e),e.tag=1,cn(r)?(t=!0,lf(e)):t=!1,dl(e,n),vM(e,r,s),Iy(e,r,s,n),Dy(null,e,r,!0,t,n);case 19:return qM(t,e,n);case 22:return WM(t,e,n)}throw Error(j(156,e.tag))};function cT(t,e){return RE(t,e)}function GA(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Un(t,e,n,r){return new GA(t,e,n,r)}function hv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YA(t){if(typeof t=="function")return hv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===P0)return 11;if(t===D0)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Un(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function _d(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")hv(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case qo:return Qi(n.children,s,i,e);case A0:l=8,s|=8;break;case ey:return t=Un(12,n,e,s|2),t.elementType=ey,t.lanes=i,t;case ty:return t=Un(13,n,e,s),t.elementType=ty,t.lanes=i,t;case ny:return t=Un(19,n,e,s),t.elementType=ny,t.lanes=i,t;case kE:return Oh(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yE:l=10;break e;case vE:l=9;break e;case P0:l=11;break e;case D0:l=14;break e;case zs:l=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Un(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Qi(t,e,n,r){return t=Un(7,t,r,e),t.lanes=n,t}function Oh(t,e,n,r){return t=Un(22,t,r,e),t.elementType=kE,t.lanes=n,t.stateNode={isHidden:!1},t}function fg(t,e,n){return t=Un(6,t,null,e),t.lanes=n,t}function hg(t,e,n){return e=Un(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function XA(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qm(0),this.expirationTimes=Qm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pv(t,e,n,r,s,i,l,u,d){return t=new XA(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Un(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y0(i),t}function ZA(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function dT(t){if(!t)return ui;t=t._reactInternals;e:{if(co(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(cn(n))return cM(t,n,e)}return e}function fT(t,e,n,r,s,i,l,u,d){return t=pv(n,r,!0,t,s,i,l,u,d),t.context=dT(null),n=t.current,r=Jt(),s=ni(n),i=rs(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,Ru(t,s,r),dn(t,r),t}function Ih(t,e,n,r){var s=e.current,i=Jt(),l=ni(s);return n=dT(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,l),t!==null&&(mr(t,s,l,i),Ld(t,s,l)),l}function wf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function ob(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function mv(t,e){ob(t,e),(t=t.alternate)&&ob(t,e)}function eP(){return null}var hT=typeof reportError=="function"?reportError:function(t){console.error(t)};function gv(t){this._internalRoot=t}Ah.prototype.render=gv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ih(t,e,null,null)};Ah.prototype.unmount=gv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;so(function(){Ih(null,t,null,null)}),e[ls]=null}};function Ah(t){this._internalRoot=t}Ah.prototype.unstable_scheduleHydration=function(t){if(t){var e=jE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&UE(t)}};function yv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ph(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function lb(){}function tP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var f=wf(l);i.call(f)}}var l=fT(e,r,t,0,null,!1,!1,"",lb);return t._reactRootContainer=l,t[ls]=l.current,mu(t.nodeType===8?t.parentNode:t),so(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var f=wf(d);u.call(f)}}var d=pv(t,0,!1,null,null,!1,!1,"",lb);return t._reactRootContainer=d,t[ls]=d.current,mu(t.nodeType===8?t.parentNode:t),so(function(){Ih(e,d,n,r)}),d}function Dh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var u=s;s=function(){var d=wf(l);u.call(d)}}Ih(e,l,t,s)}else l=tP(n,e,t,s,r);return wf(l)}HE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(R0(e,n|1),dn(e,Ye()),!(ve&6)&&(El=Ye()+500,pi()))}break;case 13:so(function(){var r=as(t,1);if(r!==null){var s=Jt();mr(r,t,1,s)}}),mv(t,1)}};B0=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=Jt();mr(e,t,134217728,n)}mv(t,134217728)}};VE=function(t){if(t.tag===13){var e=ni(t),n=as(t,e);if(n!==null){var r=Jt();mr(n,t,e,r)}mv(t,e)}};jE=function(){return be};WE=function(t,e){var n=be;try{return be=t,e()}finally{be=n}};fy=function(t,e,n){switch(e){case"input":if(iy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=xh(r);if(!s)throw Error(j(90));SE(r),iy(r,s)}}}break;case"textarea":xE(t,n);break;case"select":e=n.value,e!=null&&ll(t,!!n.multiple,e,!1)}};IE=cv;AE=so;var nP={usingClientEntryPoint:!1,Events:[$u,Xo,xh,CE,OE,cv]},Ia={findFiberByHostInstance:zi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rP={bundleType:Ia.bundleType,version:Ia.version,rendererPackageName:Ia.rendererPackageName,rendererConfig:Ia.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=LE(t),t===null?null:t.stateNode},findFiberByHostInstance:Ia.findFiberByHostInstance||eP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{kh=md.inject(rP),zr=md}catch{}}An.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nP;An.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yv(e))throw Error(j(200));return ZA(t,e,null,n)};An.createRoot=function(t,e){if(!yv(t))throw Error(j(299));var n=!1,r="",s=hT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=pv(t,1,!1,null,null,n,!1,r,s),t[ls]=e.current,mu(t.nodeType===8?t.parentNode:t),new gv(e)};An.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=LE(e),t=t===null?null:t.stateNode,t};An.flushSync=function(t){return so(t)};An.hydrate=function(t,e,n){if(!Ph(e))throw Error(j(200));return Dh(null,t,e,!0,n)};An.hydrateRoot=function(t,e,n){if(!yv(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=hT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=fT(e,null,t,1,n??null,s,!1,i,l),t[ls]=e.current,mu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Ah(e)};An.render=function(t,e,n){if(!Ph(e))throw Error(j(200));return Dh(null,t,e,!1,n)};An.unmountComponentAtNode=function(t){if(!Ph(t))throw Error(j(40));return t._reactRootContainer?(so(function(){Dh(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};An.unstable_batchedUpdates=cv;An.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ph(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Dh(t,e,n,!1,r)};An.version="18.2.0-next-9e3b772b8-20220608";function pT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pT)}catch(t){console.error(t)}}pT(),fE.exports=An;var vv=fE.exports;const sP=tE(vv);var mT,ab=vv;mT=ab.createRoot,ab.hydrateRoot;var iP=Object.defineProperty,oP=(t,e,n)=>e in t?iP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,lP=(t,e,n)=>(oP(t,e+"",n),n),gd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function aP(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var yT=aP,uP=typeof gd=="object"&&gd&&gd.Object===Object&&gd,cP=uP,dP=cP,fP=typeof self=="object"&&self&&self.Object===Object&&self,hP=dP||fP||Function("return this")(),vT=hP,pP=vT,mP=function(){return pP.Date.now()},gP=mP,yP=/\s/;function vP(t){for(var e=t.length;e--&&yP.test(t.charAt(e)););return e}var kP=vP,wP=kP,SP=/^\s+/;function bP(t){return t&&t.slice(0,wP(t)+1).replace(SP,"")}var xP=bP,EP=vT,MP=EP.Symbol,kT=MP,ub=kT,wT=Object.prototype,TP=wT.hasOwnProperty,NP=wT.toString,Aa=ub?ub.toStringTag:void 0;function CP(t){var e=TP.call(t,Aa),n=t[Aa];try{t[Aa]=void 0;var r=!0}catch{}var s=NP.call(t);return r&&(e?t[Aa]=n:delete t[Aa]),s}var OP=CP,IP=Object.prototype,AP=IP.toString;function PP(t){return AP.call(t)}var DP=PP,cb=kT,LP=OP,zP=DP,RP="[object Null]",BP="[object Undefined]",db=cb?cb.toStringTag:void 0;function $P(t){return t==null?t===void 0?BP:RP:db&&db in Object(t)?LP(t):zP(t)}var FP=$P;function _P(t){return t!=null&&typeof t=="object"}var HP=_P,VP=FP,jP=HP,WP="[object Symbol]";function UP(t){return typeof t=="symbol"||jP(t)&&VP(t)==WP}var JP=UP,QP=xP,fb=yT,qP=JP,hb=NaN,KP=/^[-+]0x[0-9a-f]+$/i,GP=/^0b[01]+$/i,YP=/^0o[0-7]+$/i,XP=parseInt;function ZP(t){if(typeof t=="number")return t;if(qP(t))return hb;if(fb(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=fb(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=QP(t);var n=GP.test(t);return n||YP.test(t)?XP(t.slice(2),n?2:8):KP.test(t)?hb:+t}var eD=ZP,tD=yT,pg=gP,pb=eD,nD="Expected a function",rD=Math.max,sD=Math.min;function iD(t,e,n){var r,s,i,l,u,d,f=0,p=!1,m=!1,y=!0;if(typeof t!="function")throw new TypeError(nD);e=pb(e)||0,tD(n)&&(p=!!n.leading,m="maxWait"in n,i=m?rD(pb(n.maxWait)||0,e):i,y="trailing"in n?!!n.trailing:y);function k(L){var B=r,J=s;return r=s=void 0,f=L,l=t.apply(J,B),l}function w(L){return f=L,u=setTimeout(x,e),p?k(L):l}function b(L){var B=L-d,J=L-f,K=e-B;return m?sD(K,i-J):K}function T(L){var B=L-d,J=L-f;return d===void 0||B>=e||B<0||m&&J>=i}function x(){var L=pg();if(T(L))return E(L);u=setTimeout(x,b(L))}function E(L){return u=void 0,y&&r?k(L):(r=s=void 0,l)}function N(){u!==void 0&&clearTimeout(u),f=0,r=d=s=u=void 0}function D(){return u===void 0?l:E(pg())}function R(){var L=pg(),B=T(L);if(r=arguments,s=this,d=L,B){if(u===void 0)return w(d);if(m)return clearTimeout(u),u=setTimeout(x,e),k(d)}return u===void 0&&(u=setTimeout(x,e)),l}return R.cancel=N,R.flush=D,R}var oD=iD;const lD=gT(oD);function xt(t){this.content=t}xt.prototype={constructor:xt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new xt(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new xt(n)},addToStart:function(t,e){return new xt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new xt(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new xt(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=xt.from(t),t.size?new xt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=xt.from(t),t.size?new xt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=xt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};xt.from=function(t){if(t instanceof xt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new xt(e)};function ST(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let l=0;s.text[l]==i.text[l];l++)n++;return n}if(s.content.size||i.content.size){let l=ST(s.content,i.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function bT(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let l=t.child(--s),u=e.child(--i),d=l.nodeSize;if(l==u){n-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let f=0,p=Math.min(l.text.length,u.text.length);for(;f<p&&l.text[l.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let f=bT(l.content,u.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class V{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let l=0,u=0;u<n;l++){let d=this.content[l],f=u+d.nodeSize;if(f>e&&r(d,s+u,i||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let f=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(l?l=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new V(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),s+=u.nodeSize),l=d}return new V(r,s)}cutByIndex(e,n){return e==n?V.empty:e==0&&n==this.content.length?this:new V(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new V(s,i)}addToStart(e){return new V([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new V(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return ST(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return bT(this,e,n,r)}findIndex(e,n=-1){if(e==0)return yd(0,e);if(e==this.size)return yd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),l=s+i.nodeSize;if(l>=e)return l==e||n>0?yd(r+1,l):yd(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return V.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return V.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new V(n||e,r)}static from(e){if(!e)return V.empty;if(e instanceof V)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new V([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}V.empty=new V([],0);const mg={index:0,offset:0};function yd(t,e){return mg.index=t,mg.offset=e,mg}function Sf(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Sf(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Sf(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let xe=class Uy{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Sf(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Uy.none;if(e instanceof Uy)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};xe.none=[];class bf extends Error{}class G{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=ET(this.content,e+this.openStart,n);return r&&new G(r,this.openStart,this.openEnd)}removeBetween(e,n){return new G(xT(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return G.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(V.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new G(e,r,s)}}G.empty=new G(V.empty,0,0);function xT(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(s==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(xT(i.content,e-s-1,n-s-1)))}function ET(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s);if(i==e||l.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=ET(l.content,e-i-1,n);return u&&t.replaceChild(s,l.copy(u))}function aD(t,e,n){if(n.openStart>t.depth)throw new bf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new bf("Inconsistent open depths");return MT(t,e,n,0)}function MT(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let l=MT(t,e,n,r+1);return i.copy(i.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return Ki(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=uD(n,t);return Ki(i,NT(t,l,u,e,r))}else return Ki(i,xf(t,e,r))}function TT(t,e){if(!e.type.compatibleContent(t.type))throw new bf("Cannot join "+e.type.name+" onto "+t.type.name)}function Jy(t,e,n){let r=t.node(n);return TT(r,e.node(n)),r}function qi(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function Ya(t,e,n,r){let s=(e||t).node(n),i=0,l=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(qi(t.nodeAfter,r),i++));for(let u=i;u<l;u++)qi(s.child(u),r);e&&e.depth==n&&e.textOffset&&qi(e.nodeBefore,r)}function Ki(t,e){return t.type.checkContent(e),t.copy(e)}function NT(t,e,n,r,s){let i=t.depth>s&&Jy(t,e,s+1),l=r.depth>s&&Jy(n,r,s+1),u=[];return Ya(null,t,s,u),i&&l&&e.index(s)==n.index(s)?(TT(i,l),qi(Ki(i,NT(t,e,n,r,s+1)),u)):(i&&qi(Ki(i,xf(t,e,s+1)),u),Ya(e,n,s,u),l&&qi(Ki(l,xf(n,r,s+1)),u)),Ya(r,null,s,u),new V(u)}function xf(t,e,n){let r=[];if(Ya(null,t,n,r),t.depth>n){let s=Jy(t,e,n+1);qi(Ki(s,xf(t,e,n+1)),r)}return Ya(e,null,n,r),new V(r)}function uD(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(V.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Eu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return xe.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let u=r;r=s,s=u}let i=r.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!s||!i[l].isInSet(s.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Ef(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let l=e;;){let{index:u,offset:d}=l.content.findIndex(i),f=i-d;if(r.push(l,u,s+d),!f||(l=l.child(u),l.isText))break;i=f-1,s+=d+1}return new Eu(n,r,i)}static resolveCached(e,n){for(let s=0;s<gg.length;s++){let i=gg[s];if(i.pos==n&&i.doc==e)return i}let r=gg[yg]=Eu.resolve(e,n);return yg=(yg+1)%cD,r}}let gg=[],yg=0,cD=12;class Ef{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const dD=Object.create(null);let Gi=class Qy{constructor(e,n,r,s=xe.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||V.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Sf(this.attrs,n||e.defaultAttrs||dD)&&xe.sameSet(this.marks,r||xe.none)}copy(e=null){return e==this.content?this:new Qy(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Qy(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return G.empty;let s=this.resolve(e),i=this.resolve(n),l=r?0:s.sharedDepth(n),u=s.start(l),d=s.node(l).content.cut(s.pos-u,i.pos-u);return new G(d,s.depth-l,i.depth-l)}replace(e,n,r){return aD(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Eu.resolveCached(this,e)}resolveNoCache(e){return Eu.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),CT(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=V.empty,s=0,i=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,i),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=s;d<i;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=xe.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!xe.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=V.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,r)}};Gi.prototype.text=void 0;class Mf extends Gi{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):CT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Mf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Mf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function CT(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class io{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new fD(e,n);if(r.next==null)return io.empty;let s=OT(r);r.next&&r.err("Unexpected trailing text");let i=kD(vD(s));return wD(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(l,u){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return V.from(u.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=i(m,u.concat(p));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let l=[];for(let u=s;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)i+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return i}).join(`
`)}}io.empty=new io(!0);class fD{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function OT(t){let e=[];do e.push(hD(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function hD(t){let e=[];do e.push(pD(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function pD(t){let e=yD(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=mD(t,e);else break;return e}function mb(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function mD(t,e){let n=mb(t),r=n;return t.eat(",")&&(t.next!="}"?r=mb(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function gD(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let l=n[i];l.groups.indexOf(e)>-1&&s.push(l)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function yD(t){if(t.eat("(")){let e=OT(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=gD(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function vD(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,d){let f={term:d,to:u};return e[l].push(f),f}function s(l,u){l.forEach(d=>d.to=u)}function i(l,u){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(i(f,u)),[]);if(l.type=="seq")for(let d=0;;d++){let f=i(l.exprs[d],u);if(d==l.exprs.length-1)return f;s(f,u=n())}else if(l.type=="star"){let d=n();return r(u,d),s(i(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return s(i(l.expr,u),d),s(i(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(u)].concat(i(l.expr,u));if(l.type=="range"){let d=u;for(let f=0;f<l.min;f++){let p=n();s(i(l.expr,d),p),d=p}if(l.max==-1)s(i(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=n();r(d,p),s(i(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function IT(t,e){return e-t}function gb(t,e){let n=[];return r(e),n.sort(IT);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let l=0;l<i.length;l++){let{term:u,to:d}=i[l];!u&&n.indexOf(d)==-1&&r(d)}}}function kD(t){let e=Object.create(null);return n(gb(t,0));function n(r){let s=[];r.forEach(l=>{t[l].forEach(({term:u,to:d})=>{if(!u)return;let f;for(let p=0;p<s.length;p++)s[p][0]==u&&(f=s[p][1]);gb(t,d).forEach(p=>{f||s.push([u,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=e[r.join(",")]=new io(r.indexOf(t.length-1)>-1);for(let l=0;l<s.length;l++){let u=s[l][1].sort(IT);i.next.push({type:s[l][0],next:e[u.join(",")]||n(u)})}return i}}function wD(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,l=[];for(let u=0;u<s.next.length;u++){let{type:d,next:f}=s.next[u];l.push(d.name),i&&!(d.isText||d.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AT(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function PT(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function DT(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new SD(t[n]);return e}let yb=class LT{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=DT(r.attrs),this.defaultAttrs=AT(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==io.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:PT(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gi(this,this.computeAttrs(e),V.from(n),xe.setFrom(r))}createChecked(e=null,n,r){return n=V.from(n),this.checkContent(n),new Gi(this,this.computeAttrs(e),n,xe.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=V.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(V.empty,!0);return i?new Gi(this,e,n.append(i),xe.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:xe.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,l)=>r[i]=new LT(i,n,l));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class SD{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Lh{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=DT(s.attrs),this.excluded=null;let i=AT(this.attrs);this.instance=i?new xe(this,i):null}create(e=null){return!e&&this.instance?this.instance:new xe(this,PT(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,l)=>r[i]=new Lh(i,s++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class bD{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=xt.from(e.nodes),n.marks=xt.from(e.marks||{}),this.nodes=yb.compile(this.spec.nodes,this),this.marks=Lh.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],l=i.spec.content||"",u=i.spec.marks;i.contentMatch=r[l]||(r[l]=io.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=u=="_"?null:u?vb(this,u.split(" ")):u==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:vb(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof yb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Mf(r,r.defaultAttrs,e,xe.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Gi.fromJSON(this,e)}markFromJSON(e){return xe.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function vb(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],l=i;if(i)n.push(i);else for(let u in t.marks){let d=t.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let kv=class qy{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new wb(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new wb(this,n,!0);return r.addAll(e,n.from,n.to),G.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(MD(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Sb(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Sb(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new qy(e,qy.schemaRules(e)))}};const zT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},xD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},RT={ol:!0,ul:!0},Tf=1,Nf=2,Xa=4;function kb(t,e,n){return e!=null?(e?Tf:0)|(e==="full"?Nf:0):t&&t.whitespace=="pre"?Tf|Nf:n&~Xa}class vd{constructor(e,n,r,s,i,l,u){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=u,this.content=[],this.activeMarks=xe.none,this.stashMarks=[],this.match=l||(u&Xa?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(V.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Tf)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=V.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(V.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):ND(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!zT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class wb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,l=kb(null,n.preserveWhitespace,0)|(r?Xa:0);s?i=new vd(s.type,s.attrs,xe.none,xe.none,!0,n.topMatch||s.type.contentMatch,l):r?i=new vd(null,null,xe.none,xe.none,!0,null,l):i=new vd(e.schema.topNodeType,null,xe.none,xe.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(TD(r));if(!s)return;let[i,l]=s,u=this.top;for(let d=0;d<l.length;d++)this.removePendingMark(l[d],u);for(let d=0;d<i.length;d++)this.addPendingMark(i[d]);n();for(let d=0;d<i.length;d++)this.removePendingMark(i[d],u);for(let d=0;d<l.length;d++)this.addPendingMark(l[d])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&Nf||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Tf)r.options&Nf?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;RT.hasOwnProperty(r)&&this.parser.normalizeLists&&ED(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:xD.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let l,u=this.top,d=this.needsBlock;if(zT.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),l=!0,u.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(u),this.needsBlock=d}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=xe.none,r=xe.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let l=this.parser.matchStyle(e[s],e[s+1],this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)i=l;else break}return[n,r]}addElementByRule(e,n,r){let s,i,l;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let u=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d)}s&&this.sync(u)&&this.open--,l&&this.removePendingMark(l,u)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];i!=l;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],l=i.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=i,!l.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let l=kb(e,s,i.options);i.options&Xa&&i.content.length==0&&(l|=Xa),this.nodes.push(new vd(e,n,i.activeMarks,i.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),l=(u,d)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;d>=i;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&p.groups.indexOf(f)==-1)return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=CD(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let i=s.popFromStashMark(e);i&&s.type&&s.type.allowsMarkType(i.type)&&(s.activeMarks=i.addToSet(s.activeMarks))}if(s==n)break}}}function ED(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&RT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function MD(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function TD(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Sb(t){let e={};for(let n in t)e[n]=t[n];return e}function ND(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==e||i.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}function CD(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Dr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=vg(n).createDocumentFragment());let s=r,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let u=0,d=0;for(;u<i.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(i[u][0])||f.type.spec.spanning===!1)break;u++,d++}for(;u<i.length;)s=i.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,n);p&&(i.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Dr.renderSpec(vg(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Dr.renderSpec(vg(r),s(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let l,u=r?e.createElementNS(r,s):e.createElement(s),d=n[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let m=p.indexOf(" ");m>0?u.setAttributeNS(p.slice(0,m),p.slice(m+1),d[p]):u.setAttribute(p,d[p])}}for(let p=f;p<n.length;p++){let m=n[p];if(m===0){if(p<n.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:y,contentDOM:k}=Dr.renderSpec(e,m,r);if(u.appendChild(y),k){if(l)throw new RangeError("Multiple content holes");l=k}}}return{dom:u,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Dr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=bb(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return bb(e.marks)}}function bb(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function vg(t){return t.document||window.document}const BT=65535,$T=Math.pow(2,16);function OD(t,e){return t+e*$T}function xb(t){return t&BT}function ID(t){return(t-(t&BT))/$T}const FT=1,_T=2,Hd=4,HT=8;class Ky{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&HT)>0}get deletedBefore(){return(this.delInfo&(FT|Hd))>0}get deletedAfter(){return(this.delInfo&(_T|Hd))>0}get deletedAcross(){return(this.delInfo&Hd)>0}}class En{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&En.empty)return En.empty}recover(e){let n=0,r=xb(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+ID(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[u+i],p=this.ranges[u+l],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,k=d+s+(y<0?0:p);if(r)return k;let w=e==(n<0?d:m)?null:OD(u/3,e-d),b=e==d?_T:e==m?FT:Hd;return(n<0?e!=d:e!=m)&&(b|=HT),new Ky(k,b,w)}s+=p-f}return r?e+s:new Ky(e+s,0,null)}touches(e,n){let r=0,s=xb(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[u+i],p=d+f;if(e<=p&&u==s*3)return!0;r+=this.ranges[u+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let l=this.ranges[s],u=l-(this.inverted?i:0),d=l+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(u,u+f,d,d+p),i+=p-f}}invert(){return new En(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?En.empty:new En(e<0?[0,-e,0]:[0,0,e])}}En.empty=new En([]);class hl{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new hl(this.maps,this.mirror,e,n)}copy(){return new hl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new hl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let l=this.maps[i],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this.maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new Ky(e,s,null)}}const kg=Object.create(null);class _t{getMap(){return En.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=kg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in kg)throw new RangeError("Duplicate use of step JSON ID "+e);return kg[e]=n,n.prototype.jsonID=e,n}}class et{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new et(e,null)}static fail(e){return new et(null,e)}static fromReplace(e,n,r,s){try{return et.ok(e.replace(n,r,s))}catch(i){if(i instanceof bf)return et.fail(i.message);throw i}}}function wv(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(wv(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return V.fromArray(r)}class Qs extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new G(wv(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return et.fromReplace(e,this.from,this.to,i)}invert(){return new Lr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Qs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Qs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qs(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("addMark",Qs);class Lr extends _t{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new G(wv(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return et.fromReplace(e,this.from,this.to,r)}invert(){return new Qs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Lr(n.pos,r.pos,this.mark)}merge(e){return e instanceof Lr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Lr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Lr(n.from,n.to,e.markFromJSON(n.mark))}}_t.jsonID("removeMark",Lr);class qs extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return et.fromReplace(e,this.pos,this.pos+1,new G(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new qs(this.pos,n.marks[s]);return new qs(this.pos,this.mark)}}return new Ml(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("addNodeMark",qs);class Ml extends _t{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return et.fromReplace(e,this.pos,this.pos+1,new G(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ml(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ml(n.pos,e.markFromJSON(n.mark))}}_t.jsonID("removeNodeMark",Ml);class Et extends _t{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&Gy(e,this.from,this.to)?et.fail("Structure replace would overwrite content"):et.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new En([this.from,this.to-this.from,this.slice.size])}invert(e){return new Et(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Et(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Et)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Et(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Et(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Et(n.from,n.to,G.fromJSON(e,n.slice),!!n.structure)}}_t.jsonID("replace",Et);class mt extends _t{constructor(e,n,r,s,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(Gy(e,this.from,this.gapFrom)||Gy(e,this.gapTo,this.to)))return et.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return et.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?et.fromReplace(e,this.from,this.to,r):et.fail("Content does not fit in gap")}getMap(){return new En([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new mt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new mt(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new mt(n.from,n.to,n.gapFrom,n.gapTo,G.fromJSON(e,n.slice),n.insert,!!n.structure)}}_t.jsonID("replaceAround",mt);function Gy(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function AD(t,e,n,r){let s=[],i=[],l,u;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),k=Math.min(f+d.nodeSize,n),w=r.addToSet(m);for(let b=0;b<m.length;b++)m[b].isInSet(w)||(l&&l.to==y&&l.mark.eq(m[b])?l.to=k:s.push(l=new Lr(y,k,m[b])));u&&u.to==y?u.to=k:i.push(u=new Qs(y,k,r))}}),s.forEach(d=>t.step(d)),i.forEach(d=>t.step(d))}function PD(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;i++;let d=null;if(r instanceof Lh){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(u+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],y;for(let k=0;k<s.length;k++){let w=s[k];w.step==i-1&&m.eq(s[k].style)&&(y=w)}y?(y.to=f,y.step=i):s.push({style:m,from:Math.max(u,e),to:f,step:i})}}}),s.forEach(l=>t.step(new Lr(l.from,l.to,l.style)))}function DD(t,e,n,r=n.contentMatch){let s=t.doc.nodeAt(e),i=[],l=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),f=l+d.nodeSize,p=r.matchType(d.type);if(!p)i.push(new Et(l,f,G.empty));else{r=p;for(let m=0;m<d.marks.length;m++)n.allowsMarkType(d.marks[m].type)||t.step(new Lr(l,f,d.marks[m]));if(d.isText&&!n.spec.code){let m,y=/\r?\n|\r/g,k;for(;m=y.exec(d.text);)k||(k=new G(V.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),i.push(new Et(l+m.index,l+m.index+m[0].length,k))}}l=f}if(!r.validEnd){let u=r.fillBefore(V.empty,!0);t.replace(l,l,new G(u,0,0))}for(let u=i.length-1;u>=0;u--)t.step(i[u])}function LD(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zl(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.$from.node(n),s=t.$from.index(n),i=t.$to.indexAfter(n);if(n<t.depth&&r.canReplace(s,i,e))return n;if(n==0||r.type.spec.isolating||!LD(r,s,i))break}return null}function zD(t,e,n){let{$from:r,$to:s,depth:i}=e,l=r.before(i+1),u=s.after(i+1),d=l,f=u,p=V.empty,m=0;for(let w=i,b=!1;w>n;w--)b||r.index(w)>0?(b=!0,p=V.from(r.node(w).copy(p)),m++):d--;let y=V.empty,k=0;for(let w=i,b=!1;w>n;w--)b||s.after(w+1)<s.end(w)?(b=!0,y=V.from(s.node(w).copy(y)),k++):f++;t.step(new mt(d,f,l,u,new G(p.append(y),m,k),p.size-m,!0))}function Sv(t,e,n=null,r=t){let s=RD(t,e),i=s&&BD(r,e);return i?s.map(Eb).concat({type:e,attrs:n}).concat(i.map(Eb)):null}function Eb(t){return{type:t,attrs:null}}function RD(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,s,l)?i:null}function BD(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let u=(l.length?l[l.length-1]:e).contentMatch;for(let d=r;u&&d<s;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:l}function $D(t,e,n){let r=V.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=V.from(n[l].type.create(n[l].attrs,r))}let s=e.start,i=e.end;t.step(new mt(s,i,s,i,new G(r,0,0),n.length,!0))}function FD(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{if(l.isTextblock&&!l.hasMarkup(r,s)&&_D(t.doc,t.mapping.slice(i).map(u),r)){t.clearIncompatible(t.mapping.slice(i).map(u,1),r);let d=t.mapping.slice(i),f=d.map(u,1),p=d.map(u+l.nodeSize,1);return t.step(new mt(f,p,f+1,p-1,new G(V.from(r.create(s,null,l.marks)),0,0),1,!0)),!1}})}function _D(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function HD(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new mt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new G(V.from(l),0,0),1,!0))}function pl(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,l=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let k=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(k=k.replaceChild(0,w.type.create(w.attrs)));let b=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(k))return!1}let u=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(u,u,d?d.type:s.node(i+1).type)}function VD(t,e,n=1,r){let s=t.doc.resolve(e),i=V.empty,l=V.empty;for(let u=s.depth,d=s.depth-n,f=n-1;u>d;u--,f--){i=V.from(s.node(u).copy(i));let p=r&&r[f];l=V.from(p?p.type.create(p.attrs,l):s.node(u).copy(l))}t.step(new Et(e,e,new G(i.append(l),n,n),!0))}function mi(t,e){let n=t.resolve(e),r=n.index();return VT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function VT(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function zh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,l,u=r.index(s);if(s==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(s+1),u++,l=r.node(s).maybeChild(u)):(i=r.node(s).maybeChild(u-1),l=r.node(s+1)),i&&!i.isTextblock&&VT(i,l)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function jD(t,e,n){let r=new Et(e-n,e+n,G.empty,!0);t.step(r)}function WD(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function jT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(u>0?1:0),f=r.node(l),p=!1;if(i==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function bv(t,e,n=e,r=G.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return WT(s,i,r)?new Et(e,n,r):new UD(s,i,r).fit()}function WT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class UD{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=V.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=V.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,l=r.depth,u=s.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let d=new G(i,l,u);return e>-1?new mt(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new Et(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=wg(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let l=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(V.from(l),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=wg(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new G(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=wg(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new G(Ba(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new G(Ba(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let b=0;b<s.childCount;b++)p.push(s.child(b));m=m.matchFragment(s)}let k=u.size+e-(l.content.size-l.openEnd);for(;f<u.childCount;){let b=u.child(f),T=m.matchType(b.type);if(!T)break;f++,(f>1||d==0||b.content.size)&&(m=T,p.push(UT(b.mark(y.allowedMarks(b.marks)),f==1?d:0,f==u.childCount?k:-1)))}let w=f==u.childCount;w||(k=-1),this.placed=$a(this.placed,n,V.from(p)),this.frontier[n].match=m,w&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,T=u;b<k;b++){let x=T.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),T=x.content}this.unplaced=w?e==0?G.empty:new G(Ba(l.content,e-1,1),e-1,k<0?l.openEnd:e-1):new G(Ba(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Sg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Sg(e,n,s,r,i);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=Sg(e,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=$a(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=$a(this.placed,this.depth,V.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(V.empty,!0);e.childCount&&(this.placed=$a(this.placed,this.frontier.length,e))}}function Ba(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(Ba(t.firstChild.content,e-1,n)))}function $a(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy($a(t.lastChild.content,e-1,n)))}function wg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function UT(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,UT(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(V.empty,!0)))),t.copy(r)}function Sg(t,e,n,r,s){let i=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=r.fillBefore(i.content,!0,l);return u&&!JD(n,i.content,l)?u:null}function JD(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function QD(t){return t.spec.defining||t.spec.definingForContent}function qD(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(WT(s,i,r))return t.step(new Et(e,n,r));let l=QT(s,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let u=-(s.depth+1);l.unshift(u);for(let y=s.depth,k=s.pos-1;y>0;y--,k--){let w=s.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(y)>-1?u=y:s.before(y)==k&&l.splice(1,0,-y)}let d=l.indexOf(u),f=[],p=r.openStart;for(let y=r.content,k=0;;k++){let w=y.firstChild;if(f.push(w),k==r.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let k=f[y],w=QD(k.type);if(w&&!k.sameMarkup(s.node(Math.abs(u)-1)))p=y;else if(w||!k.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let k=(y+p+1)%(r.openStart+1),w=f[k];if(w)for(let b=0;b<l.length;b++){let T=l[(b+d)%l.length],x=!0;T<0&&(x=!1,T=-T);let E=s.node(T-1),N=s.index(T-1);if(E.canReplaceWith(N,N,w.type,w.marks))return t.replace(s.before(T),x?i.after(T):n,new G(JT(r.content,0,r.openStart,k),k,r.openEnd))}}let m=t.steps.length;for(let y=l.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let k=l[y];k<0||(e=s.before(k),n=i.after(k))}}function JT(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(JT(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),l=i.fillBefore(t).append(t);t=l.append(i.matchFragment(l).fillBefore(V.empty,!0))}return t}function KD(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=WD(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new G(V.from(r),0,0))}function GD(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=QT(r,s);for(let l=0;l<i.length;l++){let u=i[l],d=l==i.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return t.delete(r.before(u),s.after(u))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&s.end(l)-n!=s.depth-l)return t.delete(r.before(l),n);t.delete(e,n)}function QT(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class ml extends _t{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return et.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return et.fromReplace(e,this.pos,this.pos+1,new G(V.from(s),0,n.isLeaf?0:1))}getMap(){return En.empty}invert(e){return new ml(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ml(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ml(n.pos,n.attr,n.value)}}_t.jsonID("attr",ml);class Mu extends _t{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return et.ok(r)}getMap(){return En.empty}invert(e){return new Mu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Mu(n.attr,n.value)}}_t.jsonID("docAttr",Mu);let Tl=class extends Error{};Tl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Tl.prototype=Object.create(Error.prototype);Tl.prototype.constructor=Tl;Tl.prototype.name="TransformError";class qT{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new hl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Tl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=G.empty){let s=bv(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new G(V.from(r),0,0))}delete(e,n){return this.replace(e,n,G.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return qD(this,e,n,r),this}replaceRangeWith(e,n,r){return KD(this,e,n,r),this}deleteRange(e,n){return GD(this,e,n),this}lift(e,n){return zD(this,e,n),this}join(e,n=1){return jD(this,e,n),this}wrap(e,n){return $D(this,e,n),this}setBlockType(e,n=e,r,s=null){return FD(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return HD(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new ml(e,n,r)),this}setDocAttribute(e,n){return this.step(new Mu(e,n)),this}addNodeMark(e,n){return this.step(new qs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof xe)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Ml(e,n)),this}split(e,n=1,r){return VD(this,e,n,r),this}addMark(e,n,r){return AD(this,e,n,r),this}removeMark(e,n,r){return PD(this,e,n,r),this}clearIncompatible(e,n,r){return DD(this,e,n,r),this}}const bg=Object.create(null);class pe{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new YD(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=G.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:d,$to:f}=l[u],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),u?G.empty:n),u==0&&Nb(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:l,$to:u}=s[i],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(u.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),Nb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new me(e):jo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let l=n<0?jo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):jo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new gr(e.node(0))}static atStart(e){return jo(e,e,0,0,1)||new gr(e)}static atEnd(e){return jo(e,e,e.content.size,e.childCount,-1)||new gr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=bg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bg)throw new RangeError("Duplicate use of selection JSON ID "+e);return bg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.$anchor,this.$head).getBookmark()}}pe.prototype.visible=!0;class YD{constructor(e,n){this.$from=e,this.$to=n}}let Mb=!1;function Tb(t){!Mb&&!t.parent.inlineContent&&(Mb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends pe{constructor(e,n=e){Tb(e),Tb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return pe.near(r);let s=e.resolve(n.map(this.anchor));return new me(s.parent.inlineContent?s:r,r)}replace(e,n=G.empty){if(super.replace(e,n),n==G.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Rh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=pe.findFrom(n,r,!0)||pe.findFrom(n,-r,!0);if(i)n=i.$head;else return pe.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(pe.findFrom(e,-r,!0)||pe.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new me(e,n)}}pe.jsonID("text",me);class Rh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Rh(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends pe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?pe.near(i):new le(i)}content(){return new G(V.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(n.anchor))}static create(e,n){return new le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;pe.jsonID("node",le);class xv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Rh(r,r):new xv(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&le.isSelectable(r)?new le(n):pe.near(n)}}class gr extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=G.empty){if(n==G.empty){e.delete(0,e.doc.content.size);let r=pe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new gr(e)}map(e){return new gr(e)}eq(e){return e instanceof gr}getBookmark(){return XD}}pe.jsonID("all",gr);const XD={map(){return this},resolve(t){return new gr(t)}};function jo(t,e,n,r,s,i=!1){if(e.inlineContent)return me.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let u=e.child(l);if(u.isAtom){if(!i&&le.isSelectable(u))return le.create(t,n-(s<0?u.nodeSize:0))}else{let d=jo(t,u,n+s,s<0?u.childCount:0,s,i);if(d)return d}n+=u.nodeSize*s}return null}function Nb(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Et||s instanceof mt))return;let i=t.mapping.maps[r],l;i.forEach((u,d,f,p)=>{l==null&&(l=p)}),t.setSelection(pe.near(t.doc.resolve(l),n))}const Cb=1,kd=2,Ob=4;class ZD extends qT{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Cb)&~kd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Cb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=kd,this}ensureMarks(e){return xe.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&kd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~kd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||xe.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(pe.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Ob,this}get scrolledIntoView(){return(this.updated&Ob)>0}}function Ib(t,e){return!e||!t?t:t.bind(e)}class Fa{constructor(e,n,r){this.name=e,this.init=Ib(n.init,r),this.apply=Ib(n.apply,r)}}const e4=[new Fa("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Fa("selection",{init(t,e){return t.selection||pe.atStart(e.doc)},apply(t){return t.selection}}),new Fa("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Fa("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class xg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=e4.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Fa(r.key,r.spec.state,r))})}}class il{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let d=s?s[l].n:0,f=s?s[l].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}s&&(s[l]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new il(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new ZD(this)}static create(e){let n=new xg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new il(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new xg(this.schema,e.plugins),r=n.fields,s=new il(n);for(let i=0;i<r.length;i++){let l=r[i].name;s[l]=this.hasOwnProperty(l)?this[l]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new xg(e.schema,e.plugins),i=new il(s);return s.fields.forEach(l=>{if(l.name=="doc")i.doc=Gi.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=pe.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){i[l.name]=f.fromJSON.call(d,e,n[u],i);return}}i[l.name]=l.init(e,i)}}),i}}function KT(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=KT(s,e,{})),n[r]=s}return n}class Xt{constructor(e){this.spec=e,this.props={},e.props&&KT(e.props,this,this.props),this.key=e.key?e.key.key:GT("plugin")}getState(e){return e[this.key]}}const Eg=Object.create(null);function GT(t){return t in Eg?t+"$"+ ++Eg[t]:(Eg[t]=0,t+"$")}class Gn{constructor(e="key"){this.key=GT(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ut=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Tu=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Ab=null;const Zr=function(t,e,n){let r=Ab||(Ab=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},oo=function(t,e,n,r){return n&&(Pb(t,e,n,r,-1)||Pb(t,e,n,r,1))},t4=/^(img|br|input|textarea|hr)$/i;function Pb(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Pr(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Ev(t)||t4.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ut(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Pr(t):0}else return!1}}function Pr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function n4(t,e,n){for(let r=e==0,s=e==Pr(t);r||s;){if(t==n)return!0;let i=Ut(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Pr(t)}}function Ev(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Bh=function(t){return t.focusNode&&oo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Li(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function r4(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function s4(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const $r=typeof navigator<"u"?navigator:null,Db=typeof document<"u"?document:null,gi=$r&&$r.userAgent||"",Yy=/Edge\/(\d+)/.exec(gi),YT=/MSIE \d/.exec(gi),Xy=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gi),fn=!!(YT||Xy||Yy),si=YT?document.documentMode:Xy?+Xy[1]:Yy?+Yy[1]:0,vr=!fn&&/gecko\/(\d+)/i.test(gi);vr&&+(/Firefox\/(\d+)/.exec(gi)||[0,0])[1];const Zy=!fn&&/Chrome\/(\d+)/.exec(gi),Bt=!!Zy,i4=Zy?+Zy[1]:0,Qt=!fn&&!!$r&&/Apple Computer/.test($r.vendor),Nl=Qt&&(/Mobile\/\w+/.test(gi)||!!$r&&$r.maxTouchPoints>2),Vn=Nl||($r?/Mac/.test($r.platform):!1),o4=$r?/Win/.test($r.platform):!1,cr=/Android \d/.test(gi),_u=!!Db&&"webkitFontSmoothing"in Db.documentElement.style,l4=_u?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function a4(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Kr(t,e){return typeof t=="number"?t:t[e]}function u4(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Lb(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let l=n||t.dom;l;l=Tu(l)){if(l.nodeType!=1)continue;let u=l,d=u==i.body,f=d?a4(i):u4(u),p=0,m=0;if(e.top<f.top+Kr(r,"top")?m=-(f.top-e.top+Kr(s,"top")):e.bottom>f.bottom-Kr(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Kr(s,"top")-f.top:e.bottom-f.bottom+Kr(s,"bottom")),e.left<f.left+Kr(r,"left")?p=-(f.left-e.left+Kr(s,"left")):e.right>f.right-Kr(r,"right")&&(p=e.right-f.right+Kr(s,"right")),p||m)if(d)i.defaultView.scrollBy(p,m);else{let y=u.scrollLeft,k=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let w=u.scrollLeft-y,b=u.scrollTop-k;e={left:e.left-w,top:e.top-b,right:e.right-w,bottom:e.bottom-b}}if(d||/^(fixed|sticky)$/.test(getComputedStyle(l).position))break}}function c4(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(i,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:XT(t.dom)}}function XT(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Tu(r));return e}function d4({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;ZT(n,r==0?0:r-e)}function ZT(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let _o=null;function f4(t){if(t.setActive)return t.setActive();if(_o)return t.focus(_o);let e=XT(t);t.focus(_o==null?{get preventScroll(){return _o={preventScroll:!0},!0}}:void 0),_o||(_o=!1,ZT(e,0))}function eN(t,e){let n,r=2e8,s,i=0,l=e.top,u=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Zr(p).getClientRects();else continue;for(let k=0;k<y.length;k++){let w=y[k];if(w.top<=l&&w.bottom>=u){l=Math.max(w.bottom,l),u=Math.min(w.top,u);let b=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(b<r){n=p,r=b,s=b&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&b&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?h4(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:eN(n,s)}function h4(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Ls(r,1);if(i.top!=i.bottom&&Mv(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Mv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function p4(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function m4(t,e,n){let{node:r,offset:s}=eN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function g4(t,e,n,r){let s=-1;for(let i=e,l=!1;i!=t.dom;){let u=t.docView.nearestDesc(i,!0);if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent&&!l||!u.contentDOM)){let d=u.dom.getBoundingClientRect();if(u.node.isBlock&&u.parent&&!l&&(l=!0,d.left>r.left||d.top>r.top?s=u.posBefore:(d.right<r.left||d.bottom<r.top)&&(s=u.posAfter)),!u.contentDOM&&s<0&&!u.node.isText)return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter}i=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function tN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let l=t.childNodes[i];if(l.nodeType==1){let u=l.getClientRects();for(let d=0;d<u.length;d++){let f=u[d];if(Mv(e,f))return tN(l,e,f)}}if((i=(i+1)%r)==s)break}return t}function y4(t,e){let n=t.dom.ownerDocument,r,s=0,i=s4(n,e.left,e.top);i&&({node:r,offset:s}=i);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!Mv(e,f)||(l=tN(t.dom,e,f),!l))return null}if(Qt)for(let f=l;r&&f;f=Tu(f))f.draggable&&(r=void 0);if(l=p4(l,e),r){if(vr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;_u&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=g4(t,r,s,e))}u==null&&(u=m4(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function zb(t){return t.top<t.bottom||t.left<t.right}function Ls(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(zb(r))return r}return Array.prototype.find.call(n,zb)||t.getBoundingClientRect()}const v4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function nN(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),l=_u||vr;if(r.nodeType==3)if(l&&(v4.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let u=Ls(Zr(r,s,s),n);if(vr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let d=Ls(Zr(r,s-1,s-1),-1);if(d.top==u.top){let f=Ls(Zr(r,s,s+1),-1);if(f.top!=u.top)return Pa(f,f.left<d.left)}}return u}else{let u=s,d=s,f=n<0?1:-1;return n<0&&!s?(d++,f=-1):n>=0&&s==r.nodeValue.length?(u--,f=1):n<0?u--:d++,Pa(Ls(Zr(r,u,d),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Pr(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return Mg(u.getBoundingClientRect(),!1)}if(i==null&&s<Pr(r)){let u=r.childNodes[s];if(u.nodeType==1)return Mg(u.getBoundingClientRect(),!0)}return Mg(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Pr(r))){let u=r.childNodes[s-1],d=u.nodeType==3?Zr(u,Pr(u)-(l?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return Pa(Ls(d,1),!1)}if(i==null&&s<Pr(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?Zr(u,0,l?0:1):u.nodeType==1?u:null:null;if(d)return Pa(Ls(d,-1),!0)}return Pa(Ls(r.nodeType==3?Zr(r):r,-n),n>=0)}function Pa(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Mg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function rN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function k4(t,e,n){let r=e.selection,s=n=="up"?r.$from:r.$to;return rN(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(i,!0);if(!u)break;if(u.node.isBlock){i=u.contentDOM||u.dom;break}i=u.dom.parentNode}let l=nN(t,s.pos,1);for(let u=i.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Zr(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const w4=/[\u0590-\u08ac]/;function S4(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,l=s==r.parent.content.size,u=t.domSelection();return!w4.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?i:l:rN(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let k=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:b}=t.domSelectionRange(),T=w&&!k.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==b;try{u.collapse(p,m),d&&(d!=p||f!=m)&&u.extend&&u.extend(d,f)}catch{}return y!=null&&(u.caretBidiLevel=y),T})}let Rb=null,Bb=null,$b=!1;function b4(t,e,n){return Rb==e&&Bb==n?$b:(Rb=e,Bb=n,$b=n=="up"||n=="down"?k4(t,e,n):S4(t,e,n))}const Qn=0,Fb=1,$i=2,Fr=3;class Hu{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=Qn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Ut(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),l;if(i&&(!n||i.node))if(r&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let l=this.children[r],u=i+l.size;if(u>e||l instanceof iN){s=e-i;break}i=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof sN&&i.side>=0;r--);if(n<=0){let i,l=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Ut(i.dom)+1:0}}else{let i,l=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Ut(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let l=r,u=0;;u++){let d=this.children[u],f=l+d.size;if(s==-1&&e<=f){let p=l+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=u;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=Ut(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>n||u==this.children.length-1)){n=f;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Ut(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let y=0,k=0;y<this.children.length;y++){let w=this.children[y],b=k+w.size;if(i>k&&l<b)return w.setSelection(e-k-w.border,n-k-w.border,r,s);k=b}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),f=r.getSelection(),p=!1;if((vr||Qt)&&e==n){let{node:y,offset:k}=u;if(y.nodeType==3){if(p=!!(k&&y.nodeValue[k-1]==`
`),p&&k==y.nodeValue.length)for(let w=y,b;w;w=w.parentNode){if(b=w.nextSibling){b.nodeName=="BR"&&(u=d={node:b.parentNode,offset:Ut(b)+1});break}let T=w.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let w=y.childNodes[k-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(vr&&f.focusNode&&f.focusNode!=d.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(s=!0)}if(!(s||p&&Qt)&&oo(u.node,u.offset,f.anchorNode,f.anchorOffset)&&oo(d.node,d.offset,f.focusNode,f.focusOffset))return;let m=!1;if((f.extend||e==n)&&!p){f.collapse(u.node,u.offset);try{e!=n&&f.extend(d.node,d.offset),m=!0}catch{}}if(!m){if(e>n){let k=u;u=d,d=k}let y=document.createRange();y.setEnd(d.node,d.offset),y.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],l=r+i.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+i.border,d=l-i.border;if(e>=u&&n<=d){this.dirty=e==r||n==l?$i:Fb,e==u&&n==d&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=Fr:i.markDirty(e-u,n-u);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?$i:Fr}r=l}this.dirty=$i}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?$i:Fb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class sN extends Hu{constructor(e,n,r,s){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==Qn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class x4 extends Hu{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class lo extends Hu{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let i=s.nodeViews[n.type.name],l=i&&i(n,s,r);return(!l||!l.dom)&&(l=Dr.renderSpec(document,n.type.spec.toDOM(n,r))),new lo(e,n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&Fr||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Fr&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Qn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=Qn}}slice(e,n,r){let s=lo.create(this.parent,this.mark,!0,r),i=this.children,l=this.size;n<l&&(i=n0(i,n,l,r)),e>0&&(i=n0(i,0,e,r));for(let u=0;u<i.length;u++)i[u].parent=s;return s.children=i,s}}class ii extends Hu{constructor(e,n,r,s,i,l,u,d,f){super(e,[],i,l),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,n,r,s,i,l){let u=i.nodeViews[n.type.name],d,f=u&&u(n,i,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Dr.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=aN(p,r,n),f?d=new E4(e,n,r,s,p,m||null,y,f,i,l+1):n.isText?new $h(e,n,r,s,p,y,i):new ii(e,n,r,s,p,m||null,y,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>V.empty)}return e}matchesNode(e,n,r){return this.dirty==Qn&&e.eq(this.node)&&t0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,u=i&&i.pos<0,d=new T4(this,l&&l.node,e);O4(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?xe.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,y)=>{d.syncToMarks(f.marks,r,e);let k;d.findNodeMatch(f,p,m,y)||u&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(k=d.findIndexWithChild(i.node))>-1&&d.updateNodeAt(f,p,m,k,e)||d.updateNextNode(f,p,m,e,y,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==$i)&&(l&&this.protectLocalComposition(e,l),oN(this.contentDOM,this.children,e),Nl&&I4(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||s>n+this.node.content.size)return null;let i=e.domSelectionRange(),l=A4(i.focusNode,i.focusOffset);if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,d=P4(this.node.content,u,r-n,s-n);return d<0?null:{node:l,pos:d,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new x4(this,i,n,s);e.input.compositionNodes.push(l),this.children=n0(this.children,r,r+s.length,e,l)}update(e,n,r,s){return this.dirty==Fr||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=Qn}updateOuterDeco(e){if(t0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=lN(this.dom,this.nodeDOM,e0(this.outerDeco,this.node,n),e0(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function _b(t,e,n,r,s){aN(r,e,t);let i=new ii(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class $h extends ii{constructor(e,n,r,s,i,l,u){super(e,n,r,s,i,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==Fr||this.dirty!=Qn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Qn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=Qn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new $h(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Fr)}get domAtom(){return!1}}class iN extends Hu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Qn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class E4 extends ii{constructor(e,n,r,s,i,l,u,d,f,p){super(e,n,r,s,i,l,u,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==Fr)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function oN(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let l=e[i],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=Hb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(u,r);if(l instanceof lo){let d=r?r.previousSibling:t.lastChild;oN(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=Hb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const Za=function(t){t&&(this.nodeName=t)};Za.prototype=Object.create(null);const Fi=[new Za];function e0(t,e,n){if(t.length==0)return Fi;let r=n?Fi[0]:new Za,s=[r];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&s.push(r=new Za(l.nodeName));for(let u in l){let d=l[u];d!=null&&(n&&s.length==1&&s.push(r=new Za(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function lN(t,e,n,r){if(n==Fi&&r==Fi)return e;let s=e;for(let i=0;i<r.length;i++){let l=r[i],u=n[i];if(i){let d;u&&u.nodeName==l.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=Fi[0]),s=d}M4(s,u||Fi[0],l)}return s}function M4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function aN(t,e,n){return lN(t,t,Fi,e0(e,n,t.nodeType!=1))}function t0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Hb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class T4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=N4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;s<l&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=Qn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=lo.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))i=this.top.children.indexOf(l,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let f=this.top.children[u];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=u;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let l=this.top.children[s];return l.dirty==Fr&&l.dom==l.contentDOM&&(l.dirty=$i),l.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,l){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof ii){let f=this.preMatch.matched.get(d);if(f!=null&&f!=i)return!1;let p=d.dom,m,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=Fr&&t0(n,d.outerDeco));if(!y&&d.update(e,n,r,s))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(d,e,n,r,s,l)))return this.top.children[this.index]=m,m.contentDOM&&(m.dirty=$i,m.updateChildren(s,l+1),m.dirty=Qn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let u=ii.create(this.top,n,r,s,i,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,s,i){let l=ii.create(this.top,e,n,r,s,i);l.contentDOM&&l.updateChildren(s,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new sN(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof lo;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof $h)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Qt||Bt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new iN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function N4(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,l=[];e:for(;s>0;){let u;for(;;)if(r){let f=n.children[r-1];if(f instanceof lo)n=f,r=f.children.length;else{u=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(s-1))break;--s,i.set(u,s),l.push(u)}}return{index:s,matched:i,matches:l.reverse()}}function C4(t,e){return t.type.side-e.type.side}function O4(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(i,p),f),i+=p.nodeSize}return}let l=0,u=[],d=null;for(let f=0;;){let p,m;for(;l<s.length&&s[l].to==i;){let T=s[l++];T.widget&&(p?(m||(m=[p])).push(T):p=T)}if(p)if(m){m.sort(C4);for(let T=0;T<m.length;T++)n(m[T],f,!!d)}else n(p,f,!!d);let y,k;if(d)k=-1,y=d,d=null;else if(f<t.childCount)k=f,y=t.child(f++);else break;for(let T=0;T<u.length;T++)u[T].to<=i&&u.splice(T--,1);for(;l<s.length&&s[l].from<=i&&s[l].to>i;)u.push(s[l++]);let w=i+y.nodeSize;if(y.isText){let T=w;l<s.length&&s[l].from<T&&(T=s[l].from);for(let x=0;x<u.length;x++)u[x].to<T&&(T=u[x].to);T<w&&(d=y.cut(T-i),y=y.cut(0,T-i),w=T,k=-1)}else for(;l<s.length&&s[l].to<w;)l++;let b=y.isInline&&!y.isLeaf?u.filter(T=>!T.inline):u.slice();r(y,b,e.forChild(i,y),k),i=w}}function I4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function A4(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Pr(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function P4(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let l=t.child(s++),u=i;if(i+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<t.childCount;){let f=t.child(s++);if(i+=f.nodeSize,!f.isText)break;d+=f.text}if(i>=n){if(i>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let f=u<r?d.lastIndexOf(e,r-u-1):-1;if(f>=0&&f+e.length+u>=n)return u+f;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function n0(t,e,n,r,s){let i=[];for(let l=0,u=0;l<t.length;l++){let d=t[l],f=u,p=u+=d.size;f>=n||p<=e?i.push(d):(f<e&&i.push(d.slice(0,e-f,r)),s&&(i.push(s),s=void 0),p>n&&i.push(d.slice(n-f,d.size,r)))}return i}function Tv(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),d,f;if(Bh(n)){for(d=u;s&&!s.node;)s=s.parent;let p=s.node;if(s&&p.isAtom&&le.isSelectable(p)&&s.parent&&!(p.isInline&&n4(n.focusNode,n.focusOffset,s.dom))){let m=s.posBefore;f=new le(l==m?u:r.resolve(m))}}else{let p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null;d=r.resolve(p)}if(!f){let p=e=="pointer"||t.state.selection.head<u.pos&&!i?1:-1;f=Nv(t,d,u,p)}return f}function uN(t){return t.editable?t.hasFocus():dN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ss(t,e=!1){let n=t.state.selection;if(cN(t,n),!!uN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Bt){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&oo(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)L4(t);else{let{anchor:r,head:s}=n,i,l;Vb&&!(n instanceof me)&&(n.$from.parent.inlineContent||(i=jb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(l=jb(t,n.to))),t.docView.setSelection(r,s,t.root,e),Vb&&(i&&Wb(i),l&&Wb(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&D4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Vb=Qt||Bt&&i4<63;function jb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(Qt&&s&&s.contentEditable=="false")return Tg(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Tg(s);if(i)return Tg(i)}}function Tg(t){return t.contentEditable="true",Qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Wb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function D4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!uN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function L4(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,Ut(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&fn&&si<=11&&(r.disabled=!0,r.disabled=!1)}function cN(t,e){if(e instanceof le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Ub(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Ub(t)}function Ub(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Nv(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||me.between(e,n,r)}function Jb(t){return t.editable&&!t.hasFocus()?!1:dN(t)}function dN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function z4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return oo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function r0(t,e){let{$anchor:n,$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&pe.findFrom(i,e)}function Bs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Qb(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Bs(t,new me(r.$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=r0(t.state,e);return s&&s instanceof le?Bs(t,s):!1}else if(!(Vn&&n.indexOf("m")>-1)){let s=r.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!i||i.isText)return!1;let u=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?le.isSelectable(i)?Bs(t,new le(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):_u?Bs(t,new me(t.state.doc.resolve(e<0?u:u+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof le&&r.node.isInline)return Bs(t,new me(e>0?r.$to:r.$from));{let s=r0(t.state,e);return s?Bs(t,s):!1}}}function Cf(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function eu(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Ho(t,e){return e<0?R4(t):B4(t)}function R4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,l=!1;for(vr&&n.nodeType==1&&r<Cf(n)&&eu(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(eu(u,-1))s=n,i=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(fN(n))break;{let u=n.previousSibling;for(;u&&eu(u,-1);)s=n.parentNode,i=Ut(u),u=u.previousSibling;if(u)n=u,r=Cf(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?s0(t,n,r):s&&s0(t,s,i)}function B4(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Cf(n),i,l;for(;;)if(r<s){if(n.nodeType!=1)break;let u=n.childNodes[r];if(eu(u,1))i=n,l=++r;else break}else{if(fN(n))break;{let u=n.nextSibling;for(;u&&eu(u,1);)i=u.parentNode,l=Ut(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=Cf(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&s0(t,i,l)}function fN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function $4(t,e){for(;t&&e==t.childNodes.length&&!Ev(t);)e=Ut(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function F4(t,e){for(;t&&!e&&!Ev(t);)e=Ut(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function s0(t,e,n){if(e.nodeType!=3){let i,l;(l=$4(e,n))?(e=l,n=0):(i=F4(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(Bh(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ss(t)},50)}function qb(t,e){let n=t.state.doc.resolve(e);if(!(Bt||o4)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function Kb(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||Vn&&n.indexOf("m")>-1)return!1;let{$from:s,$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=r0(t.state,e);if(l&&l instanceof le)return Bs(t,l)}if(!s.parent.inlineContent){let l=e<0?s:i,u=r instanceof gr?pe.near(l,e):pe.findFrom(l,e);return u?Bs(t,u):!1}return!1}function Gb(t,e){if(!(t.state.selection instanceof me))return!0;let{$head:n,$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=t.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),t.dispatch(l),!0}return!1}function Yb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function _4(t){if(!Qt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Yb(t,r,"true"),setTimeout(()=>Yb(t,r,"false"),20)}return!1}function H4(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function V4(t,e){let n=e.keyCode,r=H4(e);if(n==8||Vn&&n==72&&r=="c")return Gb(t,-1)||Ho(t,-1);if(n==46&&!e.shiftKey||Vn&&n==68&&r=="c")return Gb(t,1)||Ho(t,1);if(n==13||n==27)return!0;if(n==37||Vn&&n==66&&r=="c"){let s=n==37?qb(t,t.state.selection.from)=="ltr"?-1:1:-1;return Qb(t,s,r)||Ho(t,s)}else if(n==39||Vn&&n==70&&r=="c"){let s=n==39?qb(t,t.state.selection.from)=="ltr"?1:-1:1;return Qb(t,s,r)||Ho(t,s)}else{if(n==38||Vn&&n==80&&r=="c")return Kb(t,-1,r)||Ho(t,-1);if(n==40||Vn&&n==78&&r=="c")return _4(t)||Kb(t,1,r)||Ho(t,1);if(r==(Vn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function hN(t,e){t.someProp("transformCopied",k=>{e=k(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let k=r.firstChild;n.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let l=t.someProp("clipboardSerializer")||Dr.fromSchema(t.state.schema),u=kN(),d=u.createElement("div");d.appendChild(l.serializeFragment(r,{document:u}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=vN[f.nodeName.toLowerCase()]);){for(let k=p.length-1;k>=0;k--){let w=u.createElement(p[k]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(n)}`);let y=t.someProp("clipboardTextSerializer",k=>k(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:d,text:y}}function pN(t,e,n,r,s){let i=s.parent.type.spec.code,l,u;if(!n&&!e)return null;let d=e&&(r||i||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,i||r,t)}),i)return e?new G(V.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):G.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)u=m;else{let y=s.marks(),{schema:k}=t.state,w=Dr.fromSchema(k);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let T=l.appendChild(document.createElement("p"));b&&T.appendChild(w.serializeNode(k.text(b,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=U4(n),_u&&J4(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||kv.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!j4.test(m.parentNode.nodeName)?{ignore:!0}:null}})),p)u=Q4(Xb(u,+p[1],+p[2]),p[4]);else if(u=G.maxOpen(W4(u.content,s),!0),u.openStart||u.openEnd){let m=0,y=0;for(let k=u.content.firstChild;m<u.openStart&&!k.type.spec.isolating;m++,k=k.firstChild);for(let k=u.content.lastChild;y<u.openEnd&&!k.type.spec.isolating;y++,k=k.lastChild);u=Xb(u,m,y)}return t.someProp("transformPasted",m=>{u=m(u,t)}),u}const j4=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function W4(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(l=>{if(!i)return;let u=r.findWrapping(l.type),d;if(!u)return i=null;if(d=i.length&&s.length&&gN(u,s,l,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=yN(i[i.length-1],s.length));let f=mN(l,u);i.push(f),r=r.matchType(f.type),s=u}}),i)return V.from(i)}return t}function mN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,V.from(t));return t}function gN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=gN(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(V.from(mN(n,t,s+1))))}}function yN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,yN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(V.empty,!0);return t.copy(n.append(r))}function i0(t,e,n,r,s,i){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(i=0),s<r-1&&(u=i0(u,e,n,r,s+1,i)),s>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,i<=s).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(V.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function Xb(t,e,n){return e<t.openStart&&(t=new G(i0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new G(i0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const vN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let Zb=null;function kN(){return Zb||(Zb=document.implementation.createHTMLDocument("title"))}function U4(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=kN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&vN[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=t,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function J4(t){let e=t.querySelectorAll(Bt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Q4(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=V.from(d.create(r[u+1],s)),i++,l++}return new G(s,i,l)}const qt={},Kt={},q4={touchstart:!0,touchmove:!0};class K4{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function G4(t){for(let e in qt){let n=qt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{X4(t,r)&&!Cv(t,r)&&(t.editable||!(r.type in Kt))&&n(t,r)},q4[e]?{passive:!0}:void 0)}Qt&&t.dom.addEventListener("input",()=>null),o0(t)}function Ks(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Y4(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function o0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Cv(t,r))})}function Cv(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function X4(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function Z4(t,e){!Cv(t,e)&&qt[e.type]&&(t.editable||!(e.type in Kt))&&qt[e.type](t,e)}Kt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!SN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(cr&&Bt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Nl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,Li(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||V4(t,n)?n.preventDefault():Ks(t,"key")};Kt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Kt.keypress=(t,e)=>{let n=e;if(SN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Vn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.$from.sameParent(r.$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.$from.pos,r.$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Fh(t){return{left:t.clientX,top:t.clientY}}function eL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Ov(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let l=i.depth+1;l>0;l--)if(t.someProp(e,u=>l>i.depth?u(t,n,i.nodeAfter,i.before(l),s,!0):u(t,n,i.node(l),i.before(l),s,!1)))return!0;return!1}function gl(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function tL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&le.isSelectable(r)?(gl(t,new le(n)),!0):!1}function nL(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof le&&(r=n.node);let i=t.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let u=l>i.depth?i.nodeAfter:i.node(l);if(le.isSelectable(u)){r&&n.$from.depth>0&&l>=n.$from.depth&&i.before(n.$from.depth+1)==n.$from.pos?s=i.before(n.$from.depth):s=i.before(l);break}}return s!=null?(gl(t,le.create(t.state.doc,s)),!0):!1}function rL(t,e,n,r,s){return Ov(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?nL(t,n):tL(t,n))}function sL(t,e,n,r){return Ov(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function iL(t,e,n,r){return Ov(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||oL(t,n,r)}function oL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(gl(t,me.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let l=i>s.depth?s.nodeAfter:s.node(i),u=s.before(i);if(l.inlineContent)gl(t,me.create(r,u+1,u+1+l.content.size));else if(le.isSelectable(l))gl(t,le.create(r,u));else continue;return!0}}function Iv(t){return Of(t)}const wN=Vn?"metaKey":"ctrlKey";qt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=Iv(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&eL(n,t.input.lastClick)&&!n[wN]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let l=t.posAtCoords(Fh(n));l&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lL(t,l,n,!!r)):(i=="doubleClick"?sL:iL)(t,l.pos,l.inside,n)?n.preventDefault():Ks(t,"pointer"))};class lL{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[wN],this.allowDefault=r.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,l=p.depth?p.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof le&&f.from<=l&&f.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&vr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ss(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Fh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ks(this.view,"pointer"):rL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Qt&&this.mightDrag&&!this.mightDrag.node.isAtom||Bt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(gl(this.view,pe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ks(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ks(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}qt.touchstart=t=>{t.input.lastTouch=Date.now(),Iv(t),Ks(t,"pointer")};qt.touchmove=t=>{t.input.lastTouch=Date.now(),Ks(t,"pointer")};qt.contextmenu=t=>Iv(t);function SN(t,e){return t.composing?!0:Qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const aL=cr?5e3:-1;Kt.compositionstart=Kt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Of(t,!0),t.markCursor=null;else if(Of(t),vr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let l=i<0?s.lastChild:s.childNodes[i-1];if(!l)break;if(l.nodeType==3){t.domSelection().collapse(l,l.nodeValue.length);break}else s=l,i=-1}}t.input.composing=!0}bN(t,aL)};Kt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,bN(t,20))};function bN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Of(t),e))}function xN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function uL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Of(t,e=!1){if(!(cr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),xN(t),e||t.docView&&t.docView.dirty){let n=Tv(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function cL(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Nu=fn&&si<15||Nl&&l4<604;qt.copy=Kt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Nu?null:n.clipboardData,l=r.content(),{dom:u,text:d}=hN(t,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",u.innerHTML),i.setData("text/plain",d)):cL(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function dL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function fL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Cu(t,r.value,null,s,e):Cu(t,r.textContent,r.innerHTML,s,e)},50)}function Cu(t,e,n,r,s){let i=pN(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",d=>d(t,s,i||G.empty)))return!0;if(!i)return!1;let l=dL(i),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(i);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function EN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Kt.paste=(t,e)=>{let n=e;if(t.composing&&!cr)return;let r=Nu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Cu(t,EN(r),r.getData("text/html"),s,n)?n.preventDefault():fL(t,n)};class MN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const TN=Vn?"altKey":"ctrlKey";qt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Fh(n)),l;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof le?s.to-1:s.to))){if(r&&r.mightDrag)l=le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(l=le.create(t.state.doc,p.posBefore))}}let u=(l||t.state.selection).content(),{dom:d,text:f}=hN(t,u);n.dataTransfer.clearData(),n.dataTransfer.setData(Nu?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Nu||n.dataTransfer.setData("text/plain",f),t.dragging=new MN(u,!n[TN],l)};qt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Kt.dragover=Kt.dragenter=(t,e)=>e.preventDefault();Kt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Fh(n));if(!s)return;let i=t.state.doc.resolve(s.pos),l=r&&r.slice;l?t.someProp("transformPasted",w=>{l=w(l,t)}):l=pN(t,EN(n.dataTransfer),Nu?null:n.dataTransfer.getData("text/html"),!1,i);let u=!!(r&&!n[TN]);if(t.someProp("handleDrop",w=>w(t,n,l||G.empty,u))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?jT(t.state.doc,i.pos,l):i.pos;d==null&&(d=i.pos);let f=t.state.tr;if(u){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,l.content.firstChild):f.replaceRange(p,p,l),f.doc.eq(y))return;let k=f.doc.resolve(p);if(m&&le.isSelectable(l.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new le(k));else{let w=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((b,T,x,E)=>w=E),f.setSelection(Nv(t,k,f.doc.resolve(w)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};qt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ss(t)},20))};qt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};qt.beforeinput=(t,e)=>{if(Bt&&cr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Li(8,"Backspace")))))return;let{$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Kt)qt[t]=Kt[t];function Ou(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class If{constructor(e,n){this.toDOM=e,this.spec=n||Yi,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:l}=e.mapResult(n.from+s,this.side<0?-1:1);return l?null:new Cn(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof If&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Ou(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class oi{constructor(e,n){this.attrs=e,this.spec=n||Yi}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=l?null:new Cn(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof oi&&Ou(this.attrs,e.attrs)&&Ou(this.spec,e.spec)}static is(e){return e.type instanceof oi}destroy(){}}class Av{constructor(e,n){this.attrs=e,this.spec=n||Yi}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let l=e.mapResult(n.to+s,-1);return l.deleted||l.pos<=i.pos?null:new Cn(i.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Av&&Ou(this.attrs,e.attrs)&&Ou(this.spec,e.spec)}destroy(){}}class Cn{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new Cn(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new Cn(e,e,new If(n,r))}static inline(e,n,r,s){return new Cn(e,n,new oi(r,s))}static node(e,n,r,s){return new Cn(e,n,new Av(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof oi}get widget(){return this.type instanceof If}}const Wo=[],Yi={};class Qe{constructor(e,n){this.local=e.length?e:Wo,this.children=n.length?n:Wo}static create(e,n){return n.length?Af(n,e,0,Yi):zt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!i||i(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,s+u,i)}}map(e,n,r){return this==zt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Yi)}mapInner(e,n,r,s,i){let l;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(n,d)?(l||(l=[])).push(d):i.onRemove&&i.onRemove(this.local[u].spec)}return this.children.length?hL(this.children,l||[],e,n,r,s,i):l?new Qe(l.sort(Xi),Wo):zt}add(e,n){return n.length?this==zt?Qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((u,d)=>{let f=d+r,p;if(p=CN(n,u,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<d;)i+=3;s[i]==d?s[i+2]=s[i+2].addInner(u,p,f+1):s.splice(i,0,d,d+u.nodeSize,Af(p,u,f+1,Yi)),i+=3}});let l=NN(i?ON(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new Qe(l.length?this.local.concat(l).sort(Xi):this.local,s||this.children)}remove(e){return e.length==0||this==zt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let l,u=r[i]+n,d=r[i+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(l,u+1);f!=zt?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let u=0;u<s.length;u++)s[u].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new Qe(s,r):zt}forChild(e,n){if(this==zt)return this;if(n.isLeaf)return Qe.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let i=e+1,l=i+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<l&&d.to>i&&d.type instanceof oi){let f=Math.max(i,d.from)-i,p=Math.min(l,d.to)-i;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let u=new Qe(s.sort(Xi),Wo);return r?new js([u,r]):u}return r||zt}eq(e){if(this==e)return!0;if(!(e instanceof Qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Pv(this.localsInner(e))}localsInner(e){if(this==zt)return Wo;if(e.inlineContent||!this.local.some(oi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof oi||n.push(this.local[r]);return n}}Qe.empty=new Qe([],[]);Qe.removeOverlap=Pv;const zt=Qe.empty;class js{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Yi));return js.from(r)}forChild(e,n){if(n.isLeaf)return Qe.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=zt&&(i instanceof js?r=r.concat(i.members):r.push(i))}return js.from(r)}eq(e){if(!(e instanceof js)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?Pv(r?n:n.sort(Xi)):Wo}static from(e){switch(e.length){case 0:return zt;case 1:return e[0];default:return new js(e.every(n=>n instanceof Qe)?e:e.reduce((n,r)=>n.concat(r instanceof Qe?r:r.members),[]))}}}function hL(t,e,n,r,s,i,l){let u=t.slice();for(let f=0,p=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,k,w,b)=>{let T=b-w-(k-y);for(let x=0;x<u.length;x+=3){let E=u[x+1];if(E<0||y>E+p-m)continue;let N=u[x]+p-m;k>=N?u[x+1]=y<=N?-2:-1:y>=p&&T&&(u[x]+=T,u[x+1]+=T)}m+=T}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){d=!0,u[f+1]=-1;continue}let p=n.map(t[f]+i),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let y=n.map(t[f+1]+i,-1),k=y-s,{index:w,offset:b}=r.content.findIndex(m),T=r.maybeChild(w);if(T&&b==m&&b+T.nodeSize==k){let x=u[f+2].mapInner(n,T,p+1,t[f]+i+1,l);x!=zt?(u[f]=m,u[f+1]=k,u[f+2]=x):(u[f+1]=-2,d=!0)}else d=!0}if(d){let f=pL(u,t,e,n,s,i,l),p=Af(f,r,0,l);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let k=p.children[m];for(;y<u.length&&u[y]<k;)y+=3;u.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new Qe(e.sort(Xi),u)}function NN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new Cn(s.from+e,s.to+e,s.type))}return n}function pL(t,e,n,r,s,i,l){function u(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+i+1);return n}function CN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,l;i<t.length;i++)(l=t[i])&&l.from>n&&l.to<r&&((s||(s=[])).push(l),t[i]=null);return s}function ON(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Af(t,e,n,r){let s=[],i=!1;e.forEach((u,d)=>{let f=CN(t,u,d+n);if(f){i=!0;let p=Af(f,u,n+d+1,r);p!=zt&&s.push(d,d+u.nodeSize,p)}});let l=NN(i?ON(t):t,-n).sort(Xi);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||s.length?new Qe(l,s):zt}function Xi(t,e){return t.from-e.from||t.to-e.to}function Pv(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),ex(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),ex(e,s,r.copy(i.from,r.to)));break}}}return e}function ex(t,e,n){for(;e<t.length&&Xi(n,t[e])>0;)e++;t.splice(e,0,n)}function Ng(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=zt&&e.push(r)}),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),js.from(e)}const mL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},gL=fn&&si<=11;class yL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class vL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new yL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);fn&&si<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),gL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,mL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(Jb(this.view)){if(this.suppressingSelectionUpdates)return ss(this.view);if(fn&&si<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&oo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Tu(i))n.add(i);for(let i=e.anchorNode;i;i=Tu(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&Jb(e)&&!this.ignoreSelectionChange(r),i=-1,l=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(i=i<0?m.from:Math.min(m.from,i),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(u=!0))}if(vr&&d.length>1){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let m=p[0],y=p[1];m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Bh(r)&&(f=Tv(e))&&f.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ss(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,l),kL(e)),this.handleDOMChange(i,l,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ss(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++)n.push(e.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(fn&&si<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let l=s&&s.parentNode==e.target?Ut(s)+1:0,u=r.localPosFromDOM(e.target,l,-1),d=i&&i.parentNode==e.target?Ut(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:u,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let tx=new WeakMap,nx=!1;function kL(t){if(!tx.has(t)&&(tx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=vr,nx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),nx=!0}}function wL(t){let e;function n(d){d.preventDefault(),d.stopImmediatePropagation(),e=d.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,s=e.startOffset,i=e.endContainer,l=e.endOffset,u=t.domAtPos(t.state.selection.anchor);return oo(u.node,u.offset,i,l)&&([r,s,i,l]=[i,l,r,s]),{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:l}}function SL(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:l,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],Bh(d)||f.push({node:d.focusNode,offset:d.focusOffset})),Bt&&t.input.lastKeyCode===8)for(let T=i;T>s;T--){let x=r.childNodes[T-1],E=x.pmViewDesc;if(x.nodeName=="BR"&&!E){i=T;break}if(!E||E.size)break}let m=t.state.doc,y=t.someProp("domParser")||kv.fromSchema(t.state.schema),k=m.resolve(l),w=null,b=y.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:s,to:i,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:bL,context:k});if(f&&f[0].pos!=null){let T=f[0].pos,x=f[1]&&f[1].pos;x==null&&(x=T),w={anchor:T+l,head:x+l}}return{doc:b,sel:w,from:l,to:u}}function bL(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Qt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Qt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const xL=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function EL(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let K=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,se=Tv(t,K);if(se&&!t.state.selection.eq(se)){if(Bt&&cr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ut=>ut(t,Li(13,"Enter"))))return;let Te=t.state.tr.setSelection(se);K=="pointer"?Te.setMeta("pointer",!0):K=="key"&&Te.scrollIntoView(),i&&Te.setMeta("composition",i),t.dispatch(Te)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,f=SL(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,k;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,k="end"):(y=t.state.selection.from,k="start"),t.input.lastKeyCode=null;let w=NL(m.content,f.doc.content,f.from,y,k);if((Nl&&t.input.lastIOSEnter>Date.now()-225||cr)&&s.some(K=>K.nodeType==1&&!xL.test(K.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",K=>K(t,Li(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof me&&!d.empty&&d.$head.sameParent(d.$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let K=rx(t,t.state.doc,f.sel);if(K&&!K.eq(t.state.selection)){let se=t.state.tr.setSelection(K);i&&se.setMeta("composition",i),t.dispatch(se)}}return}if(Bt&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from&&f.sel.head==f.sel.anchor){let K=w.endB-w.start;f.sel={anchor:f.sel.anchor+K,head:f.sel.anchor+K}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof me&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),fn&&si<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let b=f.doc.resolveNoCache(w.start-f.from),T=f.doc.resolveNoCache(w.endB-f.from),x=p.resolve(w.start),E=b.sameParent(T)&&b.parent.inlineContent&&x.end()>=w.endA,N;if((Nl&&t.input.lastIOSEnter>Date.now()-225&&(!E||s.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!E&&b.pos<f.doc.content.size&&!b.sameParent(T)&&(N=pe.findFrom(f.doc.resolve(b.pos+1),1,!0))&&N.head==T.pos)&&t.someProp("handleKeyDown",K=>K(t,Li(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&TL(p,w.start,w.endA,b,T)&&t.someProp("handleKeyDown",K=>K(t,Li(8,"Backspace")))){cr&&Bt&&t.domObserver.suppressSelectionUpdates();return}Bt&&cr&&w.endB==w.start&&(t.input.lastAndroidDelete=Date.now()),cr&&!E&&b.start()!=T.start()&&T.parentOffset==0&&b.depth==T.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,T=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(K){return K(t,Li(13,"Enter"))})},20));let D=w.start,R=w.endA,L,B,J;if(E){if(b.pos==T.pos)fn&&si<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ss(t),20)),L=t.state.tr.delete(D,R),B=p.resolve(w.start).marksAcross(p.resolve(w.endA));else if(w.endA==w.endB&&(J=ML(b.parent.content.cut(b.parentOffset,T.parentOffset),x.parent.content.cut(x.parentOffset,w.endA-x.start()))))L=t.state.tr,J.type=="add"?L.addMark(D,R,J.mark):L.removeMark(D,R,J.mark);else if(b.parent.child(b.index()).isText&&b.index()==T.index()-(T.textOffset?0:1)){let K=b.parent.textBetween(b.parentOffset,T.parentOffset);if(t.someProp("handleTextInput",se=>se(t,D,R,K)))return;L=t.state.tr.insertText(K,D,R)}}if(L||(L=t.state.tr.replace(D,R,f.doc.slice(w.start-f.from,w.endB-f.from))),f.sel){let K=rx(t,L.doc,f.sel);K&&!(Bt&&cr&&t.composing&&K.empty&&(w.start!=w.endB||t.input.lastAndroidDelete<Date.now()-100)&&(K.head==D||K.head==L.mapping.map(R)-1)||fn&&K.empty&&K.head==D)&&L.setSelection(K)}B&&L.ensureMarks(B),i&&L.setMeta("composition",i),t.dispatch(L.scrollIntoView())}function rx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Nv(t,e.resolve(n.anchor),e.resolve(n.head))}function ML(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,l,u,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(s.length==1&&i.length==0)u=s[0],l="add",d=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&i.length==1)u=i[0],l="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(V.from(f).eq(t))return{mark:u,type:l}}function TL(t,e,n,r,s){if(!r.parent.isTextblock||n-e<=s.pos-r.pos||Cg(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=t.resolve(Cg(i,!0,!0));return!l.parent.isTextblock||l.pos>n||Cg(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Cg(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function NL(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,i-Math.min(l,u));r-=l+d-i}if(l<i&&t.size<e.size){let d=r<=i&&r>=l?i-r:0;i-=d,i&&i<e.size&&sx(e.textBetween(i-1,i+1))&&(i+=d?1:-1),u=i+(u-l),l=i}else if(u<i){let d=r<=i&&r>=u?i-r:0;i-=d,i&&i<t.size&&sx(t.textBetween(i-1,i+1))&&(i+=d?1:-1),l=i+(l-u),u=i}return{start:i,endA:l,endB:u}}function sx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class CL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new K4,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(ux),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=lx(this),ox(this),this.nodeViews=ax(this),this.docView=_b(this.state.doc,ix(this),Ng(this),this.dom,this),this.domObserver=new vL(this,(r,s,i,l)=>EL(this,r,s,i,l)),this.domObserver.start(),G4(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&o0(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(ux),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&(xN(this),l=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let k=ax(this);IL(k,this.nodeViews)&&(this.nodeViews=k,i=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&o0(this),this.editable=lx(this),ox(this);let d=Ng(this),f=ix(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(l=!0);let y=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&c4(this);if(l){this.domObserver.stop();let k=m&&(fn||Bt)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&OL(s.selection,e.selection);if(m){let w=Bt?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=_b(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&z4(this))?ss(this,k):(cN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&d4(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Lb(this,n.getBoundingClientRect(),e)}else Lb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new MN(e.slice,e.move,s<0?void 0:le.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(s=n?n(u):u))return s}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let u=i[l].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(fn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&f4(this.dom),ss(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return y4(this,e)}coordsAtPos(e,n=1){return nN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return b4(this,n||this.state,e)}pasteHTML(e,n){return Cu(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Cu(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(Y4(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ng(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Z4(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return Qt&&this.root.nodeType===11&&r4(this.dom.ownerDocument)==this.dom?wL(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function ix(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[Cn.node(0,t.state.doc.content.size,e)]}function ox(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Cn.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function lx(t){return!t.someProp("editable",e=>e(t.state)===!1)}function OL(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function ax(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function IL(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function ux(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ci={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Pf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},AL=typeof navigator<"u"&&/Mac/.test(navigator.platform),PL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Mt=0;Mt<10;Mt++)ci[48+Mt]=ci[96+Mt]=String(Mt);for(var Mt=1;Mt<=24;Mt++)ci[Mt+111]="F"+Mt;for(var Mt=65;Mt<=90;Mt++)ci[Mt]=String.fromCharCode(Mt+32),Pf[Mt]=String.fromCharCode(Mt);for(var Og in ci)Pf.hasOwnProperty(Og)||(Pf[Og]=ci[Og]);function DL(t){var e=AL&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||PL&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Pf:ci)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const LL=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function zL(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))LL?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function RL(t){let e=Object.create(null);for(let n in t)e[zL(n)]=t[n];return e}function Ig(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function BL(t){return new Xt({props:{handleKeyDown:$L(t)}})}function $L(t){let e=RL(t);return function(n,r){let s=DL(r),i,l=e[Ig(s,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[Ig(s,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=ci[r.keyCode])&&i!=s){let u=e[Ig(i,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const FL=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function _L(t,e){let{$cursor:n}=t.selection;return!n||n.parentOffset>0?null:n}const HL=(t,e,n)=>{let r=_L(t);if(!r)return!1;let s=IN(r);if(!s){let l=r.blockRange(),u=l&&zl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&DN(t,s,e))return!0;if(r.parent.content.size==0&&(Cl(i,"end")||le.isSelectable(i))){let l=bv(t.doc,r.before(),r.after(),G.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Cl(i,"end")?pe.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):le.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function Cl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const VL=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(r.parentOffset>0)return!1;i=IN(r)}let l=i&&i.nodeBefore;return!l||!le.isSelectable(l)?!1:(e&&e(t.tr.setSelection(le.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function IN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function jL(t,e){let{$cursor:n}=t.selection;return!n||n.parentOffset<n.parent.content.size?null:n}const WL=(t,e,n)=>{let r=jL(t);if(!r)return!1;let s=AN(r);if(!s)return!1;let i=s.nodeAfter;if(DN(t,s,e))return!0;if(r.parent.content.size==0&&(Cl(i,"start")||le.isSelectable(i))){let l=bv(t.doc,r.before(),r.after(),G.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Cl(i,"start")?pe.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):le.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},UL=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(r.parentOffset<r.parent.content.size)return!1;i=AN(r)}let l=i&&i.nodeAfter;return!l||!le.isSelectable(l)?!1:(e&&e(t.tr.setSelection(le.create(t.doc,i.pos)).scrollIntoView()),!0)};function AN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const JL=(t,e)=>{let n=t.selection,r=n instanceof le,s;if(r){if(n.node.isTextblock||!mi(t.doc,n.from))return!1;s=n.from}else if(s=zh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(le.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},QL=(t,e)=>{let n=t.selection,r;if(n instanceof le){if(n.node.isTextblock||!mi(t.doc,n.to))return!1;r=n.to}else if(r=zh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},qL=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&zl(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},KL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function PN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const GL=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),l=PN(s.contentMatchAt(i));if(!l||!s.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(pe.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},YL=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof gr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=PN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(me.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},XL=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(pl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&zl(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},ZL=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(le.create(t.doc,s))),!0)};function ez(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||mi(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function DN(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,l;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(ez(t,e,n))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,y=V.empty;for(let b=i.length-1;b>=0;b--)y=V.from(i[b].create(null,y));y=V.from(r.copy(y));let k=t.tr.step(new mt(e.pos-1,m,e.pos,m,new G(y,1,0),i.length,!0)),w=m+2*i.length;mi(k.doc,w)&&k.join(w),n(k.scrollIntoView())}return!0}let d=pe.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&zl(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&Cl(s,"start",!0)&&Cl(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let k=s,w=1;for(;!k.isTextblock;k=k.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,k.content)){if(n){let b=V.empty;for(let x=y.length-1;x>=0;x--)b=V.from(y[x].copy(b));let T=t.tr.step(new mt(e.pos-y.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new G(b,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function LN(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const tz=LN(-1),nz=LN(1);function rz(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i),u=l&&Sv(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function cx(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[l];i.setBlockType(u,d,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sz(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(t)&&l.startIndex==0){if(s.index(l.depth-1)==0)return!1;let p=n.doc.resolve(l.start-2);d=new Ef(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new Ef(s,n.doc.resolve(i.end(l.depth)),l.depth)),u=!0}let f=Sv(d,t,e,l);return f?(r&&r(iz(n.tr,l,f,u,t).scrollIntoView()),!0):!1}}function iz(t,e,n,r,s){let i=V.empty;for(let p=n.length-1;p>=0;p--)i=V.from(n[p].type.create(n[p].attrs,i));t.step(new mt(e.start-(r?2:0),e.end,e.start,e.end,new G(i,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==s&&(l=p+1);let u=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&pl(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return t}function oz(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?lz(e,n,t,i):az(e,n,i):!0:!1}}function lz(t,e,n,r){let s=t.tr,i=r.end,l=r.$to.end(r.depth);i<l&&(s.step(new mt(i-1,l,i,l,new G(V.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Ef(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const u=zl(r);if(u==null)return!1;s.lift(r,u);let d=s.mapping.map(i,-1)-1;return mi(s.doc,d)&&s.join(d),e(s.scrollIntoView()),!0}function az(t,e,n){let r=t.tr,s=n.parent;for(let k=n.end,w=n.endIndex-1,b=n.startIndex;w>b;w--)k-=s.child(w).nodeSize,r.delete(k-1,k+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(u?0:1),p+1,l.content.append(d?V.empty:V.from(s))))return!1;let m=i.pos,y=m+l.nodeSize;return r.step(new mt(m-(u?1:0),y+(d?1:0),m+1,y-1,new G((u?V.empty:V.from(s.copy(V.empty))).append(d?V.empty:V.from(s.copy(V.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function uz(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==u.type,p=V.from(f?t.create():null),m=new G(V.from(t.create(null,V.from(u.type.create(null,p)))),f?3:1,0),y=i.start,k=i.end;n(e.tr.step(new mt(y-(f?3:1),k,y,k,m,1,!0)).scrollIntoView())}return!0}}function _h(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class Hh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...f)=>{const p=d(...f)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(f),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,k])=>[y,(...w)=>{const b=this.buildProps(f,n),T=k(...w)(b);return u.push(T),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...f)=>d(...f)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u={tr:e,editor:s,view:l,state:_h({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(u)]))}};return u}}class cz{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function te(t,e,n){return t.config[e]===void 0&&t.parent?te(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?te(t.parent,e,n):null}):t.config[e]}function Vh(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function zN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Vh(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=te(l,"addGlobalAttributes",u);d&&d().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,y])=>{e.push({type:p,name:m,attribute:{...i,...y}})})})})}),s.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=te(l,"addAttributes",u);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const y={...i,...m};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:l.name,name:p,attribute:y})})}),e}function vt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Le(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?i.split(" "):[],u=r[s]?r[s].split(" "):[],d=l.filter(f=>!u.includes(f));r[s]=[...u,...d].join(" ")}else s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function l0(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Le(n,r),{})}function RN(t){return typeof t=="function"}function he(t,e=void 0,...n){return RN(t)?e?t.bind(e)(...n):t(...n):t}function dz(t={}){return Object.keys(t).length===0&&t.constructor===Object}function fz(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function dx(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):fz(n.getAttribute(l.name));return u==null?i:{...i,[l.name]:u}},{});return{...r,...s}}}}function fx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&dz(n)?!1:n!=null))}function hz(t,e){var n;const r=zN(t),{nodeExtensions:s,markExtensions:i}=Vh(t),l=(n=s.find(f=>te(f,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(s.map(f=>{const p=r.filter(x=>x.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((x,E)=>{const N=te(E,"extendNodeSchema",m);return{...x,...N?N(f):{}}},{}),k=fx({...y,content:he(te(f,"content",m)),marks:he(te(f,"marks",m)),group:he(te(f,"group",m)),inline:he(te(f,"inline",m)),atom:he(te(f,"atom",m)),selectable:he(te(f,"selectable",m)),draggable:he(te(f,"draggable",m)),code:he(te(f,"code",m)),defining:he(te(f,"defining",m)),isolating:he(te(f,"isolating",m)),attrs:Object.fromEntries(p.map(x=>{var E;return[x.name,{default:(E=x==null?void 0:x.attribute)===null||E===void 0?void 0:E.default}]}))}),w=he(te(f,"parseHTML",m));w&&(k.parseDOM=w.map(x=>dx(x,p)));const b=te(f,"renderHTML",m);b&&(k.toDOM=x=>b({node:x,HTMLAttributes:l0(x,p)}));const T=te(f,"renderText",m);return T&&(k.toText=T),[f.name,k]})),d=Object.fromEntries(i.map(f=>{const p=r.filter(T=>T.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((T,x)=>{const E=te(x,"extendMarkSchema",m);return{...T,...E?E(f):{}}},{}),k=fx({...y,inclusive:he(te(f,"inclusive",m)),excludes:he(te(f,"excludes",m)),group:he(te(f,"group",m)),spanning:he(te(f,"spanning",m)),code:he(te(f,"code",m)),attrs:Object.fromEntries(p.map(T=>{var x;return[T.name,{default:(x=T==null?void 0:T.attribute)===null||x===void 0?void 0:x.default}]}))}),w=he(te(f,"parseHTML",m));w&&(k.parseDOM=w.map(T=>dx(T,p)));const b=te(f,"renderHTML",m);return b&&(k.toDOM=T=>b({mark:T,HTMLAttributes:l0(T,p)})),[f.name,k]}));return new bD({topNode:l,nodes:u,marks:d})}function Ag(t,e){return e.nodes[t]||e.marks[t]||null}function hx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const pz=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,l,u)=>{var d,f;const p=((f=(d=s.type.spec).toText)===null||f===void 0?void 0:f.call(d,{node:s,pos:i,parent:l,index:u}))||s.textContent||"%leaf%";n+=p.slice(0,Math.max(0,r-i))}),n};function Dv(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class jh{constructor(e){this.find=e.find,this.handler=e.handler}}const mz=(t,e)=>{if(Dv(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Pg(t){var e;const{editor:n,from:r,to:s,text:i,rules:l,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=pz(f)+i;return l.forEach(y=>{if(p)return;const k=mz(m,y.find);if(!k)return;const w=d.state.tr,b=_h({state:d.state,transaction:w}),T={from:r-(k[0].length-i.length),to:s},{commands:x,chain:E,can:N}=new Hh({editor:n,state:b});y.handler({state:b,range:T,match:k,commands:x,chain:E,can:N})===null||!w.steps.length||(w.setMeta(u,{transform:w,from:r,to:s,text:i}),d.dispatch(w),p=!0)}),p}function gz(t){const{editor:e,rules:n}=t,r=new Xt({state:{init(){return null},apply(s,i){return s.getMeta(r)||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,l,u){return Pg({editor:e,from:i,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Pg({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:l}=s.state.selection;return l?Pg({editor:e,from:l.pos,to:l.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function yz(t){return typeof t=="number"}class vz{constructor(e){this.find=e.find,this.handler=e.handler}}const kz=(t,e,n)=>{if(Dv(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function wz(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:l,dropEvent:u}=t,{commands:d,chain:f,can:p}=new Hh({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(y,k)=>{if(!y.isTextblock||y.type.spec.code)return;const w=Math.max(r,k),b=Math.min(s,k+y.content.size),T=y.textBetween(w-k,b-k,void 0,"");kz(T,i.find,l).forEach(x=>{if(x.index===void 0)return;const E=w+x.index+1,N=E+x[0].length,D={from:n.tr.mapping.map(E),to:n.tr.mapping.map(N)},R=i.handler({state:n,range:D,match:x,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:u});m.push(R)})}),m.every(y=>y!==null)}function Sz(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,l=new ClipboardEvent("paste"),u=new DragEvent("drop");return n.map(d=>new Xt({view(f){const p=m=>{var y;r=!((y=f.dom.parentElement)===null||y===void 0)&&y.contains(m.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",p),{destroy(){window.removeEventListener("dragstart",p)}}},props:{handleDOMEvents:{drop:(f,p)=>(i=r===f.dom.parentElement,u=p,!1),paste:(f,p)=>{var m;const y=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return l=p,s=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,m)=>{const y=f[0],k=y.getMeta("uiEvent")==="paste"&&!s,w=y.getMeta("uiEvent")==="drop"&&!i;if(!k&&!w)return;const b=p.doc.content.findDiffStart(m.doc.content),T=p.doc.content.findDiffEnd(m.doc.content);if(!yz(b)||!T||b===T.b)return;const x=m.tr,E=_h({state:m,transaction:x});if(!(!wz({editor:e,state:E,from:Math.max(b-1,0),to:T.b-1,rule:d,pasteEvent:l,dropEvent:u})||!x.steps.length))return u=new DragEvent("drop"),l=new ClipboardEvent("paste"),x}}))}function bz(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class ol{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ol.resolve(e),this.schema=hz(this.extensions,n),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Ag(r.name,this.schema)};r.type==="mark"&&(!((s=he(te(r,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);const l=te(r,"onBeforeCreate",i);l&&this.editor.on("beforeCreate",l);const u=te(r,"onCreate",i);u&&this.editor.on("create",u);const d=te(r,"onUpdate",i);d&&this.editor.on("update",d);const f=te(r,"onSelectionUpdate",i);f&&this.editor.on("selectionUpdate",f);const p=te(r,"onTransaction",i);p&&this.editor.on("transaction",p);const m=te(r,"onFocus",i);m&&this.editor.on("focus",m);const y=te(r,"onBlur",i);y&&this.editor.on("blur",y);const k=te(r,"onDestroy",i);k&&this.editor.on("destroy",k)})}static resolve(e){const n=ol.sort(ol.flatten(e)),r=bz(n.map(s=>s.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=te(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((n,r)=>{const s=te(n,"priority")||100,i=te(r,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Ag(n.name,this.schema)},s=te(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=ol.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(l=>{const u={name:l.name,options:l.options,storage:l.storage,editor:e,type:Ag(l.name,this.schema)},d=[],f=te(l,"addKeyboardShortcuts",u);let p={};if(l.type==="mark"&&l.config.exitable&&(p.ArrowRight=()=>mn.handleExit({editor:e,mark:l})),f){const b=Object.fromEntries(Object.entries(f()).map(([T,x])=>[T,()=>x({editor:e})]));p={...p,...b}}const m=BL(p);d.push(m);const y=te(l,"addInputRules",u);hx(l,e.options.enableInputRules)&&y&&r.push(...y());const k=te(l,"addPasteRules",u);hx(l,e.options.enablePasteRules)&&k&&s.push(...k());const w=te(l,"addProseMirrorPlugins",u);if(w){const b=w();d.push(...b)}return d}).flat();return[gz({editor:e,rules:r}),...Sz({editor:e,rules:s}),...i]}get attributes(){return zN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Vh(this.extensions);return Object.fromEntries(n.filter(r=>!!te(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:vt(r.name,this.schema)},l=te(r,"addNodeView",i);if(!l)return[];const u=(d,f,p,m)=>{const y=l0(d,s);return l()({editor:e,node:d,getPos:p,decorations:m,HTMLAttributes:y,extension:r})};return[r.name,u]}))}}function xz(t){return Object.prototype.toString.call(t).slice(8,-1)}function Dg(t){return xz(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Wh(t,e){const n={...t};return Dg(t)&&Dg(e)&&Object.keys(e).forEach(r=>{Dg(e[r])?r in t?n[r]=Wh(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class pn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new pn(e)}configure(e={}){const n=this.extend();return n.options=Wh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new pn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}}function BN(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let u="",d=!0;return t.nodesBetween(r,s,(f,p,m,y)=>{var k;const w=l==null?void 0:l[f.type.name];w?(f.isBlock&&!d&&(u+=i,d=!0),m&&(u+=w({node:f,pos:p,parent:m,index:y,range:e}))):f.isText?(u+=(k=f==null?void 0:f.text)===null||k===void 0?void 0:k.slice(Math.max(r,p)-p,s-p),d=!1):f.isBlock&&!d&&(u+=i,d=!0)}),u}function $N(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Ez=pn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Xt({key:new Gn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,l=Math.min(...i.map(f=>f.$from.pos)),u=Math.max(...i.map(f=>f.$to.pos)),d=$N(n);return BN(r,{from:l,to:u},{textSerializers:d})}}})]}}),Mz=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Tz=(t=!1)=>({commands:e})=>e.setContent("",t),Nz=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+u.nodeSize)),k=m.blockRange(y);if(!k)return;const w=zl(k);if(u.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(k.start,b)}(w||w===0)&&e.lift(k,w)})}),!0},Cz=t=>e=>t(e),Oz=()=>({state:t,dispatch:e})=>YL(t,e),Iz=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new me(r.doc.resolve(l-1))),!0},Az=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),u=s.after(i);t.delete(l,u).scrollIntoView()}return!0}return!1},Pz=t=>({tr:e,state:n,dispatch:r})=>{const s=vt(t,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s){if(r){const u=i.before(l),d=i.after(l);e.delete(u,d).scrollIntoView()}return!0}return!1},Dz=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Lz=()=>({state:t,dispatch:e})=>FL(t,e),zz=()=>({commands:t})=>t.keyboardShortcut("Enter"),Rz=()=>({state:t,dispatch:e})=>GL(t,e);function Df(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:Dv(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function a0(t,e,n={}){return t.find(r=>r.type===e&&Df(r.attrs,n))}function Bz(t,e,n={}){return!!a0(t,e,n)}function Lv(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=a0([...r.node.marks],e,n);if(!s)return;let i=r.index,l=t.start()+r.offset,u=i+1,d=l+r.node.nodeSize;for(a0([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,l-=t.parent.child(i).nodeSize;for(;u<t.parent.childCount&&Bz([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function yi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const $z=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=yi(t,r.schema),{doc:l,selection:u}=n,{$from:d,from:f,to:p}=u;if(s){const m=Lv(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=me.create(l,m.from,m.to);n.setSelection(y)}}return!0},Fz=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function FN(t){return t instanceof me}function _i(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function _N(t,e=null){if(!e)return null;const n=pe.atStart(t),r=pe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?me.create(t,_i(0,s,i),_i(t.content.size,s,i)):me.create(t,_i(e,s,i),_i(e,s,i))}function zv(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const _z=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{zv()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!FN(n.state.selection))return l(),!0;const u=_N(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return i&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},Hz=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),Vz=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),u0=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&!/\S/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&u0(r)}return t};function px(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return u0(n),u0(n)}function Lf(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?V.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Lf("",e,n)}if(typeof t=="string"){const r=kv.fromSchema(e);return n.slice?r.parseSlice(px(t),n.parseOptions).content:r.parse(px(t),n.parseOptions)}return Lf("",e,n)}function jz(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Et||s instanceof mt))return;const i=t.mapping.maps[r];let l=0;i.forEach((u,d,f,p)=>{l===0&&(l=p)}),t.setSelection(pe.near(t.doc.resolve(l),n))}const Wz=t=>t.toString().startsWith("<"),Uz=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const l=Lf(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(l.toString()==="<>")return!0;let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((Wz(l)?l:[l]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),u===d&&p){const{parent:m}=r.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,d+=1)}f?Array.isArray(e)?r.insertText(e.map(m=>m.text||"").join(""),u,d):typeof e=="object"&&e&&e.text?r.insertText(e.text,u,d):r.insertText(e,u,d):r.replaceWith(u,d,l),n.updateSelection&&jz(r,r.steps.length-1,-1)}return!0},Jz=()=>({state:t,dispatch:e})=>JL(t,e),Qz=()=>({state:t,dispatch:e})=>QL(t,e),qz=()=>({state:t,dispatch:e})=>HL(t,e),Kz=()=>({state:t,dispatch:e})=>WL(t,e),Gz=()=>({tr:t,state:e,dispatch:n})=>{try{const r=zh(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},Yz=()=>({state:t,dispatch:e,tr:n})=>{try{const r=zh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function Rv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Xz(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))zv()||Rv()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const Zz=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=Xz(t).split(/-(?!$)/),l=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,u))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Iu(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,l=e?vt(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(p,m)=>{if(p.isText)return;const y=Math.max(r,m),k=Math.min(s,m+p.nodeSize);u.push({node:p,from:y,to:k})});const d=s-r,f=u.filter(p=>l?l.name===p.node.type.name:!0).filter(p=>Df(p.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((p,m)=>p+m.to-m.from,0)>=d}const eR=(t,e={})=>({state:n,dispatch:r})=>{const s=vt(t,n.schema);return Iu(n,s,e)?qL(n,r):!1},tR=()=>({state:t,dispatch:e})=>XL(t,e),nR=t=>({state:e,dispatch:n})=>{const r=vt(t,e.schema);return oz(r)(e,n)},rR=()=>({state:t,dispatch:e})=>KL(t,e);function Uh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function mx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const sR=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=Uh(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=vt(t,r.schema)),u==="mark"&&(l=yi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,mx(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(mx(m.attrs,e)))})})}),!0):!1},iR=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),oR=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),lR=()=>({state:t,dispatch:e})=>VL(t,e),aR=()=>({state:t,dispatch:e})=>UL(t,e),uR=()=>({state:t,dispatch:e})=>ZL(t,e),cR=()=>({state:t,dispatch:e})=>nz(t,e),dR=()=>({state:t,dispatch:e})=>tz(t,e);function HN(t,e,n={}){return Lf(t,e,{slice:!1,parseOptions:n})}const fR=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:l}=r,u=HN(t,s.schema,n);return i&&r.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!e),!0};function Vu(t,e){const n=yi(e,t.schema),{from:r,to:s,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function hR(t,e){const n=new qT(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function pR(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function mR(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function gR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Bv(t){return e=>gR(e.$from,t)}function yR(t,e){const n=Dr.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function vR(t,e){const n={from:0,to:t.content.size};return BN(t,n,e)}function kR(t,e){const n=vt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,u=>{i.push(u)});const l=i.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function VN(t,e){const n=Uh(typeof e=="string"?e:e.name,t.schema);return n==="node"?kR(t,e):n==="mark"?Vu(t,e):{}}function wR(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function SR(t){const e=wR(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,i)=>i!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function bR(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const l=[];if(s.ranges.length)s.forEach((u,d)=>{l.push({from:u,to:d})});else{const{from:u,to:d}=n[i];if(u===void 0||d===void 0)return;l.push({from:u,to:d})}l.forEach(({from:u,to:d})=>{const f=e.slice(i).map(u,-1),p=e.slice(i).map(d),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),SR(r)}function $v(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t-1),l=Lv(i,s.type);l&&r.push({mark:s,...l})}):n.nodesBetween(t,e,(s,i)=>{!s||s.nodeSize===void 0||r.push(...s.marks.map(l=>({from:i,to:i+s.nodeSize,mark:l})))}),r}function Vd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function c0(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?yi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>Df(p.attrs,n,{strict:!1}));let l=0;const u=[];if(s.forEach(({$from:p,$to:m})=>{const y=p.pos,k=m.pos;t.doc.nodesBetween(y,k,(w,b)=>{if(!w.isText&&!w.marks.length)return;const T=Math.max(y,b),x=Math.min(k,b+w.nodeSize),E=x-T;l+=E,u.push(...w.marks.map(N=>({mark:N,from:T,to:x})))})}),l===0)return!1;const d=u.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>Df(p.mark.attrs,n,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),f=u.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,m)=>p+m.to-m.from,0);return(d>0?d+f:d)>=l}function xR(t,e,n={}){if(!e)return Iu(t,null,n)||c0(t,null,n);const r=Uh(e,t.schema);return r==="node"?Iu(t,e,n):r==="mark"?c0(t,e,n):!1}function gx(t,e){const{nodeExtensions:n}=Vh(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=he(te(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function ER(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function MR(t,e,n){var r;const{selection:s}=e;let i=null;if(FN(s)&&(i=s.$cursor),i){const u=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(u)||!u.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({$from:u,$to:d})=>{let f=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const k=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(b=>b.type.excludes(n));f=k&&w}return!f}),f})}const TR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:l,ranges:u}=i,d=yi(t,r.schema);if(s)if(l){const f=Vu(r,d);n.addStoredMark(d.create({...f,...e}))}else u.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,k)=>{const w=Math.max(k,p),b=Math.min(k+y.nodeSize,m);y.marks.find(T=>T.type===d)?y.marks.forEach(T=>{d===T.type&&n.addMark(w,b,d.create({...T.attrs,...e}))}):n.addMark(w,b,d.create(e))})});return MR(r,n,d)},NR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),CR=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=vt(t,n.schema);return i.isTextblock?s().command(({commands:l})=>cx(i,e)(n)?!0:l.clearNodes()).command(({state:l})=>cx(i,e)(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},OR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=_i(t,0,r.content.size),i=le.create(r,s);e.setSelection(i)}return!0},IR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,l=me.atStart(r).from,u=me.atEnd(r).to,d=_i(s,l,u),f=_i(i,l,u),p=me.create(r,d,f);e.setSelection(p)}return!0},AR=t=>({state:e,dispatch:n})=>{const r=vt(t,e.schema);return uz(r)(e,n)};function yx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const PR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:l}=e,{$from:u,$to:d}=i,f=s.extensionManager.attributes,p=Vd(f,u.node().type.name,u.node().attrs);if(i instanceof le&&i.node.isBlock)return!u.parentOffset||!pl(l,u.pos)?!1:(r&&(t&&yx(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(r){const m=d.parentOffset===d.parent.content.size;i instanceof me&&e.deleteSelection();const y=u.depth===0?void 0:pR(u.node(-1).contentMatchAt(u.indexAfter(-1)));let k=m&&y?[{type:y,attrs:p}]:void 0,w=pl(e.doc,e.mapping.map(u.pos),1,k);if(!k&&!w&&pl(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,k=y?[{type:y,attrs:p}]:void 0),w&&(e.split(e.mapping.map(u.pos),1,k),y&&!m&&!u.parentOffset&&u.parent.type!==y)){const b=e.mapping.map(u.before()),T=e.doc.resolve(b);u.node(-1).canReplaceWith(T.index(),T.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&yx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},DR=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const l=vt(t,n.schema),{$from:u,$to:d}=n.selection,f=n.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const m=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let T=V.empty;const x=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-x;B>=u.depth-3;B-=1)T=V.from(u.node(B).copy(T));const E=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,N=Vd(m,u.node().type.name,u.node().attrs),D=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(N))||void 0;T=T.append(V.from(l.createAndFill(null,D)||void 0));const R=u.before(u.depth-(x-1));e.replace(R,u.after(-E),new G(T,4-x,0));let L=-1;e.doc.nodesBetween(R,e.doc.content.size,(B,J)=>{if(L>-1)return!1;B.isTextblock&&B.content.size===0&&(L=J+1)}),L>-1&&e.setSelection(me.near(e.doc.resolve(L))),e.scrollIntoView()}return!0}const y=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,k=Vd(m,p.type.name,p.attrs),w=Vd(m,u.node().type.name,u.node().attrs);e.delete(u.pos,d.pos);const b=y?[{type:l,attrs:k},{type:y,attrs:w}]:[{type:l,attrs:k}];if(!pl(e.doc,u.pos,2))return!1;if(r){const{selection:T,storedMarks:x}=n,{splittableMarks:E}=s.extensionManager,N=x||T.$to.parentOffset&&T.$from.marks();if(e.split(u.pos,2,b).scrollIntoView(),!N||!r)return!0;const D=N.filter(R=>E.includes(R.type.name));e.ensureMarks(D)}return!0},Lg=(t,e)=>{const n=Bv(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&mi(t.doc,n.pos)&&t.join(n.pos),!0},zg=(t,e)=>{const n=Bv(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&mi(t.doc,r)&&t.join(r),!0},LR=(t,e,n,r={})=>({editor:s,tr:i,state:l,dispatch:u,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,k=vt(t,l.schema),w=vt(e,l.schema),{selection:b,storedMarks:T}=l,{$from:x,$to:E}=b,N=x.blockRange(E),D=T||b.$to.parentOffset&&b.$from.marks();if(!N)return!1;const R=Bv(L=>gx(L.type.name,m))(b);if(N.depth>=1&&R&&N.depth-R.depth<=1){if(R.node.type===k)return f.liftListItem(w);if(gx(R.node.type.name,m)&&k.validContent(R.node.content)&&u)return d().command(()=>(i.setNodeMarkup(R.pos,k),!0)).command(()=>Lg(i,k)).command(()=>zg(i,k)).run()}return!n||!D||!u?d().command(()=>p().wrapInList(k,r)?!0:f.clearNodes()).wrapInList(k,r).command(()=>Lg(i,k)).command(()=>zg(i,k)).run():d().command(()=>{const L=p().wrapInList(k,r),B=D.filter(J=>y.includes(J.type.name));return i.ensureMarks(B),L?!0:f.clearNodes()}).wrapInList(k,r).command(()=>Lg(i,k)).command(()=>zg(i,k)).run()},zR=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,l=yi(t,r.schema);return c0(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:i}):s.setMark(l,e)},RR=(t,e,n={})=>({state:r,commands:s})=>{const i=vt(t,r.schema),l=vt(e,r.schema);return Iu(r,i,n)?s.setNode(l):s.setNode(i,n)},BR=(t,e={})=>({state:n,commands:r})=>{const s=vt(t,n.schema);return Iu(n,s,e)?r.lift(s):r.wrapIn(s,e)},$R=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const l=t.tr,u=i.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(i.text){const d=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else l.delete(i.from,i.to)}return!0}}return!1},FR=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},_R=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=yi(t,r.schema),{$from:f,empty:p,ranges:m}=u;if(!s)return!0;if(p&&l){let{from:y,to:k}=u;const w=(i=f.marks().find(T=>T.type===d))===null||i===void 0?void 0:i.attrs,b=Lv(f,d,w);b&&(y=b.from,k=b.to),n.removeMark(y,k,d)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},HR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=Uh(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=vt(t,r.schema)),u==="mark"&&(l=yi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{i&&i===m.type&&n.setNodeMarkup(y,void 0,{...m.attrs,...e}),l&&m.marks.length&&m.marks.forEach(k=>{if(l===k.type){const w=Math.max(y,f),b=Math.min(y+m.nodeSize,p);n.addMark(w,b,l.create({...k.attrs,...e}))}})})}),!0):!1},VR=(t,e={})=>({state:n,dispatch:r})=>{const s=vt(t,n.schema);return rz(s,e)(n,r)},jR=(t,e={})=>({state:n,dispatch:r})=>{const s=vt(t,n.schema);return sz(s,e)(n,r)};var WR=Object.freeze({__proto__:null,blur:Mz,clearContent:Tz,clearNodes:Nz,command:Cz,createParagraphNear:Oz,cut:Iz,deleteCurrentNode:Az,deleteNode:Pz,deleteRange:Dz,deleteSelection:Lz,enter:zz,exitCode:Rz,extendMarkRange:$z,first:Fz,focus:_z,forEach:Hz,insertContent:Vz,insertContentAt:Uz,joinUp:Jz,joinDown:Qz,joinBackward:qz,joinForward:Kz,joinItemBackward:Gz,joinItemForward:Yz,keyboardShortcut:Zz,lift:eR,liftEmptyBlock:tR,liftListItem:nR,newlineInCode:rR,resetAttributes:sR,scrollIntoView:iR,selectAll:oR,selectNodeBackward:lR,selectNodeForward:aR,selectParentNode:uR,selectTextblockEnd:cR,selectTextblockStart:dR,setContent:fR,setMark:TR,setMeta:NR,setNode:CR,setNodeSelection:OR,setTextSelection:IR,sinkListItem:AR,splitBlock:PR,splitListItem:DR,toggleList:LR,toggleMark:zR,toggleNode:RR,toggleWrap:BR,undoInputRule:$R,unsetAllMarks:FR,unsetMark:_R,updateAttributes:HR,wrapIn:VR,wrapInList:jR});const UR=pn.create({name:"commands",addCommands(){return{...WR}}}),JR=pn.create({name:"editable",addProseMirrorPlugins(){return[new Xt({key:new Gn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),QR=pn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Xt({key:new Gn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),qR=pn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:f,$anchor:p}=u,{pos:m,parent:y}=p,k=p.parent.isTextblock?l.doc.resolve(m-1):p,w=k.parent.type.spec.isolating,b=p.pos-p.parentOffset,T=w&&k.parent.childCount===1?b===p.pos:pe.atStart(d).from===m;return!f||!T||!y.type.isTextblock||y.textContent.length?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return zv()||Rv()?s:r},addProseMirrorPlugins(){return[new Xt({key:new Gn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:r,from:s,to:i}=e.selection,l=pe.atStart(e.doc).from,u=pe.atEnd(e.doc).to;if(r||!(s===l&&i===u)||n.doc.textBetween(0,n.doc.content.size," "," ").length!==0)return;const d=n.tr,f=_h({state:n,transaction:d}),{commands:p}=new Hh({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),KR=pn.create({name:"tabindex",addProseMirrorPlugins(){return[new Xt({key:new Gn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var GR=Object.freeze({__proto__:null,ClipboardTextSerializer:Ez,Commands:UR,Editable:JR,FocusEvents:QR,Keymap:qR,Tabindex:KR});const YR=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function XR(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let ZR=class extends cz{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=XR(YR,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=RN(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e=typeof t=="string"?`${t}$`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(GR):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(e==null?void 0:e.type));this.extensionManager=new ol(t,this)}createCommandManager(){this.commandManager=new Hh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=HN(this.options.content,this.schema,this.options.parseOptions),e=_N(t,this.options.autofocus);this.view=new CL(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:il.create({doc:t,selection:e||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(i=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(i)});return}const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),s=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return VN(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return xR(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return yR(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return vR(this.state.doc,{blockSeparator:e,textSerializers:{...$N(this.schema),...n}})}get isEmpty(){return ER(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function ao(t){return new jh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=he(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,l=r[r.length-1],u=r[0];if(l){const d=u.search(/\S/),f=n.from+u.indexOf(l),p=f+l.length;if($v(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(k=>k===t.type&&k!==y.mark.type)).filter(y=>y.to>f).length)return null;p<n.to&&i.delete(p,n.to),f>n.from&&i.delete(n.from+d,f);const m=n.from+d+l.length;i.addMark(n.from+d,m,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function eB(t){return new jh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=he(t.getAttributes,void 0,r)||{},{tr:i}=e,l=n.from;let u=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>u?p=u:u=p+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,l+r[0].length-1),i.replaceWith(p,u,d)}else r[0]&&i.insert(l-1,t.type.create(s)).delete(i.mapping.map(l),i.mapping.map(u));i.scrollIntoView()}})}function tB(t){return new jh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=he(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Ol(t){return new jh({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=he(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),u=l.doc.resolve(n.from).blockRange(),d=u&&Sv(u,t.type,i);if(!d)return null;if(l.wrap(u,d),t.keepMarks&&t.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:y}=t.editor.extensionManager,k=m||p.$to.parentOffset&&p.$from.marks();if(k){const w=k.filter(b=>y.includes(b.type.name));l.ensureMarks(w)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(p,i).run()}const f=l.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&mi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&l.join(n.from-1)}})}class mn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mn(e)}configure(e={}){const n=this.extend();return n.options=Wh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new mn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const i=s.marks();if(!i.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=i.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class Ct{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ct(e)}configure(e={}){const n=this.extend();return n.options=Wh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ct(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}}function di(t){return new vz({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=he(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:l}=e,u=r[r.length-1],d=r[0];let f=n.to;if(u){const p=d.search(/\S/),m=n.from+d.indexOf(u),y=m+u.length;if($v(n.from,n.to,e.doc).filter(k=>k.mark.type.excluded.find(w=>w===t.type&&w!==k.mark.type)).filter(k=>k.to>m).length)return null;y<n.to&&l.delete(y,n.to),m>n.from&&l.delete(n.from+p,m),f=n.from+p+u.length,l.addMark(n.from+p,f,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}var jN={exports:{}},sn={},vx={exports:{}},kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wx;function nB(){return wx||(wx=1,function(t){function e(z,W){var F=z.length;z.push(W);e:for(;0<F;){var ae=F-1>>>1,de=z[ae];if(0<s(de,W))z[ae]=W,z[F]=de,F=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],F=z.pop();if(F!==W){z[0]=F;e:for(var ae=0,de=z.length,gn=de>>>1;ae<gn;){var rt=2*(ae+1)-1,_r=z[rt],st=rt+1,Xn=z[st];if(0>s(_r,F))st<de&&0>s(Xn,_r)?(z[ae]=Xn,z[st]=F,ae=st):(z[ae]=_r,z[rt]=F,ae=rt);else if(st<de&&0>s(Xn,F))z[ae]=Xn,z[st]=F,ae=st;else break e}}return W}function s(z,W){var F=z.sortIndex-W.sortIndex;return F!==0?F:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,k=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=z)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function D(z){if(b=!1,N(z),!w)if(n(d)!==null)w=!0,qe(R);else{var W=n(f);W!==null&&kt(D,W.startTime-z)}}function R(z,W){w=!1,b&&(b=!1,x(J),J=-1),k=!0;var F=y;try{for(N(W),m=n(d);m!==null&&(!(m.expirationTime>W)||z&&!Te());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var de=ae(m.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?m.callback=de:m===n(d)&&r(d),N(W)}else r(d);m=n(d)}if(m!==null)var gn=!0;else{var rt=n(f);rt!==null&&kt(D,rt.startTime-W),gn=!1}return gn}finally{m=null,y=F,k=!1}}var L=!1,B=null,J=-1,K=5,se=-1;function Te(){return!(t.unstable_now()-se<K)}function ut(){if(B!==null){var z=t.unstable_now();se=z;var W=!0;try{W=B(!0,z)}finally{W?nt():(L=!1,B=null)}}else L=!1}var nt;if(typeof E=="function")nt=function(){E(ut)};else if(typeof MessageChannel<"u"){var Dn=new MessageChannel,Yn=Dn.port2;Dn.port1.onmessage=ut,nt=function(){Yn.postMessage(null)}}else nt=function(){T(ut,0)};function qe(z){B=z,L||(L=!0,nt())}function kt(z,W){J=T(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||k||(w=!0,qe(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var F=y;y=W;try{return z()}finally{y=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=y;y=z;try{return W()}finally{y=F}},t.unstable_scheduleCallback=function(z,W,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=F+de,z={id:p++,callback:W,priorityLevel:z,startTime:F,expirationTime:de,sortIndex:-1},F>ae?(z.sortIndex=F,e(f,z),n(d)===null&&z===n(f)&&(b?(x(J),J=-1):b=!0,kt(D,F-ae))):(z.sortIndex=de,e(d,z),w||k||(w=!0,qe(R))),z},t.unstable_shouldYield=Te,t.unstable_wrapCallback=function(z){var W=y;return function(){var F=y;y=W;try{return z.apply(this,arguments)}finally{y=F}}}}(kx)),kx}var Sx;function rB(){return Sx||(Sx=1,vx.exports=nB()),vx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bx;function sB(){if(bx)return sn;bx=1;var t=we,e=rB();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},m={};function y(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function k(o,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,a,c,h){if(a===null||typeof a>"u"||k(o,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(o,a,c,h,g,v,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=S}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];T[a]=new b(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,a,c,h){var g=T.hasOwnProperty(a)?T[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,c,g,h)&&(c=null),h||g===null?y(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,h=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?o.setAttributeNS(h,a,c):o.setAttribute(a,c))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Te=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),Dn=Symbol.for("react.suspense_list"),Yn=Symbol.for("react.memo"),qe=Symbol.for("react.lazy"),kt=Symbol.for("react.offscreen"),z=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var F=Object.assign,ae;function de(o){if(ae===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ae=a&&a[1]||""}return`
`+ae+o}var gn=!1;function rt(o,a){if(!o||gn)return"";gn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(P){var h=P}Reflect.construct(o,[],a)}else{try{a.call()}catch(P){h=P}o.call(a.prototype)}else{try{throw Error()}catch(P){h=P}o()}}catch(P){if(P&&h&&typeof P.stack=="string"){for(var g=P.stack.split(`
`),v=h.stack.split(`
`),S=g.length-1,M=v.length-1;1<=S&&0<=M&&g[S]!==v[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==v[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==v[M]){var C=`
`+g[S].replace(" at new "," at ");return o.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",o.displayName)),C}while(1<=S&&0<=M);break}}}finally{gn=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?de(o):""}function _r(o){switch(o.tag){case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return o=rt(o.type,!1),o;case 11:return o=rt(o.type.render,!1),o;case 1:return o=rt(o.type,!0),o;default:return""}}function st(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case B:return"Fragment";case L:return"Portal";case K:return"Profiler";case J:return"StrictMode";case nt:return"Suspense";case Dn:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Te:return(o.displayName||"Context")+".Consumer";case se:return(o._context.displayName||"Context")+".Provider";case ut:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Yn:return a=o.displayName||null,a!==null?a:st(o.type)||"Memo";case qe:a=o._payload,o=o._init;try{return st(o(a))}catch{}}return null}function Xn(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return st(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fs(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function n1(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function zC(o){var a=n1(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function ju(o){o._valueTracker||(o._valueTracker=zC(o))}function r1(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return o&&(h=n1(o)?o.checked?"true":"false":o.value),o=h,o!==c?(a.setValue(o),!0):!1}function Wu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Gh(o,a){var c=a.checked;return F({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function s1(o,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=fs(a.value!=null?a.value:c),o._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function i1(o,a){a=a.checked,a!=null&&N(o,"checked",a,!1)}function Yh(o,a){i1(o,a);var c=fs(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(h==="submit"||h==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?Xh(o,a.type,c):a.hasOwnProperty("defaultValue")&&Xh(o,a.type,fs(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function o1(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function Xh(o,a,c){(a!=="number"||Wu(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var $l=Array.isArray;function po(o,a,c,h){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&h&&(o[c].defaultSelected=!0)}else{for(c=""+fs(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,h&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function Zh(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function l1(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if($l(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:fs(c)}}function a1(o,a){var c=fs(a.value),h=fs(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),h!=null&&(o.defaultValue=""+h)}function u1(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function c1(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ep(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?c1(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var Uu,d1=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,h,g)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(Uu=Uu||document.createElement("div"),Uu.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=Uu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Fl(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var _l={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},RC=["Webkit","ms","Moz","O"];Object.keys(_l).forEach(function(o){RC.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),_l[a]=_l[o]})});function f1(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||_l.hasOwnProperty(o)&&_l[o]?(""+a).trim():a+"px"}function h1(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=f1(c,a[c],h);c==="float"&&(c="cssFloat"),h?o.setProperty(c,g):o[c]=g}}var BC=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function tp(o,a){if(a){if(BC[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function np(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rp=null;function sp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ip=null,mo=null,go=null;function p1(o){if(o=aa(o)){if(typeof ip!="function")throw Error(n(280));var a=o.stateNode;a&&(a=pc(a),ip(o.stateNode,o.type,a))}}function m1(o){mo?go?go.push(o):go=[o]:mo=o}function g1(){if(mo){var o=mo,a=go;if(go=mo=null,p1(o),a)for(o=0;o<a.length;o++)p1(a[o])}}function y1(o,a){return o(a)}function v1(){}var op=!1;function k1(o,a,c){if(op)return o(a,c);op=!0;try{return y1(o,a,c)}finally{op=!1,(mo!==null||go!==null)&&(v1(),g1())}}function Hl(o,a){var c=o.stateNode;if(c===null)return null;var h=pc(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var lp=!1;if(u)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){lp=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{lp=!1}function $C(o,a,c,h,g,v,S,M,C){var P=Array.prototype.slice.call(arguments,3);try{a.apply(c,P)}catch(_){this.onError(_)}}var jl=!1,Ju=null,Qu=!1,ap=null,FC={onError:function(o){jl=!0,Ju=o}};function _C(o,a,c,h,g,v,S,M,C){jl=!1,Ju=null,$C.apply(FC,arguments)}function HC(o,a,c,h,g,v,S,M,C){if(_C.apply(this,arguments),jl){if(jl){var P=Ju;jl=!1,Ju=null}else throw Error(n(198));Qu||(Qu=!0,ap=P)}}function ki(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function w1(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function S1(o){if(ki(o)!==o)throw Error(n(188))}function VC(o){var a=o.alternate;if(!a){if(a=ki(o),a===null)throw Error(n(188));return a!==o?null:o}for(var c=o,h=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return S1(g),o;if(v===h)return S1(g),a;v=v.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=v;else{for(var S=!1,M=g.child;M;){if(M===c){S=!0,c=g,h=v;break}if(M===h){S=!0,h=g,c=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===c){S=!0,c=v,h=g;break}if(M===h){S=!0,h=v,c=g;break}M=M.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:a}function b1(o){return o=VC(o),o!==null?x1(o):null}function x1(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=x1(o);if(a!==null)return a;o=o.sibling}return null}var E1=e.unstable_scheduleCallback,M1=e.unstable_cancelCallback,jC=e.unstable_shouldYield,WC=e.unstable_requestPaint,Ke=e.unstable_now,UC=e.unstable_getCurrentPriorityLevel,up=e.unstable_ImmediatePriority,T1=e.unstable_UserBlockingPriority,qu=e.unstable_NormalPriority,JC=e.unstable_LowPriority,N1=e.unstable_IdlePriority,Ku=null,kr=null;function QC(o){if(kr&&typeof kr.onCommitFiberRoot=="function")try{kr.onCommitFiberRoot(Ku,o,void 0,(o.current.flags&128)===128)}catch{}}var Zn=Math.clz32?Math.clz32:GC,qC=Math.log,KC=Math.LN2;function GC(o){return o>>>=0,o===0?32:31-(qC(o)/KC|0)|0}var Gu=64,Yu=4194304;function Wl(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function Xu(o,a){var c=o.pendingLanes;if(c===0)return 0;var h=0,g=o.suspendedLanes,v=o.pingedLanes,S=c&268435455;if(S!==0){var M=S&~g;M!==0?h=Wl(M):(v&=S,v!==0&&(h=Wl(v)))}else S=c&~g,S!==0?h=Wl(S):v!==0&&(h=Wl(v));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if(h&4&&(h|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=h;0<a;)c=31-Zn(a),g=1<<c,h|=o[c],a&=~g;return h}function YC(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function XC(o,a){for(var c=o.suspendedLanes,h=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var S=31-Zn(v),M=1<<S,C=g[S];C===-1?(!(M&c)||M&h)&&(g[S]=YC(M,a)):C<=a&&(o.expiredLanes|=M),v&=~M}}function cp(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function C1(){var o=Gu;return Gu<<=1,!(Gu&4194240)&&(Gu=64),o}function dp(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function Ul(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-Zn(a),o[a]=c}function ZC(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var h=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-Zn(c),v=1<<g;a[g]=0,h[g]=-1,o[g]=-1,c&=~v}}function fp(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var h=31-Zn(c),g=1<<h;g&a|o[h]&a&&(o[h]|=a),c&=~g}}var Se=0;function O1(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var I1,hp,A1,P1,D1,pp=!1,Zu=[],hs=null,ps=null,ms=null,Jl=new Map,Ql=new Map,gs=[],eO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function L1(o,a){switch(o){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Jl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ql.delete(a.pointerId)}}function ql(o,a,c,h,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},a!==null&&(a=aa(a),a!==null&&hp(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function tO(o,a,c,h,g){switch(a){case"focusin":return hs=ql(hs,o,a,c,h,g),!0;case"dragenter":return ps=ql(ps,o,a,c,h,g),!0;case"mouseover":return ms=ql(ms,o,a,c,h,g),!0;case"pointerover":var v=g.pointerId;return Jl.set(v,ql(Jl.get(v)||null,o,a,c,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Ql.set(v,ql(Ql.get(v)||null,o,a,c,h,g)),!0}return!1}function z1(o){var a=wi(o.target);if(a!==null){var c=ki(a);if(c!==null){if(a=c.tag,a===13){if(a=w1(c),a!==null){o.blockedOn=a,D1(o.priority,function(){A1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function ec(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=gp(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var h=new c.constructor(c.type,c);rp=h,c.target.dispatchEvent(h),rp=null}else return a=aa(c),a!==null&&hp(a),o.blockedOn=c,!1;a.shift()}return!0}function R1(o,a,c){ec(o)&&c.delete(a)}function nO(){pp=!1,hs!==null&&ec(hs)&&(hs=null),ps!==null&&ec(ps)&&(ps=null),ms!==null&&ec(ms)&&(ms=null),Jl.forEach(R1),Ql.forEach(R1)}function Kl(o,a){o.blockedOn===a&&(o.blockedOn=null,pp||(pp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,nO)))}function Gl(o){function a(g){return Kl(g,o)}if(0<Zu.length){Kl(Zu[0],o);for(var c=1;c<Zu.length;c++){var h=Zu[c];h.blockedOn===o&&(h.blockedOn=null)}}for(hs!==null&&Kl(hs,o),ps!==null&&Kl(ps,o),ms!==null&&Kl(ms,o),Jl.forEach(a),Ql.forEach(a),c=0;c<gs.length;c++)h=gs[c],h.blockedOn===o&&(h.blockedOn=null);for(;0<gs.length&&(c=gs[0],c.blockedOn===null);)z1(c),c.blockedOn===null&&gs.shift()}var yo=D.ReactCurrentBatchConfig,tc=!0;function rO(o,a,c,h){var g=Se,v=yo.transition;yo.transition=null;try{Se=1,mp(o,a,c,h)}finally{Se=g,yo.transition=v}}function sO(o,a,c,h){var g=Se,v=yo.transition;yo.transition=null;try{Se=4,mp(o,a,c,h)}finally{Se=g,yo.transition=v}}function mp(o,a,c,h){if(tc){var g=gp(o,a,c,h);if(g===null)Dp(o,a,h,nc,c),L1(o,h);else if(tO(g,o,a,c,h))h.stopPropagation();else if(L1(o,h),a&4&&-1<eO.indexOf(o)){for(;g!==null;){var v=aa(g);if(v!==null&&I1(v),v=gp(o,a,c,h),v===null&&Dp(o,a,h,nc,c),v===g)break;g=v}g!==null&&h.stopPropagation()}else Dp(o,a,h,null,c)}}var nc=null;function gp(o,a,c,h){if(nc=null,o=sp(h),o=wi(o),o!==null)if(a=ki(o),a===null)o=null;else if(c=a.tag,c===13){if(o=w1(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return nc=o,null}function B1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(UC()){case up:return 1;case T1:return 4;case qu:case JC:return 16;case N1:return 536870912;default:return 16}default:return 16}}var ys=null,yp=null,rc=null;function $1(){if(rc)return rc;var o,a=yp,c=a.length,h,g="value"in ys?ys.value:ys.textContent,v=g.length;for(o=0;o<c&&a[o]===g[o];o++);var S=c-o;for(h=1;h<=S&&a[c-h]===g[v-h];h++);return rc=g.slice(o,1<h?1-h:void 0)}function sc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ic(){return!0}function F1(){return!1}function yn(o){function a(c,h,g,v,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(c=o[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ic:F1,this.isPropagationStopped=F1,this}return F(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ic)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ic)},persist:function(){},isPersistent:ic}),a}var vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vp=yn(vo),Yl=F({},vo,{view:0,detail:0}),iO=yn(Yl),kp,wp,Xl,oc=F({},Yl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Xl&&(Xl&&o.type==="mousemove"?(kp=o.screenX-Xl.screenX,wp=o.screenY-Xl.screenY):wp=kp=0,Xl=o),kp)},movementY:function(o){return"movementY"in o?o.movementY:wp}}),_1=yn(oc),oO=F({},oc,{dataTransfer:0}),lO=yn(oO),aO=F({},Yl,{relatedTarget:0}),Sp=yn(aO),uO=F({},vo,{animationName:0,elapsedTime:0,pseudoElement:0}),cO=yn(uO),dO=F({},vo,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),fO=yn(dO),hO=F({},vo,{data:0}),H1=yn(hO),pO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yO(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=gO[o])?!!a[o]:!1}function bp(){return yO}var vO=F({},Yl,{key:function(o){if(o.key){var a=pO[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=sc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?mO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bp,charCode:function(o){return o.type==="keypress"?sc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?sc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),kO=yn(vO),wO=F({},oc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),V1=yn(wO),SO=F({},Yl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bp}),bO=yn(SO),xO=F({},vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),EO=yn(xO),MO=F({},oc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),TO=yn(MO),NO=[9,13,27,32],xp=u&&"CompositionEvent"in window,Zl=null;u&&"documentMode"in document&&(Zl=document.documentMode);var CO=u&&"TextEvent"in window&&!Zl,j1=u&&(!xp||Zl&&8<Zl&&11>=Zl),W1=" ",U1=!1;function J1(o,a){switch(o){case"keyup":return NO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ko=!1;function OO(o,a){switch(o){case"compositionend":return Q1(a);case"keypress":return a.which!==32?null:(U1=!0,W1);case"textInput":return o=a.data,o===W1&&U1?null:o;default:return null}}function IO(o,a){if(ko)return o==="compositionend"||!xp&&J1(o,a)?(o=$1(),rc=yp=ys=null,ko=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return j1&&a.locale!=="ko"?null:a.data;default:return null}}var AO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function q1(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!AO[o.type]:a==="textarea"}function K1(o,a,c,h){m1(h),a=dc(a,"onChange"),0<a.length&&(c=new vp("onChange","change",null,c,h),o.push({event:c,listeners:a}))}var ea=null,ta=null;function PO(o){hk(o,0)}function lc(o){var a=Eo(o);if(r1(a))return o}function DO(o,a){if(o==="change")return a}var G1=!1;if(u){var Ep;if(u){var Mp="oninput"in document;if(!Mp){var Y1=document.createElement("div");Y1.setAttribute("oninput","return;"),Mp=typeof Y1.oninput=="function"}Ep=Mp}else Ep=!1;G1=Ep&&(!document.documentMode||9<document.documentMode)}function X1(){ea&&(ea.detachEvent("onpropertychange",Z1),ta=ea=null)}function Z1(o){if(o.propertyName==="value"&&lc(ta)){var a=[];K1(a,ta,o,sp(o)),k1(PO,a)}}function LO(o,a,c){o==="focusin"?(X1(),ea=a,ta=c,ea.attachEvent("onpropertychange",Z1)):o==="focusout"&&X1()}function zO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return lc(ta)}function RO(o,a){if(o==="click")return lc(a)}function BO(o,a){if(o==="input"||o==="change")return lc(a)}function $O(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var er=typeof Object.is=="function"?Object.is:$O;function na(o,a){if(er(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(a,g)||!er(o[g],a[g]))return!1}return!0}function ek(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function tk(o,a){var c=ek(o);o=0;for(var h;c;){if(c.nodeType===3){if(h=o+c.textContent.length,o<=a&&h>=a)return{node:c,offset:a-o};o=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=ek(c)}}function nk(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?nk(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function rk(){for(var o=window,a=Wu();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=Wu(o.document)}return a}function Tp(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function FO(o){var a=rk(),c=o.focusedElem,h=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&nk(c.ownerDocument.documentElement,c)){if(h!==null&&Tp(c)){if(a=h.start,o=h.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!o.extend&&v>h&&(g=h,h=v,v=g),g=tk(c,v);var S=tk(c,h);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),v>h?(o.addRange(a),o.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var _O=u&&"documentMode"in document&&11>=document.documentMode,wo=null,Np=null,ra=null,Cp=!1;function sk(o,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Cp||wo==null||wo!==Wu(h)||(h=wo,"selectionStart"in h&&Tp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),ra&&na(ra,h)||(ra=h,h=dc(Np,"onSelect"),0<h.length&&(a=new vp("onSelect","select",null,a,c),o.push({event:a,listeners:h}),a.target=wo)))}function ac(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var So={animationend:ac("Animation","AnimationEnd"),animationiteration:ac("Animation","AnimationIteration"),animationstart:ac("Animation","AnimationStart"),transitionend:ac("Transition","TransitionEnd")},Op={},ik={};u&&(ik=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function uc(o){if(Op[o])return Op[o];if(!So[o])return o;var a=So[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in ik)return Op[o]=a[c];return o}var ok=uc("animationend"),lk=uc("animationiteration"),ak=uc("animationstart"),uk=uc("transitionend"),ck=new Map,dk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(o,a){ck.set(o,a),i(a,[o])}for(var Ip=0;Ip<dk.length;Ip++){var Ap=dk[Ip],HO=Ap.toLowerCase(),VO=Ap[0].toUpperCase()+Ap.slice(1);vs(HO,"on"+VO)}vs(ok,"onAnimationEnd"),vs(lk,"onAnimationIteration"),vs(ak,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(uk,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jO=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function fk(o,a,c){var h=o.type||"unknown-event";o.currentTarget=c,HC(h,a,void 0,o),o.currentTarget=null}function hk(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var h=o[c],g=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var S=h.length-1;0<=S;S--){var M=h[S],C=M.instance,P=M.currentTarget;if(M=M.listener,C!==v&&g.isPropagationStopped())break e;fk(g,M,P),v=C}else for(S=0;S<h.length;S++){if(M=h[S],C=M.instance,P=M.currentTarget,M=M.listener,C!==v&&g.isPropagationStopped())break e;fk(g,M,P),v=C}}}if(Qu)throw o=ap,Qu=!1,ap=null,o}function Ie(o,a){var c=a[Fp];c===void 0&&(c=a[Fp]=new Set);var h=o+"__bubble";c.has(h)||(pk(a,o,2,!1),c.add(h))}function Pp(o,a,c){var h=0;a&&(h|=4),pk(c,o,h,a)}var cc="_reactListening"+Math.random().toString(36).slice(2);function ia(o){if(!o[cc]){o[cc]=!0,r.forEach(function(c){c!=="selectionchange"&&(jO.has(c)||Pp(c,!1,o),Pp(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[cc]||(a[cc]=!0,Pp("selectionchange",!1,a))}}function pk(o,a,c,h){switch(B1(a)){case 1:var g=rO;break;case 4:g=sO;break;default:g=mp}c=g.bind(null,a,c,o),g=void 0,!lp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function Dp(o,a,c,h,g){var v=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var C=S.tag;if((C===3||C===4)&&(C=S.stateNode.containerInfo,C===g||C.nodeType===8&&C.parentNode===g))return;S=S.return}for(;M!==null;){if(S=wi(M),S===null)return;if(C=S.tag,C===5||C===6){h=v=S;continue e}M=M.parentNode}}h=h.return}k1(function(){var P=v,_=sp(c),H=[];e:{var $=ck.get(o);if($!==void 0){var q=vp,Z=o;switch(o){case"keypress":if(sc(c)===0)break e;case"keydown":case"keyup":q=kO;break;case"focusin":Z="focus",q=Sp;break;case"focusout":Z="blur",q=Sp;break;case"beforeblur":case"afterblur":q=Sp;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=lO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=bO;break;case ok:case lk:case ak:q=cO;break;case uk:q=EO;break;case"scroll":q=iO;break;case"wheel":q=TO;break;case"copy":case"cut":case"paste":q=fO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=V1}var ee=(a&4)!==0,Ge=!ee&&o==="scroll",I=ee?$!==null?$+"Capture":null:$;ee=[];for(var O=P,A;O!==null;){A=O;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,I!==null&&(U=Hl(O,I),U!=null&&ee.push(oa(O,U,A)))),Ge)break;O=O.return}0<ee.length&&($=new q($,Z,null,c,_),H.push({event:$,listeners:ee}))}}if(!(a&7)){e:{if($=o==="mouseover"||o==="pointerover",q=o==="mouseout"||o==="pointerout",$&&c!==rp&&(Z=c.relatedTarget||c.fromElement)&&(wi(Z)||Z[Hr]))break e;if((q||$)&&($=_.window===_?_:($=_.ownerDocument)?$.defaultView||$.parentWindow:window,q?(Z=c.relatedTarget||c.toElement,q=P,Z=Z?wi(Z):null,Z!==null&&(Ge=ki(Z),Z!==Ge||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(q=null,Z=P),q!==Z)){if(ee=_1,U="onMouseLeave",I="onMouseEnter",O="mouse",(o==="pointerout"||o==="pointerover")&&(ee=V1,U="onPointerLeave",I="onPointerEnter",O="pointer"),Ge=q==null?$:Eo(q),A=Z==null?$:Eo(Z),$=new ee(U,O+"leave",q,c,_),$.target=Ge,$.relatedTarget=A,U=null,wi(_)===P&&(ee=new ee(I,O+"enter",Z,c,_),ee.target=A,ee.relatedTarget=Ge,U=ee),Ge=U,q&&Z)t:{for(ee=q,I=Z,O=0,A=ee;A;A=bo(A))O++;for(A=0,U=I;U;U=bo(U))A++;for(;0<O-A;)ee=bo(ee),O--;for(;0<A-O;)I=bo(I),A--;for(;O--;){if(ee===I||I!==null&&ee===I.alternate)break t;ee=bo(ee),I=bo(I)}ee=null}else ee=null;q!==null&&mk(H,$,q,ee,!1),Z!==null&&Ge!==null&&mk(H,Ge,Z,ee,!0)}}e:{if($=P?Eo(P):window,q=$.nodeName&&$.nodeName.toLowerCase(),q==="select"||q==="input"&&$.type==="file")var ne=DO;else if(q1($))if(G1)ne=BO;else{ne=zO;var ie=LO}else(q=$.nodeName)&&q.toLowerCase()==="input"&&($.type==="checkbox"||$.type==="radio")&&(ne=RO);if(ne&&(ne=ne(o,P))){K1(H,ne,c,_);break e}ie&&ie(o,$,P),o==="focusout"&&(ie=$._wrapperState)&&ie.controlled&&$.type==="number"&&Xh($,"number",$.value)}switch(ie=P?Eo(P):window,o){case"focusin":(q1(ie)||ie.contentEditable==="true")&&(wo=ie,Np=P,ra=null);break;case"focusout":ra=Np=wo=null;break;case"mousedown":Cp=!0;break;case"contextmenu":case"mouseup":case"dragend":Cp=!1,sk(H,c,_);break;case"selectionchange":if(_O)break;case"keydown":case"keyup":sk(H,c,_)}var oe;if(xp)e:{switch(o){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else ko?J1(o,c)&&(ue="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ue="onCompositionStart");ue&&(j1&&c.locale!=="ko"&&(ko||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&ko&&(oe=$1()):(ys=_,yp="value"in ys?ys.value:ys.textContent,ko=!0)),ie=dc(P,ue),0<ie.length&&(ue=new H1(ue,o,null,c,_),H.push({event:ue,listeners:ie}),oe?ue.data=oe:(oe=Q1(c),oe!==null&&(ue.data=oe)))),(oe=CO?OO(o,c):IO(o,c))&&(P=dc(P,"onBeforeInput"),0<P.length&&(_=new H1("onBeforeInput","beforeinput",null,c,_),H.push({event:_,listeners:P}),_.data=oe))}hk(H,a)})}function oa(o,a,c){return{instance:o,listener:a,currentTarget:c}}function dc(o,a){for(var c=a+"Capture",h=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Hl(o,c),v!=null&&h.unshift(oa(o,v,g)),v=Hl(o,a),v!=null&&h.push(oa(o,v,g))),o=o.return}return h}function bo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function mk(o,a,c,h,g){for(var v=a._reactName,S=[];c!==null&&c!==h;){var M=c,C=M.alternate,P=M.stateNode;if(C!==null&&C===h)break;M.tag===5&&P!==null&&(M=P,g?(C=Hl(c,v),C!=null&&S.unshift(oa(c,C,M))):g||(C=Hl(c,v),C!=null&&S.push(oa(c,C,M)))),c=c.return}S.length!==0&&o.push({event:a,listeners:S})}var WO=/\r\n?/g,UO=/\u0000|\uFFFD/g;function gk(o){return(typeof o=="string"?o:""+o).replace(WO,`
`).replace(UO,"")}function fc(o,a,c){if(a=gk(a),gk(o)!==a&&c)throw Error(n(425))}function hc(){}var Lp=null,zp=null;function Rp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Bp=typeof setTimeout=="function"?setTimeout:void 0,JO=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,QO=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(o){return yk.resolve(null).then(o).catch(qO)}:Bp;function qO(o){setTimeout(function(){throw o})}function $p(o,a){var c=a,h=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"){if(h===0){o.removeChild(g),Gl(a);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=g}while(c);Gl(a)}function ks(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return o}function vk(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return o;a--}else c==="/$"&&a++}o=o.previousSibling}return null}var xo=Math.random().toString(36).slice(2),wr="__reactFiber$"+xo,la="__reactProps$"+xo,Hr="__reactContainer$"+xo,Fp="__reactEvents$"+xo,KO="__reactListeners$"+xo,GO="__reactHandles$"+xo;function wi(o){var a=o[wr];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Hr]||c[wr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=vk(o);o!==null;){if(c=o[wr])return c;o=vk(o)}return a}o=c,c=o.parentNode}return null}function aa(o){return o=o[wr]||o[Hr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Eo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function pc(o){return o[la]||null}var _p=[],Mo=-1;function ws(o){return{current:o}}function Ae(o){0>Mo||(o.current=_p[Mo],_p[Mo]=null,Mo--)}function Ne(o,a){Mo++,_p[Mo]=o.current,o.current=a}var Ss={},Ot=ws(Ss),Zt=ws(!1),Si=Ss;function To(o,a){var c=o.type.contextTypes;if(!c)return Ss;var h=o.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function en(o){return o=o.childContextTypes,o!=null}function mc(){Ae(Zt),Ae(Ot)}function kk(o,a,c){if(Ot.current!==Ss)throw Error(n(168));Ne(Ot,a),Ne(Zt,c)}function wk(o,a,c){var h=o.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(n(108,Xn(o)||"Unknown",g));return F({},c,h)}function gc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ss,Si=Ot.current,Ne(Ot,o),Ne(Zt,Zt.current),!0}function Sk(o,a,c){var h=o.stateNode;if(!h)throw Error(n(169));c?(o=wk(o,a,Si),h.__reactInternalMemoizedMergedChildContext=o,Ae(Zt),Ae(Ot),Ne(Ot,o)):Ae(Zt),Ne(Zt,c)}var Vr=null,yc=!1,Hp=!1;function bk(o){Vr===null?Vr=[o]:Vr.push(o)}function YO(o){yc=!0,bk(o)}function bs(){if(!Hp&&Vr!==null){Hp=!0;var o=0,a=Se;try{var c=Vr;for(Se=1;o<c.length;o++){var h=c[o];do h=h(!0);while(h!==null)}Vr=null,yc=!1}catch(g){throw Vr!==null&&(Vr=Vr.slice(o+1)),E1(up,bs),g}finally{Se=a,Hp=!1}}return null}var No=[],Co=0,vc=null,kc=0,Ln=[],zn=0,bi=null,jr=1,Wr="";function xi(o,a){No[Co++]=kc,No[Co++]=vc,vc=o,kc=a}function xk(o,a,c){Ln[zn++]=jr,Ln[zn++]=Wr,Ln[zn++]=bi,bi=o;var h=jr;o=Wr;var g=32-Zn(h)-1;h&=~(1<<g),c+=1;var v=32-Zn(a)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,jr=1<<32-Zn(a)+g|c<<g|h,Wr=v+o}else jr=1<<v|c<<g|h,Wr=o}function Vp(o){o.return!==null&&(xi(o,1),xk(o,1,0))}function jp(o){for(;o===vc;)vc=No[--Co],No[Co]=null,kc=No[--Co],No[Co]=null;for(;o===bi;)bi=Ln[--zn],Ln[zn]=null,Wr=Ln[--zn],Ln[zn]=null,jr=Ln[--zn],Ln[zn]=null}var vn=null,kn=null,ze=!1,tr=null;function Ek(o,a){var c=Fn(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function Mk(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,vn=o,kn=ks(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,vn=o,kn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=bi!==null?{id:jr,overflow:Wr}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=Fn(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,vn=o,kn=null,!0):!1;default:return!1}}function Wp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Up(o){if(ze){var a=kn;if(a){var c=a;if(!Mk(o,a)){if(Wp(o))throw Error(n(418));a=ks(c.nextSibling);var h=vn;a&&Mk(o,a)?Ek(h,c):(o.flags=o.flags&-4097|2,ze=!1,vn=o)}}else{if(Wp(o))throw Error(n(418));o.flags=o.flags&-4097|2,ze=!1,vn=o}}}function Tk(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;vn=o}function wc(o){if(o!==vn)return!1;if(!ze)return Tk(o),ze=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Rp(o.type,o.memoizedProps)),a&&(a=kn)){if(Wp(o))throw Nk(),Error(n(418));for(;a;)Ek(o,a),a=ks(a.nextSibling)}if(Tk(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/$"){if(a===0){kn=ks(o.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}o=o.nextSibling}kn=null}}else kn=vn?ks(o.stateNode.nextSibling):null;return!0}function Nk(){for(var o=kn;o;)o=ks(o.nextSibling)}function Oo(){kn=vn=null,ze=!1}function Jp(o){tr===null?tr=[o]:tr.push(o)}var XO=D.ReactCurrentBatchConfig;function nr(o,a){if(o&&o.defaultProps){a=F({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}var Sc=ws(null),bc=null,Io=null,Qp=null;function qp(){Qp=Io=bc=null}function Kp(o){var a=Sc.current;Ae(Sc),o._currentValue=a}function Gp(o,a,c){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===c)break;o=o.return}}function Ao(o,a){bc=o,Qp=Io=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(tn=!0),o.firstContext=null)}function Rn(o){var a=o._currentValue;if(Qp!==o)if(o={context:o,memoizedValue:a,next:null},Io===null){if(bc===null)throw Error(n(308));Io=o,bc.dependencies={lanes:0,firstContext:o}}else Io=Io.next=o;return a}var Ei=null;function Yp(o){Ei===null?Ei=[o]:Ei.push(o)}function Ck(o,a,c,h){var g=a.interleaved;return g===null?(c.next=c,Yp(a)):(c.next=g.next,g.next=c),a.interleaved=c,Ur(o,h)}function Ur(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var xs=!1;function Xp(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ok(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Jr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Es(o,a,c){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,ye&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,Ur(o,c)}return g=h.interleaved,g===null?(a.next=a,Yp(h)):(a.next=g.next,g.next=a),h.interleaved=a,Ur(o,c)}function xc(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,fp(o,c)}}function Ik(o,a){var c=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Ec(o,a,c,h){var g=o.updateQueue;xs=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var C=M,P=C.next;C.next=null,S===null?v=P:S.next=P,S=C;var _=o.alternate;_!==null&&(_=_.updateQueue,M=_.lastBaseUpdate,M!==S&&(M===null?_.firstBaseUpdate=P:M.next=P,_.lastBaseUpdate=C))}if(v!==null){var H=g.baseState;S=0,_=P=C=null,M=v;do{var $=M.lane,q=M.eventTime;if((h&$)===$){_!==null&&(_=_.next={eventTime:q,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Z=o,ee=M;switch($=a,q=c,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){H=Z.call(q,H,$);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,$=typeof Z=="function"?Z.call(q,H,$):Z,$==null)break e;H=F({},H,$);break e;case 2:xs=!0}}M.callback!==null&&M.lane!==0&&(o.flags|=64,$=g.effects,$===null?g.effects=[M]:$.push(M))}else q={eventTime:q,lane:$,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_===null?(P=_=q,C=H):_=_.next=q,S|=$;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;$=M,M=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);if(_===null&&(C=H),g.baseState=C,g.firstBaseUpdate=P,g.lastBaseUpdate=_,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Ni|=S,o.lanes=S,o.memoizedState=H}}function Ak(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var h=o[a],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Pk=new t.Component().refs;function Zp(o,a,c,h){a=o.memoizedState,c=c(h,a),c=c==null?a:F({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Mc={isMounted:function(o){return(o=o._reactInternals)?ki(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var h=jt(),g=Cs(o),v=Jr(h,g);v.payload=a,c!=null&&(v.callback=c),a=Es(o,v,g),a!==null&&(ir(a,o,g,h),xc(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var h=jt(),g=Cs(o),v=Jr(h,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Es(o,v,g),a!==null&&(ir(a,o,g,h),xc(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=jt(),h=Cs(o),g=Jr(c,h);g.tag=2,a!=null&&(g.callback=a),a=Es(o,g,h),a!==null&&(ir(a,o,h,c),xc(a,o,h))}};function Dk(o,a,c,h,g,v,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,v,S):a.prototype&&a.prototype.isPureReactComponent?!na(c,h)||!na(g,v):!0}function Lk(o,a,c){var h=!1,g=Ss,v=a.contextType;return typeof v=="object"&&v!==null?v=Rn(v):(g=en(a)?Si:Ot.current,h=a.contextTypes,v=(h=h!=null)?To(o,g):Ss),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Mc,o.stateNode=a,a._reactInternals=o,h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),a}function zk(o,a,c,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==o&&Mc.enqueueReplaceState(a,a.state,null)}function em(o,a,c,h){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs=Pk,Xp(o);var v=a.contextType;typeof v=="object"&&v!==null?g.context=Rn(v):(v=en(a)?Si:Ot.current,g.context=To(o,v)),g.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Zp(o,a,v,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Mc.enqueueReplaceState(g,g.state,null),Ec(o,c,g,h),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function ua(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,o));var g=h,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(S){var M=g.refs;M===Pk&&(M=g.refs={}),S===null?delete M[v]:M[v]=S},a._stringRef=v,a)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function Tc(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Rk(o){var a=o._init;return a(o._payload)}function Bk(o){function a(I,O){if(o){var A=I.deletions;A===null?(I.deletions=[O],I.flags|=16):A.push(O)}}function c(I,O){if(!o)return null;for(;O!==null;)a(I,O),O=O.sibling;return null}function h(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function g(I,O){return I=Is(I,O),I.index=0,I.sibling=null,I}function v(I,O,A){return I.index=A,o?(A=I.alternate,A!==null?(A=A.index,A<O?(I.flags|=2,O):A):(I.flags|=2,O)):(I.flags|=1048576,O)}function S(I){return o&&I.alternate===null&&(I.flags|=2),I}function M(I,O,A,U){return O===null||O.tag!==6?(O=Rm(A,I.mode,U),O.return=I,O):(O=g(O,A),O.return=I,O)}function C(I,O,A,U){var ne=A.type;return ne===B?_(I,O,A.props.children,U,A.key):O!==null&&(O.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===qe&&Rk(ne)===O.type)?(U=g(O,A.props),U.ref=ua(I,O,A),U.return=I,U):(U=Uc(A.type,A.key,A.props,null,I.mode,U),U.ref=ua(I,O,A),U.return=I,U)}function P(I,O,A,U){return O===null||O.tag!==4||O.stateNode.containerInfo!==A.containerInfo||O.stateNode.implementation!==A.implementation?(O=Bm(A,I.mode,U),O.return=I,O):(O=g(O,A.children||[]),O.return=I,O)}function _(I,O,A,U,ne){return O===null||O.tag!==7?(O=Ai(A,I.mode,U,ne),O.return=I,O):(O=g(O,A),O.return=I,O)}function H(I,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Rm(""+O,I.mode,A),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case R:return A=Uc(O.type,O.key,O.props,null,I.mode,A),A.ref=ua(I,null,O),A.return=I,A;case L:return O=Bm(O,I.mode,A),O.return=I,O;case qe:var U=O._init;return H(I,U(O._payload),A)}if($l(O)||W(O))return O=Ai(O,I.mode,A,null),O.return=I,O;Tc(I,O)}return null}function $(I,O,A,U){var ne=O!==null?O.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:M(I,O,""+A,U);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case R:return A.key===ne?C(I,O,A,U):null;case L:return A.key===ne?P(I,O,A,U):null;case qe:return ne=A._init,$(I,O,ne(A._payload),U)}if($l(A)||W(A))return ne!==null?null:_(I,O,A,U,null);Tc(I,A)}return null}function q(I,O,A,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number")return I=I.get(A)||null,M(O,I,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case R:return I=I.get(U.key===null?A:U.key)||null,C(O,I,U,ne);case L:return I=I.get(U.key===null?A:U.key)||null,P(O,I,U,ne);case qe:var ie=U._init;return q(I,O,A,ie(U._payload),ne)}if($l(U)||W(U))return I=I.get(A)||null,_(O,I,U,ne,null);Tc(O,U)}return null}function Z(I,O,A,U){for(var ne=null,ie=null,oe=O,ue=O=0,ft=null;oe!==null&&ue<A.length;ue++){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var ke=$(I,oe,A[ue],U);if(ke===null){oe===null&&(oe=ft);break}o&&oe&&ke.alternate===null&&a(I,oe),O=v(ke,O,ue),ie===null?ne=ke:ie.sibling=ke,ie=ke,oe=ft}if(ue===A.length)return c(I,oe),ze&&xi(I,ue),ne;if(oe===null){for(;ue<A.length;ue++)oe=H(I,A[ue],U),oe!==null&&(O=v(oe,O,ue),ie===null?ne=oe:ie.sibling=oe,ie=oe);return ze&&xi(I,ue),ne}for(oe=h(I,oe);ue<A.length;ue++)ft=q(oe,I,ue,A[ue],U),ft!==null&&(o&&ft.alternate!==null&&oe.delete(ft.key===null?ue:ft.key),O=v(ft,O,ue),ie===null?ne=ft:ie.sibling=ft,ie=ft);return o&&oe.forEach(function(As){return a(I,As)}),ze&&xi(I,ue),ne}function ee(I,O,A,U){var ne=W(A);if(typeof ne!="function")throw Error(n(150));if(A=ne.call(A),A==null)throw Error(n(151));for(var ie=ne=null,oe=O,ue=O=0,ft=null,ke=A.next();oe!==null&&!ke.done;ue++,ke=A.next()){oe.index>ue?(ft=oe,oe=null):ft=oe.sibling;var As=$(I,oe,ke.value,U);if(As===null){oe===null&&(oe=ft);break}o&&oe&&As.alternate===null&&a(I,oe),O=v(As,O,ue),ie===null?ne=As:ie.sibling=As,ie=As,oe=ft}if(ke.done)return c(I,oe),ze&&xi(I,ue),ne;if(oe===null){for(;!ke.done;ue++,ke=A.next())ke=H(I,ke.value,U),ke!==null&&(O=v(ke,O,ue),ie===null?ne=ke:ie.sibling=ke,ie=ke);return ze&&xi(I,ue),ne}for(oe=h(I,oe);!ke.done;ue++,ke=A.next())ke=q(oe,I,ue,ke.value,U),ke!==null&&(o&&ke.alternate!==null&&oe.delete(ke.key===null?ue:ke.key),O=v(ke,O,ue),ie===null?ne=ke:ie.sibling=ke,ie=ke);return o&&oe.forEach(function(AI){return a(I,AI)}),ze&&xi(I,ue),ne}function Ge(I,O,A,U){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case R:e:{for(var ne=A.key,ie=O;ie!==null;){if(ie.key===ne){if(ne=A.type,ne===B){if(ie.tag===7){c(I,ie.sibling),O=g(ie,A.props.children),O.return=I,I=O;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===qe&&Rk(ne)===ie.type){c(I,ie.sibling),O=g(ie,A.props),O.ref=ua(I,ie,A),O.return=I,I=O;break e}c(I,ie);break}else a(I,ie);ie=ie.sibling}A.type===B?(O=Ai(A.props.children,I.mode,U,A.key),O.return=I,I=O):(U=Uc(A.type,A.key,A.props,null,I.mode,U),U.ref=ua(I,O,A),U.return=I,I=U)}return S(I);case L:e:{for(ie=A.key;O!==null;){if(O.key===ie)if(O.tag===4&&O.stateNode.containerInfo===A.containerInfo&&O.stateNode.implementation===A.implementation){c(I,O.sibling),O=g(O,A.children||[]),O.return=I,I=O;break e}else{c(I,O);break}else a(I,O);O=O.sibling}O=Bm(A,I.mode,U),O.return=I,I=O}return S(I);case qe:return ie=A._init,Ge(I,O,ie(A._payload),U)}if($l(A))return Z(I,O,A,U);if(W(A))return ee(I,O,A,U);Tc(I,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,O!==null&&O.tag===6?(c(I,O.sibling),O=g(O,A),O.return=I,I=O):(c(I,O),O=Rm(A,I.mode,U),O.return=I,I=O),S(I)):c(I,O)}return Ge}var Po=Bk(!0),$k=Bk(!1),ca={},Sr=ws(ca),da=ws(ca),fa=ws(ca);function Mi(o){if(o===ca)throw Error(n(174));return o}function tm(o,a){switch(Ne(fa,a),Ne(da,o),Ne(Sr,ca),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:ep(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=ep(a,o)}Ae(Sr),Ne(Sr,a)}function Do(){Ae(Sr),Ae(da),Ae(fa)}function Fk(o){Mi(fa.current);var a=Mi(Sr.current),c=ep(a,o.type);a!==c&&(Ne(da,o),Ne(Sr,c))}function nm(o){da.current===o&&(Ae(Sr),Ae(da))}var $e=ws(0);function Nc(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var rm=[];function sm(){for(var o=0;o<rm.length;o++)rm[o]._workInProgressVersionPrimary=null;rm.length=0}var Cc=D.ReactCurrentDispatcher,im=D.ReactCurrentBatchConfig,Ti=0,Fe=null,it=null,ct=null,Oc=!1,ha=!1,pa=0,ZO=0;function It(){throw Error(n(321))}function om(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!er(o[c],a[c]))return!1;return!0}function lm(o,a,c,h,g,v){if(Ti=v,Fe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Cc.current=o===null||o.memoizedState===null?rI:sI,o=c(h,g),ha){v=0;do{if(ha=!1,pa=0,25<=v)throw Error(n(301));v+=1,ct=it=null,a.updateQueue=null,Cc.current=iI,o=c(h,g)}while(ha)}if(Cc.current=Pc,a=it!==null&&it.next!==null,Ti=0,ct=it=Fe=null,Oc=!1,a)throw Error(n(300));return o}function am(){var o=pa!==0;return pa=0,o}function br(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ct===null?Fe.memoizedState=ct=o:ct=ct.next=o,ct}function Bn(){if(it===null){var o=Fe.alternate;o=o!==null?o.memoizedState:null}else o=it.next;var a=ct===null?Fe.memoizedState:ct.next;if(a!==null)ct=a,it=o;else{if(o===null)throw Error(n(310));it=o,o={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},ct===null?Fe.memoizedState=ct=o:ct=ct.next=o}return ct}function ma(o,a){return typeof a=="function"?a(o):a}function um(o){var a=Bn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var h=it,g=h.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}h.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,h=h.baseState;var M=S=null,C=null,P=v;do{var _=P.lane;if((Ti&_)===_)C!==null&&(C=C.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),h=P.hasEagerState?P.eagerState:o(h,P.action);else{var H={lane:_,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};C===null?(M=C=H,S=h):C=C.next=H,Fe.lanes|=_,Ni|=_}P=P.next}while(P!==null&&P!==v);C===null?S=h:C.next=M,er(h,a.memoizedState)||(tn=!0),a.memoizedState=h,a.baseState=S,a.baseQueue=C,c.lastRenderedState=h}if(o=c.interleaved,o!==null){g=o;do v=g.lane,Fe.lanes|=v,Ni|=v,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function cm(o){var a=Bn(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var h=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=o(v,S.action),S=S.next;while(S!==g);er(v,a.memoizedState)||(tn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,h]}function _k(){}function Hk(o,a){var c=Fe,h=Bn(),g=a(),v=!er(h.memoizedState,g);if(v&&(h.memoizedState=g,tn=!0),h=h.queue,dm(Wk.bind(null,c,h,o),[o]),h.getSnapshot!==a||v||ct!==null&&ct.memoizedState.tag&1){if(c.flags|=2048,ga(9,jk.bind(null,c,h,g,a),void 0,null),dt===null)throw Error(n(349));Ti&30||Vk(c,a,g)}return g}function Vk(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=Fe.updateQueue,a===null?(a={lastEffect:null,stores:null},Fe.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function jk(o,a,c,h){a.value=c,a.getSnapshot=h,Uk(a)&&Jk(o)}function Wk(o,a,c){return c(function(){Uk(a)&&Jk(o)})}function Uk(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!er(o,c)}catch{return!0}}function Jk(o){var a=Ur(o,1);a!==null&&ir(a,o,1,-1)}function Qk(o){var a=br();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ma,lastRenderedState:o},a.queue=o,o=o.dispatch=nI.bind(null,Fe,o),[a.memoizedState,o]}function ga(o,a,c,h){return o={tag:o,create:a,destroy:c,deps:h,next:null},a=Fe.updateQueue,a===null?(a={lastEffect:null,stores:null},Fe.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(h=c.next,c.next=o,o.next=h,a.lastEffect=o)),o}function qk(){return Bn().memoizedState}function Ic(o,a,c,h){var g=br();Fe.flags|=o,g.memoizedState=ga(1|a,c,void 0,h===void 0?null:h)}function Ac(o,a,c,h){var g=Bn();h=h===void 0?null:h;var v=void 0;if(it!==null){var S=it.memoizedState;if(v=S.destroy,h!==null&&om(h,S.deps)){g.memoizedState=ga(a,c,v,h);return}}Fe.flags|=o,g.memoizedState=ga(1|a,c,v,h)}function Kk(o,a){return Ic(8390656,8,o,a)}function dm(o,a){return Ac(2048,8,o,a)}function Gk(o,a){return Ac(4,2,o,a)}function Yk(o,a){return Ac(4,4,o,a)}function Xk(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function Zk(o,a,c){return c=c!=null?c.concat([o]):null,Ac(4,4,Xk.bind(null,a,o),c)}function fm(){}function ew(o,a){var c=Bn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&om(a,h[1])?h[0]:(c.memoizedState=[o,a],o)}function tw(o,a){var c=Bn();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&om(a,h[1])?h[0]:(o=o(),c.memoizedState=[o,a],o)}function nw(o,a,c){return Ti&21?(er(c,a)||(c=C1(),Fe.lanes|=c,Ni|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,tn=!0),o.memoizedState=c)}function eI(o,a){var c=Se;Se=c!==0&&4>c?c:4,o(!0);var h=im.transition;im.transition={};try{o(!1),a()}finally{Se=c,im.transition=h}}function rw(){return Bn().memoizedState}function tI(o,a,c){var h=Cs(o);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},sw(o))iw(a,c);else if(c=Ck(o,a,c,h),c!==null){var g=jt();ir(c,o,h,g),ow(c,a,h)}}function nI(o,a,c){var h=Cs(o),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(sw(o))iw(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,M=v(S,c);if(g.hasEagerState=!0,g.eagerState=M,er(M,S)){var C=a.interleaved;C===null?(g.next=g,Yp(a)):(g.next=C.next,C.next=g),a.interleaved=g;return}}catch{}finally{}c=Ck(o,a,g,h),c!==null&&(g=jt(),ir(c,o,h,g),ow(c,a,h))}}function sw(o){var a=o.alternate;return o===Fe||a!==null&&a===Fe}function iw(o,a){ha=Oc=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function ow(o,a,c){if(c&4194240){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,fp(o,c)}}var Pc={readContext:Rn,useCallback:It,useContext:It,useEffect:It,useImperativeHandle:It,useInsertionEffect:It,useLayoutEffect:It,useMemo:It,useReducer:It,useRef:It,useState:It,useDebugValue:It,useDeferredValue:It,useTransition:It,useMutableSource:It,useSyncExternalStore:It,useId:It,unstable_isNewReconciler:!1},rI={readContext:Rn,useCallback:function(o,a){return br().memoizedState=[o,a===void 0?null:a],o},useContext:Rn,useEffect:Kk,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Ic(4194308,4,Xk.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Ic(4194308,4,o,a)},useInsertionEffect:function(o,a){return Ic(4,2,o,a)},useMemo:function(o,a){var c=br();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var h=br();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},h.queue=o,o=o.dispatch=tI.bind(null,Fe,o),[h.memoizedState,o]},useRef:function(o){var a=br();return o={current:o},a.memoizedState=o},useState:Qk,useDebugValue:fm,useDeferredValue:function(o){return br().memoizedState=o},useTransition:function(){var o=Qk(!1),a=o[0];return o=eI.bind(null,o[1]),br().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var h=Fe,g=br();if(ze){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),dt===null)throw Error(n(349));Ti&30||Vk(h,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,Kk(Wk.bind(null,h,v,o),[o]),h.flags|=2048,ga(9,jk.bind(null,h,v,c,a),void 0,null),c},useId:function(){var o=br(),a=dt.identifierPrefix;if(ze){var c=Wr,h=jr;c=(h&~(1<<32-Zn(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=pa++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=ZO++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},sI={readContext:Rn,useCallback:ew,useContext:Rn,useEffect:dm,useImperativeHandle:Zk,useInsertionEffect:Gk,useLayoutEffect:Yk,useMemo:tw,useReducer:um,useRef:qk,useState:function(){return um(ma)},useDebugValue:fm,useDeferredValue:function(o){var a=Bn();return nw(a,it.memoizedState,o)},useTransition:function(){var o=um(ma)[0],a=Bn().memoizedState;return[o,a]},useMutableSource:_k,useSyncExternalStore:Hk,useId:rw,unstable_isNewReconciler:!1},iI={readContext:Rn,useCallback:ew,useContext:Rn,useEffect:dm,useImperativeHandle:Zk,useInsertionEffect:Gk,useLayoutEffect:Yk,useMemo:tw,useReducer:cm,useRef:qk,useState:function(){return cm(ma)},useDebugValue:fm,useDeferredValue:function(o){var a=Bn();return it===null?a.memoizedState=o:nw(a,it.memoizedState,o)},useTransition:function(){var o=cm(ma)[0],a=Bn().memoizedState;return[o,a]},useMutableSource:_k,useSyncExternalStore:Hk,useId:rw,unstable_isNewReconciler:!1};function Lo(o,a){try{var c="",h=a;do c+=_r(h),h=h.return;while(h);var g=c}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:o,source:a,stack:g,digest:null}}function hm(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function pm(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function lw(o,a,c){c=Jr(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Fc||(Fc=!0,Cm=h),pm(o,a)},c}function aw(o,a,c){c=Jr(-1,c),c.tag=3;var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){pm(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){pm(o,a),typeof h!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function uw(o,a,c){var h=o.pingCache;if(h===null){h=o.pingCache=new oI;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(g.add(c),o=wI.bind(null,o,a,c),a.then(o,o))}function cw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function dw(o,a,c,h,g){return o.mode&1?(o.flags|=65536,o.lanes=g,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Jr(-1,1),a.tag=2,Es(c,a,1))),c.lanes|=1),o)}var lI=D.ReactCurrentOwner,tn=!1;function Vt(o,a,c,h){a.child=o===null?$k(a,null,c,h):Po(a,o.child,c,h)}function fw(o,a,c,h,g){c=c.render;var v=a.ref;return Ao(a,g),h=lm(o,a,c,h,v,g),c=am(),o!==null&&!tn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Qr(o,a,g)):(ze&&c&&Vp(a),a.flags|=1,Vt(o,a,h,g),a.child)}function hw(o,a,c,h,g){if(o===null){var v=c.type;return typeof v=="function"&&!zm(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,pw(o,a,v,h,g)):(o=Uc(c.type,null,h,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,!(o.lanes&g)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:na,c(S,h)&&o.ref===a.ref)return Qr(o,a,g)}return a.flags|=1,o=Is(v,h),o.ref=a.ref,o.return=a,a.child=o}function pw(o,a,c,h,g){if(o!==null){var v=o.memoizedProps;if(na(v,h)&&o.ref===a.ref)if(tn=!1,a.pendingProps=h=v,(o.lanes&g)!==0)o.flags&131072&&(tn=!0);else return a.lanes=o.lanes,Qr(o,a,g)}return mm(o,a,c,h,g)}function mw(o,a,c){var h=a.pendingProps,g=h.children,v=o!==null?o.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ro,wn),wn|=c;else{if(!(c&1073741824))return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Ne(Ro,wn),wn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,Ne(Ro,wn),wn|=h}else v!==null?(h=v.baseLanes|c,a.memoizedState=null):h=c,Ne(Ro,wn),wn|=h;return Vt(o,a,g,c),a.child}function gw(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function mm(o,a,c,h,g){var v=en(c)?Si:Ot.current;return v=To(a,v),Ao(a,g),c=lm(o,a,c,h,v,g),h=am(),o!==null&&!tn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,Qr(o,a,g)):(ze&&h&&Vp(a),a.flags|=1,Vt(o,a,c,g),a.child)}function yw(o,a,c,h,g){if(en(c)){var v=!0;gc(a)}else v=!1;if(Ao(a,g),a.stateNode===null)Lc(o,a),Lk(a,c,h),em(a,c,h,g),h=!0;else if(o===null){var S=a.stateNode,M=a.memoizedProps;S.props=M;var C=S.context,P=c.contextType;typeof P=="object"&&P!==null?P=Rn(P):(P=en(c)?Si:Ot.current,P=To(a,P));var _=c.getDerivedStateFromProps,H=typeof _=="function"||typeof S.getSnapshotBeforeUpdate=="function";H||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||C!==P)&&zk(a,S,h,P),xs=!1;var $=a.memoizedState;S.state=$,Ec(a,h,S,g),C=a.memoizedState,M!==h||$!==C||Zt.current||xs?(typeof _=="function"&&(Zp(a,c,_,h),C=a.memoizedState),(M=xs||Dk(a,c,M,h,$,C,P))?(H||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=C),S.props=h,S.state=C,S.context=P,h=M):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{S=a.stateNode,Ok(o,a),M=a.memoizedProps,P=a.type===a.elementType?M:nr(a.type,M),S.props=P,H=a.pendingProps,$=S.context,C=c.contextType,typeof C=="object"&&C!==null?C=Rn(C):(C=en(c)?Si:Ot.current,C=To(a,C));var q=c.getDerivedStateFromProps;(_=typeof q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==H||$!==C)&&zk(a,S,h,C),xs=!1,$=a.memoizedState,S.state=$,Ec(a,h,S,g);var Z=a.memoizedState;M!==H||$!==Z||Zt.current||xs?(typeof q=="function"&&(Zp(a,c,q,h),Z=a.memoizedState),(P=xs||Dk(a,c,P,h,$,Z,C)||!1)?(_||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Z,C),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Z,C)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&$===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&$===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),S.props=h,S.state=Z,S.context=C,h=P):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&$===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&$===o.memoizedState||(a.flags|=1024),h=!1)}return gm(o,a,c,h,v,g)}function gm(o,a,c,h,g,v){gw(o,a);var S=(a.flags&128)!==0;if(!h&&!S)return g&&Sk(a,c,!1),Qr(o,a,v);h=a.stateNode,lI.current=a;var M=S&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,o!==null&&S?(a.child=Po(a,o.child,null,v),a.child=Po(a,null,M,v)):Vt(o,a,M,v),a.memoizedState=h.state,g&&Sk(a,c,!0),a.child}function vw(o){var a=o.stateNode;a.pendingContext?kk(o,a.pendingContext,a.pendingContext!==a.context):a.context&&kk(o,a.context,!1),tm(o,a.containerInfo)}function kw(o,a,c,h,g){return Oo(),Jp(g),a.flags|=256,Vt(o,a,c,h),a.child}var ym={dehydrated:null,treeContext:null,retryLane:0};function vm(o){return{baseLanes:o,cachePool:null,transitions:null}}function ww(o,a,c){var h=a.pendingProps,g=$e.current,v=!1,S=(a.flags&128)!==0,M;if((M=S)||(M=o!==null&&o.memoizedState===null?!1:(g&2)!==0),M?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),Ne($e,g&1),o===null)return Up(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=h.children,o=h.fallback,v?(h=a.mode,v=a.child,S={mode:"hidden",children:S},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Jc(S,h,0,null),o=Ai(o,h,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=vm(c),a.memoizedState=ym,o):km(a,S));if(g=o.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return aI(o,a,S,h,M,g,c);if(v){v=h.fallback,S=a.mode,g=o.child,M=g.sibling;var C={mode:"hidden",children:h.children};return!(S&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=C,a.deletions=null):(h=Is(g,C),h.subtreeFlags=g.subtreeFlags&14680064),M!==null?v=Is(M,v):(v=Ai(v,S,c,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,S=o.child.memoizedState,S=S===null?vm(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=o.childLanes&~c,a.memoizedState=ym,h}return v=o.child,o=v.sibling,h=Is(v,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=c),h.return=a,h.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=h,a.memoizedState=null,h}function km(o,a){return a=Jc({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Dc(o,a,c,h){return h!==null&&Jp(h),Po(a,o.child,null,c),o=km(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function aI(o,a,c,h,g,v,S){if(c)return a.flags&256?(a.flags&=-257,h=hm(Error(n(422))),Dc(o,a,S,h)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=h.fallback,g=a.mode,h=Jc({mode:"visible",children:h.children},g,0,null),v=Ai(v,g,S,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,a.mode&1&&Po(a,o.child,null,S),a.child.memoizedState=vm(S),a.memoizedState=ym,v);if(!(a.mode&1))return Dc(o,a,S,null);if(g.data==="$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(n(419)),h=hm(v,h,void 0),Dc(o,a,S,h)}if(M=(S&o.childLanes)!==0,tn||M){if(h=dt,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|S)?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Ur(o,g),ir(h,o,g,-1))}return Lm(),h=hm(Error(n(421))),Dc(o,a,S,h)}return g.data==="$?"?(a.flags|=128,a.child=o.child,a=SI.bind(null,o),g._reactRetry=a,null):(o=v.treeContext,kn=ks(g.nextSibling),vn=a,ze=!0,tr=null,o!==null&&(Ln[zn++]=jr,Ln[zn++]=Wr,Ln[zn++]=bi,jr=o.id,Wr=o.overflow,bi=a),a=km(a,h.children),a.flags|=4096,a)}function Sw(o,a,c){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),Gp(o.return,a,c)}function wm(o,a,c,h,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=g)}function bw(o,a,c){var h=a.pendingProps,g=h.revealOrder,v=h.tail;if(Vt(o,a,h.children,c),h=$e.current,h&2)h=h&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Sw(o,c,a);else if(o.tag===19)Sw(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}if(Ne($e,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&Nc(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),wm(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&Nc(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}wm(a,!0,c,null,v);break;case"together":wm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Lc(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function Qr(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Ni|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,c=Is(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Is(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function uI(o,a,c){switch(a.tag){case 3:vw(a),Oo();break;case 5:Fk(a);break;case 1:en(a.type)&&gc(a);break;case 4:tm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;Ne(Sc,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Ne($e,$e.current&1),a.flags|=128,null):c&a.child.childLanes?ww(o,a,c):(Ne($e,$e.current&1),o=Qr(o,a,c),o!==null?o.sibling:null);Ne($e,$e.current&1);break;case 19:if(h=(c&a.childLanes)!==0,o.flags&128){if(h)return bw(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ne($e,$e.current),h)break;return null;case 22:case 23:return a.lanes=0,mw(o,a,c)}return Qr(o,a,c)}var xw,Sm,Ew,Mw;xw=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Sm=function(){},Ew=function(o,a,c,h){var g=o.memoizedProps;if(g!==h){o=a.stateNode,Mi(Sr.current);var v=null;switch(c){case"input":g=Gh(o,g),h=Gh(o,h),v=[];break;case"select":g=F({},g,{value:void 0}),h=F({},h,{value:void 0}),v=[];break;case"textarea":g=Zh(o,g),h=Zh(o,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(o.onclick=hc)}tp(c,h);var S;c=null;for(P in g)if(!h.hasOwnProperty(P)&&g.hasOwnProperty(P)&&g[P]!=null)if(P==="style"){var M=g[P];for(S in M)M.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?v||(v=[]):(v=v||[]).push(P,null));for(P in h){var C=h[P];if(M=g!=null?g[P]:void 0,h.hasOwnProperty(P)&&C!==M&&(C!=null||M!=null))if(P==="style")if(M){for(S in M)!M.hasOwnProperty(S)||C&&C.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in C)C.hasOwnProperty(S)&&M[S]!==C[S]&&(c||(c={}),c[S]=C[S])}else c||(v||(v=[]),v.push(P,c)),c=C;else P==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,M=M?M.__html:void 0,C!=null&&M!==C&&(v=v||[]).push(P,C)):P==="children"?typeof C!="string"&&typeof C!="number"||(v=v||[]).push(P,""+C):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(s.hasOwnProperty(P)?(C!=null&&P==="onScroll"&&Ie("scroll",o),v||M===C||(v=[])):(v=v||[]).push(P,C))}c&&(v=v||[]).push("style",c);var P=v;(a.updateQueue=P)&&(a.flags|=4)}},Mw=function(o,a,c,h){c!==h&&(a.flags|=4)};function ya(o,a){if(!ze)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function At(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,h=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=h,o.childLanes=c,a}function cI(o,a,c){var h=a.pendingProps;switch(jp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(a),null;case 1:return en(a.type)&&mc(),At(a),null;case 3:return h=a.stateNode,Do(),Ae(Zt),Ae(Ot),sm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(wc(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,tr!==null&&(Am(tr),tr=null))),Sm(o,a),At(a),null;case 5:nm(a);var g=Mi(fa.current);if(c=a.type,o!==null&&a.stateNode!=null)Ew(o,a,c,h,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(n(166));return At(a),null}if(o=Mi(Sr.current),wc(a)){h=a.stateNode,c=a.type;var v=a.memoizedProps;switch(h[wr]=a,h[la]=v,o=(a.mode&1)!==0,c){case"dialog":Ie("cancel",h),Ie("close",h);break;case"iframe":case"object":case"embed":Ie("load",h);break;case"video":case"audio":for(g=0;g<sa.length;g++)Ie(sa[g],h);break;case"source":Ie("error",h);break;case"img":case"image":case"link":Ie("error",h),Ie("load",h);break;case"details":Ie("toggle",h);break;case"input":s1(h,v),Ie("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Ie("invalid",h);break;case"textarea":l1(h,v),Ie("invalid",h)}tp(c,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var M=v[S];S==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&fc(h.textContent,M,o),g=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&fc(h.textContent,M,o),g=["children",""+M]):s.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&Ie("scroll",h)}switch(c){case"input":ju(h),o1(h,v,!0);break;case"textarea":ju(h),u1(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=hc)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=c1(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=S.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof h.is=="string"?o=S.createElement(c,{is:h.is}):(o=S.createElement(c),c==="select"&&(S=o,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):o=S.createElementNS(o,c),o[wr]=a,o[la]=h,xw(o,a,!1,!1),a.stateNode=o;e:{switch(S=np(c,h),c){case"dialog":Ie("cancel",o),Ie("close",o),g=h;break;case"iframe":case"object":case"embed":Ie("load",o),g=h;break;case"video":case"audio":for(g=0;g<sa.length;g++)Ie(sa[g],o);g=h;break;case"source":Ie("error",o),g=h;break;case"img":case"image":case"link":Ie("error",o),Ie("load",o),g=h;break;case"details":Ie("toggle",o),g=h;break;case"input":s1(o,h),g=Gh(o,h),Ie("invalid",o);break;case"option":g=h;break;case"select":o._wrapperState={wasMultiple:!!h.multiple},g=F({},h,{value:void 0}),Ie("invalid",o);break;case"textarea":l1(o,h),g=Zh(o,h),Ie("invalid",o);break;default:g=h}tp(c,g),M=g;for(v in M)if(M.hasOwnProperty(v)){var C=M[v];v==="style"?h1(o,C):v==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&d1(o,C)):v==="children"?typeof C=="string"?(c!=="textarea"||C!=="")&&Fl(o,C):typeof C=="number"&&Fl(o,""+C):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?C!=null&&v==="onScroll"&&Ie("scroll",o):C!=null&&N(o,v,C,S))}switch(c){case"input":ju(o),o1(o,h,!1);break;case"textarea":ju(o),u1(o);break;case"option":h.value!=null&&o.setAttribute("value",""+fs(h.value));break;case"select":o.multiple=!!h.multiple,v=h.value,v!=null?po(o,!!h.multiple,v,!1):h.defaultValue!=null&&po(o,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=hc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return At(a),null;case 6:if(o&&a.stateNode!=null)Mw(o,a,o.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(c=Mi(fa.current),Mi(Sr.current),wc(a)){if(h=a.stateNode,c=a.memoizedProps,h[wr]=a,(v=h.nodeValue!==c)&&(o=vn,o!==null))switch(o.tag){case 3:fc(h.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&fc(h.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[wr]=a,a.stateNode=h}return At(a),null;case 13:if(Ae($e),h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(ze&&kn!==null&&a.mode&1&&!(a.flags&128))Nk(),Oo(),a.flags|=98560,v=!1;else if(v=wc(a),h!==null&&h.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[wr]=a}else Oo(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;At(a),v=!1}else tr!==null&&(Am(tr),tr=null),v=!0;if(!v)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(h=h!==null,h!==(o!==null&&o.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(o===null||$e.current&1?ot===0&&(ot=3):Lm())),a.updateQueue!==null&&(a.flags|=4),At(a),null);case 4:return Do(),Sm(o,a),o===null&&ia(a.stateNode.containerInfo),At(a),null;case 10:return Kp(a.type._context),At(a),null;case 17:return en(a.type)&&mc(),At(a),null;case 19:if(Ae($e),v=a.memoizedState,v===null)return At(a),null;if(h=(a.flags&128)!==0,S=v.rendering,S===null)if(h)ya(v,!1);else{if(ot!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(S=Nc(o),S!==null){for(a.flags|=128,ya(v,!1),h=S.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)v=c,o=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,o=S.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Ne($e,$e.current&1|2),a.child}o=o.sibling}v.tail!==null&&Ke()>Bo&&(a.flags|=128,h=!0,ya(v,!1),a.lanes=4194304)}else{if(!h)if(o=Nc(S),o!==null){if(a.flags|=128,h=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ya(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!ze)return At(a),null}else 2*Ke()-v.renderingStartTime>Bo&&c!==1073741824&&(a.flags|=128,h=!0,ya(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(c=v.last,c!==null?c.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ke(),a.sibling=null,c=$e.current,Ne($e,h?c&1|2:c&1),a):(At(a),null);case 22:case 23:return Dm(),h=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?wn&1073741824&&(At(a),a.subtreeFlags&6&&(a.flags|=8192)):At(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function dI(o,a){switch(jp(a),a.tag){case 1:return en(a.type)&&mc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Do(),Ae(Zt),Ae(Ot),sm(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return nm(a),null;case 13:if(Ae($e),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Oo()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return Ae($e),null;case 4:return Do(),null;case 10:return Kp(a.type._context),null;case 22:case 23:return Dm(),null;case 24:return null;default:return null}}var zc=!1,Pt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,Y=null;function zo(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ue(o,a,h)}else c.current=null}function Tw(o,a,c){try{c()}catch(h){Ue(o,a,h)}}var Nw=!1;function hI(o,a){if(Lp=tc,o=rk(),Tp(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,M=-1,C=-1,P=0,_=0,H=o,$=null;t:for(;;){for(var q;H!==c||g!==0&&H.nodeType!==3||(M=S+g),H!==v||h!==0&&H.nodeType!==3||(C=S+h),H.nodeType===3&&(S+=H.nodeValue.length),(q=H.firstChild)!==null;)$=H,H=q;for(;;){if(H===o)break t;if($===c&&++P===g&&(M=S),$===v&&++_===h&&(C=S),(q=H.nextSibling)!==null)break;H=$,$=H.parentNode}H=q}c=M===-1||C===-1?null:{start:M,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;for(zp={focusedElem:o,selectionRange:c},tc=!1,Y=a;Y!==null;)if(a=Y,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Y=o;else for(;Y!==null;){a=Y;try{var Z=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,Ge=Z.memoizedState,I=a.stateNode,O=I.getSnapshotBeforeUpdate(a.elementType===a.type?ee:nr(a.type,ee),Ge);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var A=a.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(U){Ue(a,a.return,U)}if(o=a.sibling,o!==null){o.return=a.return,Y=o;break}Y=a.return}return Z=Nw,Nw=!1,Z}function va(o,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&Tw(a,c,v)}g=g.next}while(g!==h)}}function Rc(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function bm(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function Cw(o){var a=o.alternate;a!==null&&(o.alternate=null,Cw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[wr],delete a[la],delete a[Fp],delete a[KO],delete a[GO])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Ow(o){return o.tag===5||o.tag===3||o.tag===4}function Iw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Ow(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function xm(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=hc));else if(h!==4&&(o=o.child,o!==null))for(xm(o,a,c),o=o.sibling;o!==null;)xm(o,a,c),o=o.sibling}function Em(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(h!==4&&(o=o.child,o!==null))for(Em(o,a,c),o=o.sibling;o!==null;)Em(o,a,c),o=o.sibling}var wt=null,rr=!1;function Ms(o,a,c){for(c=c.child;c!==null;)Aw(o,a,c),c=c.sibling}function Aw(o,a,c){if(kr&&typeof kr.onCommitFiberUnmount=="function")try{kr.onCommitFiberUnmount(Ku,c)}catch{}switch(c.tag){case 5:Pt||zo(c,a);case 6:var h=wt,g=rr;wt=null,Ms(o,a,c),wt=h,rr=g,wt!==null&&(rr?(o=wt,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):wt.removeChild(c.stateNode));break;case 18:wt!==null&&(rr?(o=wt,c=c.stateNode,o.nodeType===8?$p(o.parentNode,c):o.nodeType===1&&$p(o,c),Gl(o)):$p(wt,c.stateNode));break;case 4:h=wt,g=rr,wt=c.stateNode.containerInfo,rr=!0,Ms(o,a,c),wt=h,rr=g;break;case 0:case 11:case 14:case 15:if(!Pt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&Tw(c,a,S),g=g.next}while(g!==h)}Ms(o,a,c);break;case 1:if(!Pt&&(zo(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(M){Ue(c,a,M)}Ms(o,a,c);break;case 21:Ms(o,a,c);break;case 22:c.mode&1?(Pt=(h=Pt)||c.memoizedState!==null,Ms(o,a,c),Pt=h):Ms(o,a,c);break;default:Ms(o,a,c)}}function Pw(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new fI),a.forEach(function(h){var g=bI.bind(null,o,h);c.has(h)||(c.add(h),h.then(g,g))})}}function sr(o,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var v=o,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 5:wt=M.stateNode,rr=!1;break e;case 3:wt=M.stateNode.containerInfo,rr=!0;break e;case 4:wt=M.stateNode.containerInfo,rr=!0;break e}M=M.return}if(wt===null)throw Error(n(160));Aw(v,S,g),wt=null,rr=!1;var C=g.alternate;C!==null&&(C.return=null),g.return=null}catch(P){Ue(g,a,P)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Dw(a,o),a=a.sibling}function Dw(o,a){var c=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(sr(a,o),xr(o),h&4){try{va(3,o,o.return),Rc(3,o)}catch(ee){Ue(o,o.return,ee)}try{va(5,o,o.return)}catch(ee){Ue(o,o.return,ee)}}break;case 1:sr(a,o),xr(o),h&512&&c!==null&&zo(c,c.return);break;case 5:if(sr(a,o),xr(o),h&512&&c!==null&&zo(c,c.return),o.flags&32){var g=o.stateNode;try{Fl(g,"")}catch(ee){Ue(o,o.return,ee)}}if(h&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,S=c!==null?c.memoizedProps:v,M=o.type,C=o.updateQueue;if(o.updateQueue=null,C!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&i1(g,v),np(M,S);var P=np(M,v);for(S=0;S<C.length;S+=2){var _=C[S],H=C[S+1];_==="style"?h1(g,H):_==="dangerouslySetInnerHTML"?d1(g,H):_==="children"?Fl(g,H):N(g,_,H,P)}switch(M){case"input":Yh(g,v);break;case"textarea":a1(g,v);break;case"select":var $=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var q=v.value;q!=null?po(g,!!v.multiple,q,!1):$!==!!v.multiple&&(v.defaultValue!=null?po(g,!!v.multiple,v.defaultValue,!0):po(g,!!v.multiple,v.multiple?[]:"",!1))}g[la]=v}catch(ee){Ue(o,o.return,ee)}}break;case 6:if(sr(a,o),xr(o),h&4){if(o.stateNode===null)throw Error(n(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(ee){Ue(o,o.return,ee)}}break;case 3:if(sr(a,o),xr(o),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Gl(a.containerInfo)}catch(ee){Ue(o,o.return,ee)}break;case 4:sr(a,o),xr(o);break;case 13:sr(a,o),xr(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Nm=Ke())),h&4&&Pw(o);break;case 22:if(_=c!==null&&c.memoizedState!==null,o.mode&1?(Pt=(P=Pt)||_,sr(a,o),Pt=P):sr(a,o),xr(o),h&8192){if(P=o.memoizedState!==null,(o.stateNode.isHidden=P)&&!_&&o.mode&1)for(Y=o,_=o.child;_!==null;){for(H=Y=_;Y!==null;){switch($=Y,q=$.child,$.tag){case 0:case 11:case 14:case 15:va(4,$,$.return);break;case 1:zo($,$.return);var Z=$.stateNode;if(typeof Z.componentWillUnmount=="function"){h=$,c=$.return;try{a=h,Z.props=a.memoizedProps,Z.state=a.memoizedState,Z.componentWillUnmount()}catch(ee){Ue(h,c,ee)}}break;case 5:zo($,$.return);break;case 22:if($.memoizedState!==null){Rw(H);continue}}q!==null?(q.return=$,Y=q):Rw(H)}_=_.sibling}e:for(_=null,H=o;;){if(H.tag===5){if(_===null){_=H;try{g=H.stateNode,P?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=H.stateNode,C=H.memoizedProps.style,S=C!=null&&C.hasOwnProperty("display")?C.display:null,M.style.display=f1("display",S))}catch(ee){Ue(o,o.return,ee)}}}else if(H.tag===6){if(_===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(ee){Ue(o,o.return,ee)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===o)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===o)break e;for(;H.sibling===null;){if(H.return===null||H.return===o)break e;_===H&&(_=null),H=H.return}_===H&&(_=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:sr(a,o),xr(o),h&4&&Pw(o);break;case 21:break;default:sr(a,o),xr(o)}}function xr(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(Ow(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Fl(g,""),h.flags&=-33);var v=Iw(o);Em(o,v,g);break;case 3:case 4:var S=h.stateNode.containerInfo,M=Iw(o);xm(o,M,S);break;default:throw Error(n(161))}}catch(C){Ue(o,o.return,C)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function pI(o,a,c){Y=o,Lw(o)}function Lw(o,a,c){for(var h=(o.mode&1)!==0;Y!==null;){var g=Y,v=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||zc;if(!S){var M=g.alternate,C=M!==null&&M.memoizedState!==null||Pt;M=zc;var P=Pt;if(zc=S,(Pt=C)&&!P)for(Y=g;Y!==null;)S=Y,C=S.child,S.tag===22&&S.memoizedState!==null?Bw(g):C!==null?(C.return=S,Y=C):Bw(g);for(;v!==null;)Y=v,Lw(v),v=v.sibling;Y=g,zc=M,Pt=P}zw(o)}else g.subtreeFlags&8772&&v!==null?(v.return=g,Y=v):zw(o)}}function zw(o){for(;Y!==null;){var a=Y;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Pt||Rc(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Pt)if(c===null)h.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:nr(a.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&Ak(a,v,h);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}Ak(a,S,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var C=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&c.focus();break;case"img":C.src&&(c.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var P=a.alternate;if(P!==null){var _=P.memoizedState;if(_!==null){var H=_.dehydrated;H!==null&&Gl(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Pt||a.flags&512&&bm(a)}catch($){Ue(a,a.return,$)}}if(a===o){Y=null;break}if(c=a.sibling,c!==null){c.return=a.return,Y=c;break}Y=a.return}}function Rw(o){for(;Y!==null;){var a=Y;if(a===o){Y=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Y=c;break}Y=a.return}}function Bw(o){for(;Y!==null;){var a=Y;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Rc(4,a)}catch(C){Ue(a,c,C)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(C){Ue(a,g,C)}}var v=a.return;try{bm(a)}catch(C){Ue(a,v,C)}break;case 5:var S=a.return;try{bm(a)}catch(C){Ue(a,S,C)}}}catch(C){Ue(a,a.return,C)}if(a===o){Y=null;break}var M=a.sibling;if(M!==null){M.return=a.return,Y=M;break}Y=a.return}}var mI=Math.ceil,Bc=D.ReactCurrentDispatcher,Mm=D.ReactCurrentOwner,$n=D.ReactCurrentBatchConfig,ye=0,dt=null,Xe=null,St=0,wn=0,Ro=ws(0),ot=0,ka=null,Ni=0,$c=0,Tm=0,wa=null,nn=null,Nm=0,Bo=1/0,qr=null,Fc=!1,Cm=null,Ts=null,_c=!1,Ns=null,Hc=0,Sa=0,Om=null,Vc=-1,jc=0;function jt(){return ye&6?Ke():Vc!==-1?Vc:Vc=Ke()}function Cs(o){return o.mode&1?ye&2&&St!==0?St&-St:XO.transition!==null?(jc===0&&(jc=C1()),jc):(o=Se,o!==0||(o=window.event,o=o===void 0?16:B1(o.type)),o):1}function ir(o,a,c,h){if(50<Sa)throw Sa=0,Om=null,Error(n(185));Ul(o,c,h),(!(ye&2)||o!==dt)&&(o===dt&&(!(ye&2)&&($c|=c),ot===4&&Os(o,St)),rn(o,h),c===1&&ye===0&&!(a.mode&1)&&(Bo=Ke()+500,yc&&bs()))}function rn(o,a){var c=o.callbackNode;XC(o,a);var h=Xu(o,o===dt?St:0);if(h===0)c!==null&&M1(c),o.callbackNode=null,o.callbackPriority=0;else if(a=h&-h,o.callbackPriority!==a){if(c!=null&&M1(c),a===1)o.tag===0?YO(Fw.bind(null,o)):bk(Fw.bind(null,o)),QO(function(){!(ye&6)&&bs()}),c=null;else{switch(O1(h)){case 1:c=up;break;case 4:c=T1;break;case 16:c=qu;break;case 536870912:c=N1;break;default:c=qu}c=Qw(c,$w.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function $w(o,a){if(Vc=-1,jc=0,ye&6)throw Error(n(327));var c=o.callbackNode;if($o()&&o.callbackNode!==c)return null;var h=Xu(o,o===dt?St:0);if(h===0)return null;if(h&30||h&o.expiredLanes||a)a=Wc(o,h);else{a=h;var g=ye;ye|=2;var v=Hw();(dt!==o||St!==a)&&(qr=null,Bo=Ke()+500,Oi(o,a));do try{vI();break}catch(M){_w(o,M)}while(!0);qp(),Bc.current=v,ye=g,Xe!==null?a=0:(dt=null,St=0,a=ot)}if(a!==0){if(a===2&&(g=cp(o),g!==0&&(h=g,a=Im(o,g))),a===1)throw c=ka,Oi(o,0),Os(o,h),rn(o,Ke()),c;if(a===6)Os(o,h);else{if(g=o.current.alternate,!(h&30)&&!gI(g)&&(a=Wc(o,h),a===2&&(v=cp(o),v!==0&&(h=v,a=Im(o,v))),a===1))throw c=ka,Oi(o,0),Os(o,h),rn(o,Ke()),c;switch(o.finishedWork=g,o.finishedLanes=h,a){case 0:case 1:throw Error(n(345));case 2:Ii(o,nn,qr);break;case 3:if(Os(o,h),(h&130023424)===h&&(a=Nm+500-Ke(),10<a)){if(Xu(o,0)!==0)break;if(g=o.suspendedLanes,(g&h)!==h){jt(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=Bp(Ii.bind(null,o,nn,qr),a);break}Ii(o,nn,qr);break;case 4:if(Os(o,h),(h&4194240)===h)break;for(a=o.eventTimes,g=-1;0<h;){var S=31-Zn(h);v=1<<S,S=a[S],S>g&&(g=S),h&=~v}if(h=g,h=Ke()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*mI(h/1960))-h,10<h){o.timeoutHandle=Bp(Ii.bind(null,o,nn,qr),h);break}Ii(o,nn,qr);break;case 5:Ii(o,nn,qr);break;default:throw Error(n(329))}}}return rn(o,Ke()),o.callbackNode===c?$w.bind(null,o):null}function Im(o,a){var c=wa;return o.current.memoizedState.isDehydrated&&(Oi(o,a).flags|=256),o=Wc(o,a),o!==2&&(a=nn,nn=c,a!==null&&Am(a)),o}function Am(o){nn===null?nn=o:nn.push.apply(nn,o)}function gI(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],v=g.getSnapshot;g=g.value;try{if(!er(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Os(o,a){for(a&=~Tm,a&=~$c,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-Zn(a),h=1<<c;o[c]=-1,a&=~h}}function Fw(o){if(ye&6)throw Error(n(327));$o();var a=Xu(o,0);if(!(a&1))return rn(o,Ke()),null;var c=Wc(o,a);if(o.tag!==0&&c===2){var h=cp(o);h!==0&&(a=h,c=Im(o,h))}if(c===1)throw c=ka,Oi(o,0),Os(o,a),rn(o,Ke()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ii(o,nn,qr),rn(o,Ke()),null}function Pm(o,a){var c=ye;ye|=1;try{return o(a)}finally{ye=c,ye===0&&(Bo=Ke()+500,yc&&bs())}}function Ci(o){Ns!==null&&Ns.tag===0&&!(ye&6)&&$o();var a=ye;ye|=1;var c=$n.transition,h=Se;try{if($n.transition=null,Se=1,o)return o()}finally{Se=h,$n.transition=c,ye=a,!(ye&6)&&bs()}}function Dm(){wn=Ro.current,Ae(Ro)}function Oi(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,JO(c)),Xe!==null)for(c=Xe.return;c!==null;){var h=c;switch(jp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&mc();break;case 3:Do(),Ae(Zt),Ae(Ot),sm();break;case 5:nm(h);break;case 4:Do();break;case 13:Ae($e);break;case 19:Ae($e);break;case 10:Kp(h.type._context);break;case 22:case 23:Dm()}c=c.return}if(dt=o,Xe=o=Is(o.current,null),St=wn=a,ot=0,ka=null,Tm=$c=Ni=0,nn=wa=null,Ei!==null){for(a=0;a<Ei.length;a++)if(c=Ei[a],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,v=c.pending;if(v!==null){var S=v.next;v.next=g,h.next=S}c.pending=h}Ei=null}return o}function _w(o,a){do{var c=Xe;try{if(qp(),Cc.current=Pc,Oc){for(var h=Fe.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Oc=!1}if(Ti=0,ct=it=Fe=null,ha=!1,pa=0,Mm.current=null,c===null||c.return===null){ot=1,ka=a,Xe=null;break}e:{var v=o,S=c.return,M=c,C=a;if(a=St,M.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=C,_=M,H=_.tag;if(!(_.mode&1)&&(H===0||H===11||H===15)){var $=_.alternate;$?(_.updateQueue=$.updateQueue,_.memoizedState=$.memoizedState,_.lanes=$.lanes):(_.updateQueue=null,_.memoizedState=null)}var q=cw(S);if(q!==null){q.flags&=-257,dw(q,S,M,v,a),q.mode&1&&uw(v,P,a),a=q,C=P;var Z=a.updateQueue;if(Z===null){var ee=new Set;ee.add(C),a.updateQueue=ee}else Z.add(C);break e}else{if(!(a&1)){uw(v,P,a),Lm();break e}C=Error(n(426))}}else if(ze&&M.mode&1){var Ge=cw(S);if(Ge!==null){!(Ge.flags&65536)&&(Ge.flags|=256),dw(Ge,S,M,v,a),Jp(Lo(C,M));break e}}v=C=Lo(C,M),ot!==4&&(ot=2),wa===null?wa=[v]:wa.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var I=lw(v,C,a);Ik(v,I);break e;case 1:M=C;var O=v.type,A=v.stateNode;if(!(v.flags&128)&&(typeof O.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ts===null||!Ts.has(A)))){v.flags|=65536,a&=-a,v.lanes|=a;var U=aw(v,M,a);Ik(v,U);break e}}v=v.return}while(v!==null)}jw(c)}catch(ne){a=ne,Xe===c&&c!==null&&(Xe=c=c.return);continue}break}while(!0)}function Hw(){var o=Bc.current;return Bc.current=Pc,o===null?Pc:o}function Lm(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Ni&268435455)&&!($c&268435455)||Os(dt,St)}function Wc(o,a){var c=ye;ye|=2;var h=Hw();(dt!==o||St!==a)&&(qr=null,Oi(o,a));do try{yI();break}catch(g){_w(o,g)}while(!0);if(qp(),ye=c,Bc.current=h,Xe!==null)throw Error(n(261));return dt=null,St=0,ot}function yI(){for(;Xe!==null;)Vw(Xe)}function vI(){for(;Xe!==null&&!jC();)Vw(Xe)}function Vw(o){var a=Jw(o.alternate,o,wn);o.memoizedProps=o.pendingProps,a===null?jw(o):Xe=a,Mm.current=null}function jw(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=dI(c,a),c!==null){c.flags&=32767,Xe=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{ot=6,Xe=null;return}}else if(c=cI(c,a,wn),c!==null){Xe=c;return}if(a=a.sibling,a!==null){Xe=a;return}Xe=a=o}while(a!==null);ot===0&&(ot=5)}function Ii(o,a,c){var h=Se,g=$n.transition;try{$n.transition=null,Se=1,kI(o,a,c,h)}finally{$n.transition=g,Se=h}return null}function kI(o,a,c,h){do $o();while(Ns!==null);if(ye&6)throw Error(n(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(ZC(o,v),o===dt&&(Xe=dt=null,St=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||_c||(_c=!0,Qw(qu,function(){return $o(),null})),v=(c.flags&15990)!==0,c.subtreeFlags&15990||v){v=$n.transition,$n.transition=null;var S=Se;Se=1;var M=ye;ye|=4,Mm.current=null,hI(o,c),Dw(c,o),FO(zp),tc=!!Lp,zp=Lp=null,o.current=c,pI(c),WC(),ye=M,Se=S,$n.transition=v}else o.current=c;if(_c&&(_c=!1,Ns=o,Hc=g),v=o.pendingLanes,v===0&&(Ts=null),QC(c.stateNode),rn(o,Ke()),a!==null)for(h=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Fc)throw Fc=!1,o=Cm,Cm=null,o;return Hc&1&&o.tag!==0&&$o(),v=o.pendingLanes,v&1?o===Om?Sa++:(Sa=0,Om=o):Sa=0,bs(),null}function $o(){if(Ns!==null){var o=O1(Hc),a=$n.transition,c=Se;try{if($n.transition=null,Se=16>o?16:o,Ns===null)var h=!1;else{if(o=Ns,Ns=null,Hc=0,ye&6)throw Error(n(331));var g=ye;for(ye|=4,Y=o.current;Y!==null;){var v=Y,S=v.child;if(Y.flags&16){var M=v.deletions;if(M!==null){for(var C=0;C<M.length;C++){var P=M[C];for(Y=P;Y!==null;){var _=Y;switch(_.tag){case 0:case 11:case 15:va(8,_,v)}var H=_.child;if(H!==null)H.return=_,Y=H;else for(;Y!==null;){_=Y;var $=_.sibling,q=_.return;if(Cw(_),_===P){Y=null;break}if($!==null){$.return=q,Y=$;break}Y=q}}}var Z=v.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var Ge=ee.sibling;ee.sibling=null,ee=Ge}while(ee!==null)}}Y=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,Y=S;else e:for(;Y!==null;){if(v=Y,v.flags&2048)switch(v.tag){case 0:case 11:case 15:va(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,Y=I;break e}Y=v.return}}var O=o.current;for(Y=O;Y!==null;){S=Y;var A=S.child;if(S.subtreeFlags&2064&&A!==null)A.return=S,Y=A;else e:for(S=O;Y!==null;){if(M=Y,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:Rc(9,M)}}catch(ne){Ue(M,M.return,ne)}if(M===S){Y=null;break e}var U=M.sibling;if(U!==null){U.return=M.return,Y=U;break e}Y=M.return}}if(ye=g,bs(),kr&&typeof kr.onPostCommitFiberRoot=="function")try{kr.onPostCommitFiberRoot(Ku,o)}catch{}h=!0}return h}finally{Se=c,$n.transition=a}}return!1}function Ww(o,a,c){a=Lo(c,a),a=lw(o,a,1),o=Es(o,a,1),a=jt(),o!==null&&(Ul(o,1,a),rn(o,a))}function Ue(o,a,c){if(o.tag===3)Ww(o,o,c);else for(;a!==null;){if(a.tag===3){Ww(a,o,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ts===null||!Ts.has(h))){o=Lo(c,o),o=aw(a,o,1),a=Es(a,o,1),o=jt(),a!==null&&(Ul(a,1,o),rn(a,o));break}}a=a.return}}function wI(o,a,c){var h=o.pingCache;h!==null&&h.delete(a),a=jt(),o.pingedLanes|=o.suspendedLanes&c,dt===o&&(St&c)===c&&(ot===4||ot===3&&(St&130023424)===St&&500>Ke()-Nm?Oi(o,0):Tm|=c),rn(o,a)}function Uw(o,a){a===0&&(o.mode&1?(a=Yu,Yu<<=1,!(Yu&130023424)&&(Yu=4194304)):a=1);var c=jt();o=Ur(o,a),o!==null&&(Ul(o,a,c),rn(o,c))}function SI(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),Uw(o,c)}function bI(o,a){var c=0;switch(o.tag){case 13:var h=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=o.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(a),Uw(o,c)}var Jw;Jw=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||Zt.current)tn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return tn=!1,uI(o,a,c);tn=!!(o.flags&131072)}else tn=!1,ze&&a.flags&1048576&&xk(a,kc,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Lc(o,a),o=a.pendingProps;var g=To(a,Ot.current);Ao(a,c),g=lm(null,a,h,o,g,c);var v=am();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,en(h)?(v=!0,gc(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Xp(a),g.updater=Mc,a.stateNode=g,g._reactInternals=a,em(a,h,o,c),a=gm(null,a,h,!0,v,c)):(a.tag=0,ze&&v&&Vp(a),Vt(null,a,g,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Lc(o,a),o=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=EI(h),o=nr(h,o),g){case 0:a=mm(null,a,h,o,c);break e;case 1:a=yw(null,a,h,o,c);break e;case 11:a=fw(null,a,h,o,c);break e;case 14:a=hw(null,a,h,nr(h.type,o),c);break e}throw Error(n(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:nr(h,g),mm(o,a,h,g,c);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:nr(h,g),yw(o,a,h,g,c);case 3:e:{if(vw(a),o===null)throw Error(n(387));h=a.pendingProps,v=a.memoizedState,g=v.element,Ok(o,a),Ec(a,h,null,c);var S=a.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=Lo(Error(n(423)),a),a=kw(o,a,h,c,g);break e}else if(h!==g){g=Lo(Error(n(424)),a),a=kw(o,a,h,c,g);break e}else for(kn=ks(a.stateNode.containerInfo.firstChild),vn=a,ze=!0,tr=null,c=$k(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Oo(),h===g){a=Qr(o,a,c);break e}Vt(o,a,h,c)}a=a.child}return a;case 5:return Fk(a),o===null&&Up(a),h=a.type,g=a.pendingProps,v=o!==null?o.memoizedProps:null,S=g.children,Rp(h,g)?S=null:v!==null&&Rp(h,v)&&(a.flags|=32),gw(o,a),Vt(o,a,S,c),a.child;case 6:return o===null&&Up(a),null;case 13:return ww(o,a,c);case 4:return tm(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=Po(a,null,h,c):Vt(o,a,h,c),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:nr(h,g),fw(o,a,h,g,c);case 7:return Vt(o,a,a.pendingProps,c),a.child;case 8:return Vt(o,a,a.pendingProps.children,c),a.child;case 12:return Vt(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,v=a.memoizedProps,S=g.value,Ne(Sc,h._currentValue),h._currentValue=S,v!==null)if(er(v.value,S)){if(v.children===g.children&&!Zt.current){a=Qr(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var M=v.dependencies;if(M!==null){S=v.child;for(var C=M.firstContext;C!==null;){if(C.context===h){if(v.tag===1){C=Jr(-1,c&-c),C.tag=2;var P=v.updateQueue;if(P!==null){P=P.shared;var _=P.pending;_===null?C.next=C:(C.next=_.next,_.next=C),P.pending=C}}v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),Gp(v.return,c,a),M.lanes|=c;break}C=C.next}}else if(v.tag===10)S=v.type===a.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=c,M=S.alternate,M!==null&&(M.lanes|=c),Gp(S,c,a),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===a){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}Vt(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Ao(a,c),g=Rn(g),h=h(g),a.flags|=1,Vt(o,a,h,c),a.child;case 14:return h=a.type,g=nr(h,a.pendingProps),g=nr(h.type,g),hw(o,a,h,g,c);case 15:return pw(o,a,a.type,a.pendingProps,c);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:nr(h,g),Lc(o,a),a.tag=1,en(h)?(o=!0,gc(a)):o=!1,Ao(a,c),Lk(a,h,g),em(a,h,g,c),gm(null,a,h,!0,o,c);case 19:return bw(o,a,c);case 22:return mw(o,a,c)}throw Error(n(156,a.tag))};function Qw(o,a){return E1(o,a)}function xI(o,a,c,h){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(o,a,c,h){return new xI(o,a,c,h)}function zm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function EI(o){if(typeof o=="function")return zm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===ut)return 11;if(o===Yn)return 14}return 2}function Is(o,a){var c=o.alternate;return c===null?(c=Fn(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function Uc(o,a,c,h,g,v){var S=2;if(h=o,typeof o=="function")zm(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case B:return Ai(c.children,g,v,a);case J:S=8,g|=8;break;case K:return o=Fn(12,c,a,g|2),o.elementType=K,o.lanes=v,o;case nt:return o=Fn(13,c,a,g),o.elementType=nt,o.lanes=v,o;case Dn:return o=Fn(19,c,a,g),o.elementType=Dn,o.lanes=v,o;case kt:return Jc(c,g,v,a);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case se:S=10;break e;case Te:S=9;break e;case ut:S=11;break e;case Yn:S=14;break e;case qe:S=16,h=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=Fn(S,c,a,g),a.elementType=o,a.type=h,a.lanes=v,a}function Ai(o,a,c,h){return o=Fn(7,o,h,a),o.lanes=c,o}function Jc(o,a,c,h){return o=Fn(22,o,h,a),o.elementType=kt,o.lanes=c,o.stateNode={isHidden:!1},o}function Rm(o,a,c){return o=Fn(6,o,null,a),o.lanes=c,o}function Bm(o,a,c){return a=Fn(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function MI(o,a,c,h,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dp(0),this.expirationTimes=dp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dp(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function $m(o,a,c,h,g,v,S,M,C){return o=new MI(o,a,c,M,C),a===1?(a=1,v===!0&&(a|=8)):a=0,v=Fn(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xp(v),o}function TI(o,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:h==null?null:""+h,children:o,containerInfo:a,implementation:c}}function qw(o){if(!o)return Ss;o=o._reactInternals;e:{if(ki(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(en(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(en(c))return wk(o,c,a)}return a}function Kw(o,a,c,h,g,v,S,M,C){return o=$m(c,h,!0,o,g,v,S,M,C),o.context=qw(null),c=o.current,h=jt(),g=Cs(c),v=Jr(h,g),v.callback=a??null,Es(c,v,g),o.current.lanes=g,Ul(o,g,h),rn(o,h),o}function Qc(o,a,c,h){var g=a.current,v=jt(),S=Cs(g);return c=qw(c),a.context===null?a.context=c:a.pendingContext=c,a=Jr(v,S),a.payload={element:o},h=h===void 0?null:h,h!==null&&(a.callback=h),o=Es(g,a,S),o!==null&&(ir(o,g,S,v),xc(o,g,S)),S}function qc(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function Gw(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Fm(o,a){Gw(o,a),(o=o.alternate)&&Gw(o,a)}function NI(){return null}var Yw=typeof reportError=="function"?reportError:function(o){console.error(o)};function _m(o){this._internalRoot=o}Kc.prototype.render=_m.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Qc(o,a,null,null)},Kc.prototype.unmount=_m.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Ci(function(){Qc(null,o,null,null)}),a[Hr]=null}};function Kc(o){this._internalRoot=o}Kc.prototype.unstable_scheduleHydration=function(o){if(o){var a=P1();o={blockedOn:null,target:o,priority:a};for(var c=0;c<gs.length&&a!==0&&a<gs[c].priority;c++);gs.splice(c,0,o),c===0&&z1(o)}};function Hm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Gc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Xw(){}function CI(o,a,c,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var P=qc(S);v.call(P)}}var S=Kw(a,h,o,0,null,!1,!1,"",Xw);return o._reactRootContainer=S,o[Hr]=S.current,ia(o.nodeType===8?o.parentNode:o),Ci(),S}for(;g=o.lastChild;)o.removeChild(g);if(typeof h=="function"){var M=h;h=function(){var P=qc(C);M.call(P)}}var C=$m(o,0,!1,null,null,!1,!1,"",Xw);return o._reactRootContainer=C,o[Hr]=C.current,ia(o.nodeType===8?o.parentNode:o),Ci(function(){Qc(a,C,c,h)}),C}function Yc(o,a,c,h,g){var v=c._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var M=g;g=function(){var C=qc(S);M.call(C)}}Qc(a,S,o,g)}else S=CI(c,a,o,g,h);return qc(S)}I1=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Wl(a.pendingLanes);c!==0&&(fp(a,c|1),rn(a,Ke()),!(ye&6)&&(Bo=Ke()+500,bs()))}break;case 13:Ci(function(){var h=Ur(o,1);if(h!==null){var g=jt();ir(h,o,1,g)}}),Fm(o,1)}},hp=function(o){if(o.tag===13){var a=Ur(o,134217728);if(a!==null){var c=jt();ir(a,o,134217728,c)}Fm(o,134217728)}},A1=function(o){if(o.tag===13){var a=Cs(o),c=Ur(o,a);if(c!==null){var h=jt();ir(c,o,a,h)}Fm(o,a)}},P1=function(){return Se},D1=function(o,a){var c=Se;try{return Se=o,a()}finally{Se=c}},ip=function(o,a,c){switch(a){case"input":if(Yh(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==o&&h.form===o.form){var g=pc(h);if(!g)throw Error(n(90));r1(h),Yh(h,g)}}}break;case"textarea":a1(o,c);break;case"select":a=c.value,a!=null&&po(o,!!c.multiple,a,!1)}},y1=Pm,v1=Ci;var OI={usingClientEntryPoint:!1,Events:[aa,Eo,pc,m1,g1,Pm]},ba={findFiberByHostInstance:wi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},II={bundleType:ba.bundleType,version:ba.version,rendererPackageName:ba.rendererPackageName,rendererConfig:ba.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=b1(o),o===null?null:o.stateNode},findFiberByHostInstance:ba.findFiberByHostInstance||NI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xc.isDisabled&&Xc.supportsFiber)try{Ku=Xc.inject(II),kr=Xc}catch{}}return sn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=OI,sn.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hm(a))throw Error(n(200));return TI(o,a,null,c)},sn.createRoot=function(o,a){if(!Hm(o))throw Error(n(299));var c=!1,h="",g=Yw;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=$m(o,1,!1,null,null,c,!1,h,g),o[Hr]=a.current,ia(o.nodeType===8?o.parentNode:o),new _m(a)},sn.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=b1(a),o=o===null?null:o.stateNode,o},sn.flushSync=function(o){return Ci(o)},sn.hydrate=function(o,a,c){if(!Gc(a))throw Error(n(200));return Yc(null,o,a,!0,c)},sn.hydrateRoot=function(o,a,c){if(!Hm(o))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,v="",S=Yw;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=Kw(a,null,o,1,c??null,g,!1,v,S),o[Hr]=a.current,ia(o),h)for(o=0;o<h.length;o++)c=h[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Kc(a)},sn.render=function(o,a,c){if(!Gc(a))throw Error(n(200));return Yc(null,o,a,!1,c)},sn.unmountComponentAtNode=function(o){if(!Gc(o))throw Error(n(40));return o._reactRootContainer?(Ci(function(){Yc(null,null,o,!1,function(){o._reactRootContainer=null,o[Hr]=null})}),!0):!1},sn.unstable_batchedUpdates=Pm,sn.unstable_renderSubtreeIntoContainer=function(o,a,c,h){if(!Gc(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return Yc(o,a,c,!1,h)},sn.version="18.2.0-next-9e3b772b8-20220608",sn}function WN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(WN)}catch(t){console.error(t)}}WN(),jN.exports=sB();var UN=jN.exports;const iB=gT(UN),oB=({renderers:t})=>we.createElement(we.Fragment,null,Object.entries(t).map(([e,n])=>iB.createPortal(n.reactElement,n.element,e)));class lB extends we.Component{constructor(e){super(e),this.editorContentRef=we.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?UN.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return we.createElement(we.Fragment,null,we.createElement("div",{ref:this.editorContentRef,...n}),we.createElement(oB,{renderers:this.state.renderers}))}}const aB=t=>{const e=we.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return we.createElement(lB,{key:e,...t})};we.memo(aB);class uB extends ZR{constructor(){super(...arguments),this.contentComponent=null}}function cB(){const[,t]=Ce.useState(0);return()=>t(e=>e+1)}const dB=(t={},e=[])=>{const[n,r]=Ce.useState(null),s=cB(),{onBeforeCreate:i,onBlur:l,onCreate:u,onDestroy:d,onFocus:f,onSelectionUpdate:p,onTransaction:m,onUpdate:y}=t,k=Ce.useRef(i),w=Ce.useRef(l),b=Ce.useRef(u),T=Ce.useRef(d),x=Ce.useRef(f),E=Ce.useRef(p),N=Ce.useRef(m),D=Ce.useRef(y);return Ce.useEffect(()=>{n&&(i&&(n.off("beforeCreate",k.current),n.on("beforeCreate",i),k.current=i),l&&(n.off("blur",w.current),n.on("blur",l),w.current=l),u&&(n.off("create",b.current),n.on("create",u),b.current=u),d&&(n.off("destroy",T.current),n.on("destroy",d),T.current=d),f&&(n.off("focus",x.current),n.on("focus",f),x.current=f),p&&(n.off("selectionUpdate",E.current),n.on("selectionUpdate",p),E.current=p),m&&(n.off("transaction",N.current),n.on("transaction",m),N.current=m),y&&(n.off("update",D.current),n.on("update",y),D.current=y))},[i,l,u,d,f,p,m,y,n]),Ce.useEffect(()=>{let R=!0;const L=new uB(t);return r(L),L.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{R&&s()})})}),()=>{R=!1}},e),Ce.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},fB=Ce.createContext({editor:null});fB.Consumer;const hB=Ce.createContext({onDragStart:void 0}),pB=()=>Ce.useContext(hB);we.forwardRef((t,e)=>{const{onDragStart:n}=pB(),r=t.as||"div";return we.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});var JN=(t=>(t.Action="action",t))(JN||{});class Be{constructor({forceName:e,tiptapExtension:n,tiptapExtensionDeps:r,onBridgeMessage:s,onEditorMessage:i,extendEditorState:l,extendEditorInstance:u,extendCSS:d,config:f,extendConfig:p}){n?this.name=Array.isArray(n)?n.map(m=>m.name).join("+"):n.name:this.name=e||"BridgeExtension",this.tiptapExtension=n,this.tiptapExtensionDeps=r,this.onBridgeMessage=s,this.onEditorMessage=i,this.extendEditorState=l,this.extendEditorInstance=u,this.extendCSS=d,this.config=f,this.extendConfig=p}clone(){return new Be({...this,forceName:this.name})}configureExtension(e){const n=this.clone();return n.config=e,n}configureCSS(e){const n=this.clone();return n.extendCSS=e,n}extendExtension(e){const n=this.clone();return n.extendConfig=e,n}configureTiptapExtensionsOnRunTime(e,n){var r,s;return this.tiptapExtension&&(e&&(this.tiptapExtension=(r=this.tiptapExtension)==null?void 0:r.configure(e)),n&&(this.tiptapExtension=(s=this.tiptapExtension)==null?void 0:s.extend(n))),[this.tiptapExtension,...this.tiptapExtensionDeps||[]]}}class mB{constructor(){lP(this,"subscriptions",{}),this.subscriptions={}}onMessage(e,n){this.subscriptions[e]&&this.subscriptions[e].forEach(r=>{r(n)})}addListener(e,n){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n)}sendAsyncMessage(e,n){const r=Math.random().toString(36).substring(7);return e.payload=e.payload||{},e.payload.messageId=r,new Promise(s=>{this.addListener(r,s),n(e)})}}const wd=new mB,gB=()=>{let t=!1;try{require("expo-constants")&&(t=!0)}catch{t=!1}return t};class yB{constructor(){this.focus=!1,window.document.addEventListener("focus",()=>{this.focus=!0},!0),window.document.addEventListener("blur",()=>{this.focus=!1},!0)}get isFocused(){return this.focus}}const vB={isFocused:!1},kB=gB()?vB:new yB,wB=Ct.create({name:"doc",topNode:!0,content:"block+"}),SB=Ct.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),bB=Ct.create({name:"text",group:"inline"});var jd=(t=>(t.SetSelection="set-selection",t.GetHTML="get-html",t.GetJSON="get-json",t.GetText="get-text",t.SendHTMLToNative="send-html-back",t.SendTextToNative="send-text-back",t.SendJSONToNative="send-json-back",t.SetContent="set-content",t.StateUpdate="stateUpdate",t.Focus="focus",t.Blur="blur",t.EditorReady="editor-ready",t.UpdateScrollThresholdAndMargin="update-scroll-threshold-and-margin",t.ContentUpdate="content-update",t))(jd||{});const xB=new Be({forceName:"coreBridge",tiptapExtension:wB,tiptapExtensionDeps:[SB,bB],onBridgeMessage:(t,e,n)=>e.type==="set-content"?(t.commands.setContent(e.payload.content),!0):(e.type==="get-html"&&n({type:"send-html-back",payload:{content:t.getHTML(),messageId:e.payload.messageId}}),e.type==="get-json"&&n({type:"send-json-back",payload:{content:t.getJSON(),messageId:e.payload.messageId}}),e.type==="get-text"&&n({type:"send-text-back",payload:{content:t.getText(),messageId:e.payload.messageId}}),e.type==="set-selection"?(t.commands.setTextSelection({from:e.payload.from,to:e.payload.to}),!0):e.type==="focus"?(t.commands.focus(e.payload),!0):e.type==="blur"?(t.commands.blur(),!0):e.type==="update-scroll-threshold-and-margin"?(t.setOptions({editorProps:{scrollThreshold:{top:0,bottom:e.payload,right:0,left:0},scrollMargin:{top:0,bottom:e.payload,right:0,left:0}}}),!0):!1),onEditorMessage:({type:t,payload:e},n)=>t==="send-html-back"||t==="send-text-back"||t==="send-json-back"?(wd.onMessage(e.messageId,e.content),!0):(t==="editor-ready"&&n.autofocus&&n.focus("end"),t==="stateUpdate"&&n._updateEditorState(e),t==="content-update"&&n._onContentUpdate(),!1),extendEditorInstance:(t,e,n,r)=>({updateScrollThresholdAndMargin:s=>t({type:"update-scroll-threshold-and-margin",payload:s}),setSelection:(s,i)=>{t({type:"set-selection",payload:{from:s,to:i}})},setContent:s=>{t({type:"set-content",payload:{content:s}})},getHTML:async()=>await wd.sendAsyncMessage({type:"get-html"},t),getText:async()=>await wd.sendAsyncMessage({type:"get-text"},t),getJSON:async()=>await wd.sendAsyncMessage({type:"get-json"},t),focus:s=>{var i;(i=e==null?void 0:e.current)==null||i.requestFocus(),n&&n.current&&r&&r({...n.current,isFocused:!0}),t({type:"focus",payload:s})},blur:()=>{t({type:"blur",payload:void 0})},injectJS:s=>{var i;(i=e==null?void 0:e.current)==null||i.injectJavaScript(s)}}),extendEditorState:t=>({isFocused:kB.isFocused,isReady:!0,selection:{from:t.state.selection.from,to:t.state.selection.to}})}),EB=pn.create({name:"eventHandler",addProseMirrorPlugins(){return[new Xt({key:new Gn("blueBackground"),state:{init(){return Qe.empty},apply(t,e,n,r){if(t.selection.empty)return Qe.empty;{const s=[],{from:i,to:l}=t.selection;return s.push(Cn.inline(i,l,{style:"background-color: #e6e6ff;"})),Qe.create(r.doc,s)}}},props:{decorations(t){return this.getState(t)}}})]}}),MB=window.initialContent||"",Sd=t=>{var e;(e=window.ReactNativeWebView)==null||e.postMessage(JSON.stringify(t))},TB=JSON.parse(window.bridgeExtensionConfigMap||"{}"),NB=t=>{const{tiptapOptions:e={},bridges:n=[]}=t||{};function r(d){return d!=null}const s=n.map(d=>{const f=TB[d.name];if(!f)return null;const{optionsConfig:p,extendConfig:m}=f;return d.configureTiptapExtensionsOnRunTime(p,m)}).filter(r).flat(),i={...e,extensions:[EB,...s,...e.extensions||[]]},l=lD(d=>{let f={};const p=n.reduce((m,y)=>y.extendEditorState?Object.assign(m,y.extendEditorState(d)):m,f);Sd({type:jd.StateUpdate,payload:p})},10),u=dB({content:MB,onCreate:()=>Sd({type:jd.EditorReady,payload:void 0}),onUpdate:d=>{l(d.editor),Sd({type:jd.ContentUpdate,payload:void 0})},onSelectionUpdate:d=>l(d.editor),onTransaction:d=>l(d.editor),...i});return Ce.useEffect(()=>{if(!u)return;const d=p=>{n.forEach(m=>{m.onBridgeMessage&&m.onBridgeMessage(u,p,Sd)})},f=p=>{if(!(p instanceof MessageEvent))return;const m=JSON.parse(p.data);if(m.type===JN.Action){if(m.id){if(window.lastMessageID===m.id)return;window.lastMessageID=m.id}d(m.payload)}};return window.addEventListener("message",f),document.addEventListener("message",f),()=>{window.removeEventListener("message",f),document.removeEventListener("message",f)}},[u,n]),u},CB=/^\s*>\s$/,OB=Ct.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Ol({find:CB,type:this.type})]}}),IB=new Be({tiptapExtension:OB,onBridgeMessage:(t,e)=>(e.type==="toggle-blockquote"&&t.chain().focus().toggleBlockquote().run(),!1),extendEditorInstance:t=>({toggleBlockquote:()=>t({type:"toggle-blockquote"})}),extendEditorState:t=>({canToggleBlockquote:t.can().toggleBlockquote(),isBlockquoteActive:t.isActive("blockquote")}),extendCSS:`
    blockquote {
        border-left: 3px solid #0d0d0d1a;
        padding-left: 1rem;
    }
  `}),AB=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,PB=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,DB=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,LB=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,zB=mn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[ao({find:AB,type:this.type}),ao({find:DB,type:this.type})]},addPasteRules(){return[di({find:PB,type:this.type}),di({find:LB,type:this.type})]}}),RB=new Be({tiptapExtension:zB,onBridgeMessage:(t,e)=>(e.type==="toggle-bold"&&t.chain().focus().toggleBold().run(),!1),extendEditorInstance:t=>({toggleBold:()=>t({type:"toggle-bold"})}),extendEditorState:t=>({canToggleBold:t.can().toggleBold(),isBoldActive:t.isActive("bold")})}),Fv=Ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),BB=Ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),xx=mn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Vu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),Ex=/^\s*([-+*])\s$/,$B=Ct.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(BB.name,this.editor.getAttributes(xx.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Ol({find:Ex,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ol({find:Ex,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(xx.name),editor:this.editor})),[t]}}),FB=new Be({tiptapExtension:$B,tiptapExtensionDeps:[Fv],onBridgeMessage:(t,e)=>(e.type==="toggle-bulletList"&&t.chain().focus().toggleBulletList().run(),!1),extendEditorInstance:t=>({toggleBulletList:()=>t({type:"toggle-bulletList"})}),extendEditorState:t=>({canToggleBulletList:t.can().toggleBulletList(),isBulletListActive:t.isActive("bulletList")})}),_B=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,HB=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,VB=mn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[ao({find:_B,type:this.type})]},addPasteRules(){return[di({find:HB,type:this.type})]}}),jB=new Be({tiptapExtension:VB,onBridgeMessage:(t,e)=>(e.type==="toggle-code"&&t.chain().focus().toggleCode().run(),!1),extendEditorInstance:t=>({toggleCode:()=>t({type:"toggle-code"})}),extendEditorState:t=>({canToggleCode:t.can().toggleCode(),isCodeActive:t.isActive("code")}),extendCSS:`
    code {
        background-color: #6161611a;
        border-radius: 0.25em;
        box-decoration-break: clone;
        color: #616161;
        font-size: 0.9rem;
        padding: 0.25em;
    }
  `}),QN=mn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Vu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),WB=pn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),UB=new Be({tiptapExtension:WB,tiptapExtensionDeps:[QN],onBridgeMessage:(t,{type:e,payload:n})=>{switch(e){case"set-color":t.chain().focus().setColor(n).run();break;case"unset-color":t.chain().focus().unsetColor().run();break}return!1},extendEditorInstance:t=>({setColor:e=>t({type:"set-color",payload:e}),unsetColor:()=>t({type:"unset-color",payload:void 0})}),extendEditorState:t=>({activeColor:t.getAttributes("textStyle").color})}),JB=Ct.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Le(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>tB({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),QB=new Be({tiptapExtension:JB,onBridgeMessage:(t,e)=>(e.type==="toggle-heading"&&t.chain().focus().toggleHeading({level:e.payload}).run(),!1),extendEditorInstance:t=>({toggleHeading:e=>t({type:"toggle-heading",payload:e})}),extendEditorState:t=>{var e;return{canToggleHeading:t.can().toggleHeading({level:1}),headingLevel:(e=t.getAttributes("heading"))==null?void 0:e.level}}}),qB=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))$/,KB=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,GB=mn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[ao({find:qB,type:this.type})]},addPasteRules(){return[di({find:KB,type:this.type})]}}),YB=new Be({tiptapExtension:GB.configure({multicolor:!0}),tiptapExtensionDeps:[QN],onBridgeMessage:(t,{type:e,payload:n})=>{switch(e){case"set-highlight":t.chain().focus().setHighlight({color:n}).run();break;case"toggle-highlight":t.chain().focus().toggleHighlight({color:n}).run();break;case"unset-highlight":t.chain().focus().unsetHighlight().run();break}return!1},extendEditorInstance:t=>({setHighlight:e=>t({type:"set-highlight",payload:e}),toggleHighlight:e=>t({type:"toggle-highlight",payload:e}),unsetHighlight:()=>t({type:"unset-highlight",payload:void 0})}),extendEditorState:t=>({activeHighlight:t.getAttributes("highlight").color})});var zf=200,gt=function(){};gt.prototype.append=function(t){return t.length?(t=gt.from(t),!this.length&&t||t.length<zf&&this.leafAppend(t)||this.length<zf&&t.leafPrepend(this)||this.appendInner(t)):this};gt.prototype.prepend=function(t){return t.length?gt.from(t).append(this):this};gt.prototype.appendInner=function(t){return new XB(this,t)};gt.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?gt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};gt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};gt.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};gt.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,i){return r.push(t(s,i))},e,n),r};gt.from=function(t){return t instanceof gt?t:t&&t.length?new qN(t):gt.empty};var qN=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,i,l){for(var u=s;u<i;u++)if(r(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,l){for(var u=s-1;u>=i;u--)if(r(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=zf)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=zf)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(gt);gt.empty=new qN([]);var XB=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,s,i){var l=this.left.length;if(r<l&&this.left.forEachInner(n,r,Math.min(s,l),i)===!1||s>l&&this.right.forEachInner(n,Math.max(r-l,0),Math.min(this.length,s)-l,i+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,s,i){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(n,r-l,Math.max(s,l)-l,i+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(r,l),s,i)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(gt);const ZB=500;class dr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let l=e.tr,u,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Tr(m.map));let k=m.step.map(s.slice(i)),w;k&&l.maybeStep(k).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Tr(w,void 0,void 0,f.length+p.length))),i--,w&&s.appendMap(w,i)}else l.maybeStep(m.step);if(m.selection)return u=s?m.selection.map(s.slice(i)):m.selection,d=new dr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,r,s){let i=[],l=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Tr(e.mapping.maps[p],m,n),k;(k=d&&d.merge(y))&&(y=k,p?i.pop():u=u.slice(0,u.length-1)),i.push(y),n&&(l++,n=void 0),s||(d=y)}let f=l-r.depth;return f>t$&&(u=e$(u,f),l-=f),new dr(u.append(i),l)}remapping(e,n){let r=new hl;return this.items.forEach((s,i)=>{let l=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new dr(this.items.append(e.map(n=>new Tr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},s);let d=n;this.items.forEach(y=>{let k=i.getMirror(--d);if(k==null)return;l=Math.min(l,k);let w=i.maps[k];if(y.step){let b=e.steps[k].invert(e.docs[k]),T=y.selection&&y.selection.map(i.slice(d+1,k));T&&u++,r.push(new Tr(w,b,T))}else r.push(new Tr(w))},s);let f=[];for(let y=n;y<l;y++)f.push(new Tr(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new dr(p,u);return m.emptyItemCount()>ZB&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)s.push(l),l.selection&&i++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&i++;let m=new Tr(f.invert(),d,p),y,k=s.length-1;(y=s.length&&s[k].merge(m))?s[k]=y:s.push(m)}}else l.map&&r--},this.items.length,0),new dr(gt.from(s.reverse()),i)}}dr.empty=new dr(gt.empty,0);function e$(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Tr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Tr(n.getMap().invert(),n,this.selection)}}}class $s{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const t$=20;function n$(t,e,n,r){let s=n.getMeta(li),i;if(s)return s.historyState;n.getMeta(s$)&&(t=new $s(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(li))return l.getMeta(li).redo?new $s(t.done.addTransform(n,void 0,r,Wd(e)),t.undone,Mx(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new $s(t.done,t.undone.addTransform(n,void 0,r,Wd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!r$(n,t.prevRanges)),f=l?Rg(t.prevRanges,n.mapping):Mx(n.mapping.maps[n.steps.length-1]);return new $s(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Wd(e)),dr.empty,f,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new $s(t.done.rebased(n,i),t.undone.rebased(n,i),Rg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new $s(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Rg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function r$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Mx(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function Rg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function KN(t,e,n,r){let s=Wd(e),i=li.get(e).spec.config,l=(r?t.undone:t.done).popEvent(e,s);if(!l)return;let u=l.selection.resolve(l.transform.doc),d=(r?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),i,s),f=new $s(r?d:l.remaining,r?l.remaining:d,null,0,-1);n(l.transform.setSelection(u).setMeta(li,{redo:r,historyState:f}).scrollIntoView())}let Bg=!1,Tx=null;function Wd(t){let e=t.plugins;if(Tx!=e){Bg=!1,Tx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Bg=!0;break}}return Bg}const li=new Gn("history"),s$=new Gn("closeHistory");function i$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Xt({key:li,state:{init(){return new $s(dr.empty,dr.empty,null,0,-1)},apply(e,n,r){return n$(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?GN:r=="historyRedo"?YN:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const GN=(t,e)=>{let n=li.getState(t);return!n||n.done.eventCount==0?!1:(e&&KN(n,t,e,!1),!0)},YN=(t,e)=>{let n=li.getState(t);return!n||n.undone.eventCount==0?!1:(e&&KN(n,t,e,!0),!0)},o$=pn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>GN(t,e),redo:()=>({state:t,dispatch:e})=>YN(t,e)}},addProseMirrorPlugins(){return[i$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),l$=new Be({tiptapExtension:o$,onBridgeMessage:(t,e)=>(e.type==="undo"&&t.chain().focus().undo().run(),e.type==="redo"&&t.chain().focus().redo().run(),!1),extendEditorInstance:t=>({redo:()=>t({type:"redo"}),undo:()=>t({type:"undo"})}),extendEditorState:t=>({canUndo:t.can().undo(),canRedo:t.can().redo()})}),a$=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,u$=Ct.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Le(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[eB({find:a$,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),c$=new Be({tiptapExtension:u$.configure({allowBase64:!0}),onBridgeMessage:(t,e)=>(e.type==="set-image"&&t.chain().focus().setImage({src:e.payload}).setTextSelection(t.state.selection.to+1).run(),!1),extendEditorInstance:t=>({setImage:e=>t({type:"set-image",payload:e})}),extendEditorState:()=>({}),extendCSS:`
  img {
    height: auto;
    max-width: 100%;
  }

  img &.ProseMirror-selectednode {
    outline: 3px solid #68cef8;
  }
  `}),d$=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,f$=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,h$=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,p$=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,m$=mn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[ao({find:d$,type:this.type}),ao({find:h$,type:this.type})]},addPasteRules(){return[di({find:f$,type:this.type}),di({find:p$,type:this.type})]}}),g$=new Be({tiptapExtension:m$,onBridgeMessage:(t,e)=>(e.type==="toggle-italic"&&t.chain().focus().toggleItalic().run(),!1),extendEditorInstance:t=>({toggleItalic:()=>t({type:"toggle-italic"})}),extendEditorState:t=>({canToggleItalic:t.can().toggleItalic(),isItalicActive:t.isActive("italic")})}),y$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",v$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Il=(t,e)=>{for(const n in e)t[n]=e[n];return t},d0="numeric",f0="ascii",h0="alpha",Ud="asciinumeric",bd="alphanumeric",p0="domain",XN="emoji",k$="scheme",w$="slashscheme",Nx="whitespace";function S$(t,e){return t in e||(e[t]=[]),e[t]}function Hi(t,e,n){e[d0]&&(e[Ud]=!0,e[bd]=!0),e[f0]&&(e[Ud]=!0,e[h0]=!0),e[Ud]&&(e[bd]=!0),e[h0]&&(e[bd]=!0),e[bd]&&(e[p0]=!0),e[XN]&&(e[p0]=!0);for(const r in e){const s=S$(r,n);s.indexOf(t)<0&&s.push(t)}}function b$(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function ln(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}ln.groups={};ln.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||ln.groups;let s;return e&&e.j?s=e:(s=new ln(e),n&&r&&Hi(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let l=0;l<i-1;l++)s=s.tt(t[l]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||ln.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let l,u=s.go(t);if(u?(l=new ln,Il(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new ln,i){if(r)if(l.t&&typeof l.t=="string"){const d=Il(b$(l.t,r),n);Hi(i,d,r)}else n&&Hi(i,n,r);l.t=i}return s.j[t]=l,l}};const fe=(t,e,n,r,s)=>t.ta(e,n,r,s),_n=(t,e,n,r,s)=>t.tr(e,n,r,s),Cx=(t,e,n,r,s)=>t.ts(e,n,r,s),Q=(t,e,n,r,s)=>t.tt(e,n,r,s),Gr="WORD",m0="UWORD",Au="LOCALHOST",g0="TLD",y0="UTLD",Jd="SCHEME",Uo="SLASH_SCHEME",_v="NUM",ZN="WS",Hv="NL",tu="OPENBRACE",nu="CLOSEBRACE",Rf="OPENBRACKET",Bf="CLOSEBRACKET",$f="OPENPAREN",Ff="CLOSEPAREN",_f="OPENANGLEBRACKET",Hf="CLOSEANGLEBRACKET",Vf="FULLWIDTHLEFTPAREN",jf="FULLWIDTHRIGHTPAREN",Wf="LEFTCORNERBRACKET",Uf="RIGHTCORNERBRACKET",Jf="LEFTWHITECORNERBRACKET",Qf="RIGHTWHITECORNERBRACKET",qf="FULLWIDTHLESSTHAN",Kf="FULLWIDTHGREATERTHAN",Gf="AMPERSAND",Yf="APOSTROPHE",Xf="ASTERISK",Fs="AT",Zf="BACKSLASH",eh="BACKTICK",th="CARET",Ws="COLON",Vv="COMMA",nh="DOLLAR",Nr="DOT",rh="EQUALS",jv="EXCLAMATION",Cr="HYPHEN",sh="PERCENT",ih="PIPE",oh="PLUS",lh="POUND",ah="QUERY",Wv="QUOTE",Uv="SEMI",Or="SLASH",ru="TILDE",uh="UNDERSCORE",eC="EMOJI",ch="SYM";var tC=Object.freeze({__proto__:null,WORD:Gr,UWORD:m0,LOCALHOST:Au,TLD:g0,UTLD:y0,SCHEME:Jd,SLASH_SCHEME:Uo,NUM:_v,WS:ZN,NL:Hv,OPENBRACE:tu,CLOSEBRACE:nu,OPENBRACKET:Rf,CLOSEBRACKET:Bf,OPENPAREN:$f,CLOSEPAREN:Ff,OPENANGLEBRACKET:_f,CLOSEANGLEBRACKET:Hf,FULLWIDTHLEFTPAREN:Vf,FULLWIDTHRIGHTPAREN:jf,LEFTCORNERBRACKET:Wf,RIGHTCORNERBRACKET:Uf,LEFTWHITECORNERBRACKET:Jf,RIGHTWHITECORNERBRACKET:Qf,FULLWIDTHLESSTHAN:qf,FULLWIDTHGREATERTHAN:Kf,AMPERSAND:Gf,APOSTROPHE:Yf,ASTERISK:Xf,AT:Fs,BACKSLASH:Zf,BACKTICK:eh,CARET:th,COLON:Ws,COMMA:Vv,DOLLAR:nh,DOT:Nr,EQUALS:rh,EXCLAMATION:jv,HYPHEN:Cr,PERCENT:sh,PIPE:ih,PLUS:oh,POUND:lh,QUERY:ah,QUOTE:Wv,SEMI:Uv,SLASH:Or,TILDE:ru,UNDERSCORE:uh,EMOJI:eC,SYM:ch});const Vo=/[a-z]/,$g=new RegExp("\\p{L}","u"),Fg=new RegExp("\\p{Emoji}","u"),_g=/\d/,Ox=/\s/,Ix=`
`,x$="",E$="";let xd=null,Ed=null;function M$(t){t===void 0&&(t=[]);const e={};ln.groups=e;const n=new ln;xd==null&&(xd=Ax(y$)),Ed==null&&(Ed=Ax(v$)),Q(n,"'",Yf),Q(n,"{",tu),Q(n,"}",nu),Q(n,"[",Rf),Q(n,"]",Bf),Q(n,"(",$f),Q(n,")",Ff),Q(n,"<",_f),Q(n,">",Hf),Q(n,"",Vf),Q(n,"",jf),Q(n,"",Wf),Q(n,"",Uf),Q(n,"",Jf),Q(n,"",Qf),Q(n,"",qf),Q(n,"",Kf),Q(n,"&",Gf),Q(n,"*",Xf),Q(n,"@",Fs),Q(n,"`",eh),Q(n,"^",th),Q(n,":",Ws),Q(n,",",Vv),Q(n,"$",nh),Q(n,".",Nr),Q(n,"=",rh),Q(n,"!",jv),Q(n,"-",Cr),Q(n,"%",sh),Q(n,"|",ih),Q(n,"+",oh),Q(n,"#",lh),Q(n,"?",ah),Q(n,'"',Wv),Q(n,"/",Or),Q(n,";",Uv),Q(n,"~",ru),Q(n,"_",uh),Q(n,"\\",Zf);const r=_n(n,_g,_v,{[d0]:!0});_n(r,_g,r);const s=_n(n,Vo,Gr,{[f0]:!0});_n(s,Vo,s);const i=_n(n,$g,m0,{[h0]:!0});_n(i,Vo),_n(i,$g,i);const l=_n(n,Ox,ZN,{[Nx]:!0});Q(n,Ix,Hv,{[Nx]:!0}),Q(l,Ix),_n(l,Ox,l);const u=_n(n,Fg,eC,{[XN]:!0});_n(u,Fg,u),Q(u,x$,u);const d=Q(u,E$);_n(d,Fg,u);const f=[[Vo,s]],p=[[Vo,null],[$g,i]];for(let m=0;m<xd.length;m++)Ds(n,xd[m],g0,Gr,f);for(let m=0;m<Ed.length;m++)Ds(n,Ed[m],y0,m0,p);Hi(g0,{tld:!0,ascii:!0},e),Hi(y0,{utld:!0,alpha:!0},e),Ds(n,"file",Jd,Gr,f),Ds(n,"mailto",Jd,Gr,f),Ds(n,"http",Uo,Gr,f),Ds(n,"https",Uo,Gr,f),Ds(n,"ftp",Uo,Gr,f),Ds(n,"ftps",Uo,Gr,f),Hi(Jd,{scheme:!0,ascii:!0},e),Hi(Uo,{slashscheme:!0,ascii:!0},e),t=t.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<t.length;m++){const y=t[m][0],k=t[m][1]?{[k$]:!0}:{[w$]:!0};y.indexOf("-")>=0?k[p0]=!0:Vo.test(y)?_g.test(y)?k[Ud]=!0:k[f0]=!0:k[d0]=!0,Cx(n,y,y,k)}return Cx(n,"localhost",Au,{ascii:!0}),n.jd=new ln(ch),{start:n,tokens:Il({groups:e},tC)}}function T$(t,e){const n=N$(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,s=[];let i=0,l=0;for(;l<r;){let u=t,d=null,f=0,p=null,m=-1,y=-1;for(;l<r&&(d=u.go(n[l]));)u=d,u.accepts()?(m=0,y=0,p=u):m>=0&&(m+=n[l].length,y++),f+=n[l].length,i+=n[l].length,l++;i-=m,l-=y,f-=m,s.push({t:p.t,v:e.slice(i-f,i),s:i-f,e:i})}return s}function N$(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,l=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Ds(t,e,n,r,s){let i;const l=e.length;for(let u=0;u<l-1;u++){const d=e[u];t.j[d]?i=t.j[d]:(i=new ln(r),i.jr=s.slice(),t.j[d]=i),t=i}return i=new ln(n),i.jr=s.slice(),t.j[e[l-1]]=i,i}function Ax(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+i),10);l>0;l--)n.pop();r+=i}else n.push(t[r]),r++}return e}const Pu={defaultProtocol:"http",events:null,format:Px,formatHref:Px,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Jv(t,e){e===void 0&&(e=null);let n=Il({},Pu);t&&(n=Il(n,t instanceof Jv?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Jv.prototype={o:Pu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:Pu[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Px(t){return t}function nC(t,e){this.t="token",this.v=t,this.tk=e}nC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=Pu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),l={},u=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),d&&(l.target=d),f&&(l.rel=f),p&&Il(l,p),{tagName:s,attributes:l,content:i,eventListeners:m}}};function Jh(t,e){class n extends nC{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Dx=Jh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Lx=Jh("text"),C$=Jh("nl"),Md=Jh("url",{isLink:!0,toHref(t){return t===void 0&&(t=Pu.defaultProtocol),this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Au&&t[1].t===Ws}}),Hn=t=>new ln(t);function O$(t){let{groups:e}=t;const n=e.domain.concat([Gf,Xf,Fs,Zf,eh,th,nh,rh,Cr,_v,sh,ih,oh,lh,Or,ch,ru,uh]),r=[Yf,Ws,Vv,Nr,jv,ah,Wv,Uv,_f,Hf,tu,nu,Bf,Rf,$f,Ff,Vf,jf,Wf,Uf,Jf,Qf,qf,Kf],s=[Gf,Yf,Xf,Zf,eh,th,nh,rh,Cr,tu,nu,sh,ih,oh,lh,ah,Or,ch,ru,uh],i=Hn(),l=Q(i,ru);fe(l,s,l),fe(l,e.domain,l);const u=Hn(),d=Hn(),f=Hn();fe(i,e.domain,u),fe(i,e.scheme,d),fe(i,e.slashscheme,f),fe(u,s,l),fe(u,e.domain,u);const p=Q(u,Fs);Q(l,Fs,p),Q(d,Fs,p),Q(f,Fs,p);const m=Q(l,Nr);fe(m,s,l),fe(m,e.domain,l);const y=Hn();fe(p,e.domain,y),fe(y,e.domain,y);const k=Q(y,Nr);fe(k,e.domain,y);const w=Hn(Dx);fe(k,e.tld,w),fe(k,e.utld,w),Q(p,Au,w);const b=Q(y,Cr);fe(b,e.domain,y),fe(w,e.domain,y),Q(w,Nr,k),Q(w,Cr,b);const T=Q(w,Ws);fe(T,e.numeric,Dx);const x=Q(u,Cr),E=Q(u,Nr);fe(x,e.domain,u),fe(E,s,l),fe(E,e.domain,u);const N=Hn(Md);fe(E,e.tld,N),fe(E,e.utld,N),fe(N,e.domain,u),fe(N,s,l),Q(N,Nr,E),Q(N,Cr,x),Q(N,Fs,p);const D=Q(N,Ws),R=Hn(Md);fe(D,e.numeric,R);const L=Hn(Md),B=Hn();fe(L,n,L),fe(L,r,B),fe(B,n,L),fe(B,r,B),Q(N,Or,L),Q(R,Or,L);const J=Q(d,Ws),K=Q(f,Ws),se=Q(K,Or),Te=Q(se,Or);fe(d,e.domain,u),Q(d,Nr,E),Q(d,Cr,x),fe(f,e.domain,u),Q(f,Nr,E),Q(f,Cr,x),fe(J,e.domain,L),Q(J,Or,L),fe(Te,e.domain,L),fe(Te,n,L),Q(Te,Or,L);const ut=[[tu,nu],[Rf,Bf],[$f,Ff],[_f,Hf],[Vf,jf],[Wf,Uf],[Jf,Qf],[qf,Kf]];for(let nt=0;nt<ut.length;nt++){const[Dn,Yn]=ut[nt],qe=Q(L,Dn);Q(B,Dn,qe),Q(qe,Yn,L);const kt=Hn(Md);fe(qe,n,kt);const z=Hn();fe(qe,r),fe(kt,n,kt),fe(kt,r,z),fe(z,n,kt),fe(z,r,z),Q(kt,Yn,L),Q(z,Yn,L)}return Q(i,Au,N),Q(i,Hv,C$),{start:i,tokens:tC}}function I$(t,e,n){let r=n.length,s=0,i=[],l=[];for(;s<r;){let u=t,d=null,f=null,p=0,m=null,y=-1;for(;s<r&&!(d=u.go(n[s].t));)l.push(n[s++]);for(;s<r&&(f=d||u.go(n[s].t));)d=null,u=f,u.accepts()?(y=0,m=u):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(l.push(n[s]),s++);else{l.length>0&&(i.push(Hg(Lx,e,l)),l=[]),s-=y,p-=y;const k=m.t,w=n.slice(s-p,s);i.push(Hg(k,e,w))}}return l.length>0&&i.push(Hg(Lx,e,l)),i}function Hg(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const A$=typeof console<"u"&&console&&console.warn||(()=>{}),P$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function D$(){ln.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1}function zx(t,e){if(e===void 0&&(e=!1),_e.initialized&&A$(`linkifyjs: already initialized - will not register custom scheme "${t}" ${P$}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_e.customSchemes.push([t,e])}function L$(){_e.scanner=M$(_e.customSchemes);for(let t=0;t<_e.tokenQueue.length;t++)_e.tokenQueue[t][1]({scanner:_e.scanner});_e.parser=O$(_e.scanner.tokens);for(let t=0;t<_e.pluginQueue.length;t++)_e.pluginQueue[t][1]({scanner:_e.scanner,parser:_e.parser});_e.initialized=!0}function z$(t){return _e.initialized||L$(),I$(_e.parser.start,t,T$(_e.scanner.start,t))}function Qv(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const r=new Jv(n),s=z$(t),i=[];for(let l=0;l<s.length;l++){const u=s[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&i.push(u.toFormattedObject(r))}return i}function R$(t){return new Xt({key:new Gn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:l}=r,u=hR(n.doc,[...e]);if(bR(u).forEach(({newRange:d})=>{const f=mR(r.doc,d,y=>y.isTextblock);let p,m;if(f.length>1?(p=f[0],m=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(p=f[0],m=r.doc.textBetween(p.pos,d.to,void 0," ")),p&&m){const y=m.split(" ").filter(b=>b!=="");if(y.length<=0)return!1;const k=y[y.length-1],w=p.pos+m.lastIndexOf(k);if(!k)return!1;Qv(k).filter(b=>b.isLink).map(b=>({...b,from:w+b.start+1,to:w+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>t.validate?t.validate(b.value):!0).forEach(b=>{$v(b.from,b.to,r.doc).some(T=>T.mark.type===t.type)||l.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!l.steps.length)return l}})}function B$(t){return new Xt({key:new Gn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||r.target.nodeName!=="A")return!1;const l=VN(e.state,t.type.name),u=r.target,d=(s=u==null?void 0:u.href)!==null&&s!==void 0?s:l.href,f=(i=u==null?void 0:u.target)!==null&&i!==void 0?i:l.target;return u&&d?(e.editable&&window.open(d,f),!0):!1}}})}function $$(t){return new Xt({key:new Gn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:l}=i;if(l)return!1;let u="";r.content.forEach(f=>{u+=f.textContent});const d=Qv(u).find(f=>f.isLink&&f.value===u);return!u||!d?!1:(t.editor.commands.setMark(t.type,{href:d.href}),!0)}}})}const F$=mn.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){zx(t);return}zx(t.scheme,t.optionalSlashes)})},onDestroy(){D$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){var e;return!((e=t.href)===null||e===void 0)&&e.startsWith("javascript:")?["a",Le(this.options.HTMLAttributes,{...t,href:""}),0]:["a",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[di({find:(t,e)=>{var n;const r=(n=e==null?void 0:e.clipboardData)===null||n===void 0?void 0:n.getData("text/html"),s=[];if(r){const i=new DOMParser().parseFromString(r,"text/html"),l=i.querySelectorAll("a");l.length&&[...l].forEach(u=>s.push({text:u.innerText,data:{href:u.getAttribute("href")},index:i.body.innerText.indexOf(u.innerText)+u.innerText.length}))}if(t){const i=Qv(t).filter(l=>l.isLink);i.length&&i.forEach(l=>s.push({text:l.value,data:{href:l.href},index:l.start}))}return s},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(R$({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(B$({type:this.type})),this.options.linkOnPaste&&t.push($$({editor:this.editor,type:this.type})),t}}),_$=new Be({tiptapExtension:F$.configure({openOnClick:!1,autolink:!0}),onBridgeMessage:(t,{type:e,payload:n})=>{if(e==="set-link"){if(n===null)return!1;if(n==="")return t.chain().focus().extendMarkRange("link").unsetLink().setTextSelection(t.state.selection.from).run(),!1;t.chain().focus().extendMarkRange("link").setLink({href:n}).setTextSelection(t.state.selection.from).run()}return!1},extendEditorInstance:t=>({setLink:e=>t({type:"set-link",payload:e})}),extendEditorState:t=>({canSetLink:!t.state.selection.empty,isLinkActive:t.isActive("link"),activeLink:t.getAttributes("link").href})}),H$=new Be({tiptapExtension:Fv,onBridgeMessage:(t,e)=>{switch(e.type){case"lift":t.chain().focus().liftListItem(t.schema.nodes.listItem.name).run();break;case"sink":t.chain().focus().sinkListItem(t.schema.nodes.listItem.name).run();break}return!1},extendEditorInstance:t=>({lift:()=>t({type:"lift"}),sink:()=>t({type:"sink"})}),extendEditorState:t=>({canLift:t.can().liftListItem(t.state.schema.nodes.listItem.name),canSink:t.can().sinkListItem(t.state.schema.nodes.listItem.name)})}),V$=Ct.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Le(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Rx=mn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Vu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),Bx=/^(\d+)\.\s$/,j$=Ct.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Le(this.options.HTMLAttributes,n),0]:["ol",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(V$.name,this.editor.getAttributes(Rx.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Ol({find:Bx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Ol({find:Bx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Rx.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),W$=new Be({tiptapExtension:j$,tiptapExtensionDeps:[Fv],onBridgeMessage:(t,e)=>(e.type==="toggle-orderedList"&&t.chain().focus().toggleOrderedList().run(),!1),extendEditorInstance:t=>({toggleOrderedList:()=>t({type:"toggle-orderedList"})}),extendEditorState:t=>({canToggleOrderedList:t.can().toggleOrderedList(),isOrderedListActive:t.isActive("orderedList")})}),U$=pn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Xt({key:new Gn("placeholder"),props:{decorations:({doc:t,selection:e})=>{var n;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!r)return null;const{firstChild:l}=t.content,u=l&&l.type.isLeaf,d=l&&l.isAtom,f=this.options.considerAnyAsEmpty?!0:l&&l.type.name===((n=t.type.contentMatch.defaultType)===null||n===void 0?void 0:n.name),p=t.content.childCount<=1&&l&&f&&l.nodeSize<=2&&(!u||!d);return t.descendants((m,y)=>{const k=s>=y&&s<=y+m.nodeSize,w=!m.isLeaf&&!m.childCount;if((k||!this.options.showOnlyCurrent)&&w){const b=[this.options.emptyNodeClass];p&&b.push(this.options.emptyEditorClass);const T=Cn.node(y,y+m.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:m,pos:y,hasAnchor:k}):this.options.placeholder});i.push(T)}return this.options.includeChildren}),Qe.create(t,i)}}})]}}),J$=new Be({tiptapExtension:U$,extendCSS:`
    .is-editor-empty:first-child::before {
        color: #adb5bd;
        content: attr(data-placeholder);
        float: left;
        height: 0;
        pointer-events: none;
    }
  `}),Q$=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,q$=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,K$=mn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return Rv()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[ao({find:Q$,type:this.type})]},addPasteRules(){return[di({find:q$,type:this.type})]}}),G$=new Be({tiptapExtension:K$,onBridgeMessage:(t,e)=>(e.type==="toggle-strike"&&t.chain().focus().toggleStrike().run(),!1),extendEditorInstance:t=>({toggleStrike:()=>t({type:"toggle-strike"})}),extendEditorState:t=>({canToggleStrike:t.can().toggleStrike(),isStrikeActive:t.isActive("strike")})}),Y$=mn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Le(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),X$=new Be({tiptapExtension:Y$,onBridgeMessage:(t,e)=>(e.type==="toggle-underline"&&t.chain().focus().toggleUnderline().run(),!1),extendEditorInstance:t=>({toggleUnderline:()=>t({type:"toggle-underline"})}),extendEditorState:t=>({canToggleUnderline:t.can().toggleUnderline(),isUnderlineActive:t.isActive("underline")})}),Z$=Ct.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Le(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),e5=/^\s*(\[([( |x])?\])\s$/,t5=Ct.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-checked")==="true",renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Le(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div");return i.contentEditable="false",u.type="checkbox",u.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:p}=f.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const y=n(),k=m.doc.nodeAt(y);return m.setNodeMarkup(y,void 0,{...k==null?void 0:k.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{s.setAttribute(f,p)}),s.dataset.checked=t.attrs.checked,t.attrs.checked&&u.setAttribute("checked","checked"),i.append(u,l),s.append(i,d),Object.entries(e).forEach(([f,p])=>{s.setAttribute(f,p)}),{dom:s,contentDOM:d,update:f=>f.type!==this.type?!1:(s.dataset.checked=f.attrs.checked,f.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),!0)}}},addInputRules(){return[Ol({find:e5,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),n5=new Be({tiptapExtension:Z$,tiptapExtensionDeps:[t5],onBridgeMessage:(t,e)=>(e.type==="toggle-task-list"&&t.chain().focus().toggleTaskList().run(),!1),extendEditorInstance:t=>({toggleTaskList:()=>t({type:"toggle-task-list"})}),extendEditorState:t=>({canToggleTaskList:t.can().toggleTaskList(),isTaskListActive:t.isActive("taskList")}),extendCSS:`
  ul[data-type="taskList"] {
    list-style: none;
    padding: 0;
  }
  
  ul[data-type="taskList"] > li {
    display: flex;
  }
  
  ul[data-type="taskList"] p {
    margin: 0;
  }
  
  ul[data-type="taskList"] li {
    display: flex;
  }
  
  ul[data-type="taskList"] li > label > input {
    font-size: inherit;
    font-family: inherit;
    color: #000;
    margin: 0.1rem;
    border: 1px solid black;
    border-radius: 0.3rem;
    padding: 0.1rem 0.4rem;
    background: white;
    accent-color: black;
  }
  ul[data-type="taskList"] li > label {
    flex: 0 0 auto;
    margin-right: 0.5rem;
    user-select: none;
  }
  
  ul[data-type="taskList"] li > div {
    flex: 1 1 auto;
  }
  
  ul[data-type="taskList"] li ul li,
  ul[data-type="taskList"] li ol li {
    display: list-item;
  }
  `});function r5(t={}){return new Xt({view(e){return new s5(e,t)}})}class s5{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=l=>{this[s](l)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let u=e.nodeBefore,d=e.nodeAfter;if(u||d){let f=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(f){let p=f.getBoundingClientRect(),m=u?p.bottom:p.top;u&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,l;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,l=-pageYOffset;else{let u=s.getBoundingClientRect();i=u.left-s.scrollLeft,l=u.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-l+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=jT(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const i5=pn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[r5(this.options)]}}),o5=new Be({tiptapExtension:i5}),l5=Ct.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Le(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,d=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(y=>u.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),a5=new Be({tiptapExtension:l5,onBridgeMessage:(t,e)=>(e.type==="set-hard-break"&&(console.log("setting hard break"),t.chain().focus().setHardBreak().run()),!1),extendEditorInstance:t=>({setHardBreak:()=>t({type:"set-hard-break"})}),extendEditorState:()=>({})}),u5=[RB,l$,jB,g$,G$,X$,W$,QB,c$,FB,IB,n5,_$,UB,YB,xB,J$,H$,o5,a5];function rC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let l=0;s.text[l]==i.text[l];l++)n++;return n}if(s.content.size||i.content.size){let l=rC(s.content,i.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function sC(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let l=t.child(--s),u=e.child(--i),d=l.nodeSize;if(l==u){n-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let f=0,p=Math.min(l.text.length,u.text.length);for(;f<p&&l.text[l.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let f=sC(l.content,u.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class re{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let l=0,u=0;u<n;l++){let d=this.content[l],f=u+d.nodeSize;if(f>e&&r(d,s+u,i||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let f=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(l?l=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new re(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),s+=u.nodeSize),l=d}return new re(r,s)}cutByIndex(e,n){return e==n?re.empty:e==0&&n==this.content.length?this:new re(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new re(s,i)}addToStart(e){return new re([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new re(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return rC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return sC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Td(0,e);if(e==this.size)return Td(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,s=0;;r++){let i=this.child(r),l=s+i.nodeSize;if(l>=e)return l==e||n>0?Td(r+1,l):Td(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return re.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new re(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return re.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new re(n||e,r)}static from(e){if(!e)return re.empty;if(e instanceof re)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new re([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}re.empty=new re([],0);const Vg={index:0,offset:0};function Td(t,e){return Vg.index=t,Vg.offset=e,Vg}function v0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!v0(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!v0(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class bn{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&v0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return bn.none;if(e instanceof bn)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}bn.none=[];class c5 extends Error{}class ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=oC(this.content,e+this.openStart,n);return r&&new ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ce(iC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ce.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ce(re.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new ce(e,r,s)}}ce.empty=new ce(re.empty,0,0);function iC(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(s==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(iC(i.content,e-s-1,n-s-1)))}function oC(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s);if(i==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let u=oC(l.content,e-i-1,n);return u&&t.replaceChild(s,l.copy(u))}class k0{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}function d5(t){return t.tag!=null}function f5(t){return t.style!=null}let h5=class w0{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{d5(r)?this.tags.push(r):f5(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Fx(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Fx(this,n,!0);return r.addAll(e,n.from,n.to),ce.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(g5(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(l=>{r(l=_x(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(l=>{r(l=_x(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new w0(e,w0.schemaRules(e)))}};const lC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},p5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},aC={ol:!0,ul:!0},dh=1,fh=2,su=4;function $x(t,e,n){return e!=null?(e?dh:0)|(e==="full"?fh:0):t&&t.whitespace=="pre"?dh|fh:n&~su}class Nd{constructor(e,n,r,s,i,l,u){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=u,this.content=[],this.activeMarks=bn.none,this.stashMarks=[],this.match=l||(u&su?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(re.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&dh)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=re.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(re.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):v5(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!lC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Fx{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,l=$x(null,n.preserveWhitespace,0)|(r?su:0);s?i=new Nd(s.type,s.attrs,bn.none,bn.none,!0,n.topMatch||s.type.contentMatch,l):r?i=new Nd(null,null,bn.none,bn.none,!0,null,l):i=new Nd(e.schema.topNodeType,null,bn.none,bn.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(y5(r));if(!s)return;let[i,l]=s,u=this.top;for(let d=0;d<l.length;d++)this.removePendingMark(l[d],u);for(let d=0;d<i.length;d++)this.addPendingMark(i[d]);n();for(let d=0;d<i.length;d++)this.removePendingMark(i[d],u);for(let d=0;d<l.length;d++)this.addPendingMark(l[d])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&fh||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&dh)r.options&fh?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;aC.hasOwnProperty(r)&&this.parser.normalizeLists&&m5(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:p5.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let l,u=this.top,d=this.needsBlock;if(lC.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),l=!0,u.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(u),this.needsBlock=d}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=bn.none,r=bn.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let l=this.parser.matchStyle(e[s],e[s+1],this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)i=l;else break}return[n,r]}addElementByRule(e,n,r){let s,i,l;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let u=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d)}s&&this.sync(u)&&this.open--,l&&this.removePendingMark(l,u)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];i!=l;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],l=i.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=i,!l.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let l=$x(e,s,i.options);i.options&su&&i.content.length==0&&(l|=su),this.nodes.push(new Nd(e,n,i.activeMarks,i.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),l=(u,d)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;d>=i;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&p.groups.indexOf(f)==-1)return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=k5(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let l=s.popFromStashMark(e);l&&s.type&&s.type.allowsMarkType(l.type)&&(s.activeMarks=l.addToSet(s.activeMarks))}if(s==n)break}}}function m5(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&aC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function g5(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function y5(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function _x(t){let e={};for(let n in t)e[n]=t[n];return e}function v5(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==e||i.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}function k5(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}const uC=65535,cC=Math.pow(2,16);function w5(t,e){return t+e*cC}function Hx(t){return t&uC}function S5(t){return(t-(t&uC))/cC}const dC=1,fC=2,Qd=4,hC=8;class S0{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&hC)>0}get deletedBefore(){return(this.delInfo&(dC|Qd))>0}get deletedAfter(){return(this.delInfo&(fC|Qd))>0}get deletedAcross(){return(this.delInfo&Qd)>0}}class Mn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Mn.empty)return Mn.empty}recover(e){let n=0,r=Hx(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+S5(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[u+i],p=this.ranges[u+l],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,k=d+s+(y<0?0:p);if(r)return k;let w=e==(n<0?d:m)?null:w5(u/3,e-d),b=e==d?fC:e==m?dC:Qd;return(n<0?e!=d:e!=m)&&(b|=hC),new S0(k,b,w)}s+=p-f}return r?e+s:new S0(e+s,0,null)}touches(e,n){let r=0,s=Hx(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[u+i],p=d+f;if(e<=p&&u==s*3)return!0;r+=this.ranges[u+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let l=this.ranges[s],u=l-(this.inverted?i:0),d=l+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(u,u+f,d,d+p),i+=p-f}}invert(){return new Mn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Mn.empty:new Mn(e<0?[0,-e,0]:[0,0,e])}}Mn.empty=new Mn([]);class iu{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new iu(this.maps,this.mirror,e,n)}copy(){return new iu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new iu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let l=this.maps[i],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this.maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new S0(e,s,null)}}const jg=Object.create(null);class Ht{getMap(){return Mn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=jg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in jg)throw new RangeError("Duplicate use of step JSON ID "+e);return jg[e]=n,n.prototype.jsonID=e,n}}class tt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new tt(e,null)}static fail(e){return new tt(null,e)}static fromReplace(e,n,r,s){try{return tt.ok(e.replace(n,r,s))}catch(i){if(i instanceof c5)return tt.fail(i.message);throw i}}}function qv(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(qv(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return re.fromArray(r)}class Vi extends Ht{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ce(qv(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,i)}invert(){return new ji(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Vi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Vi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Vi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Vi(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("addMark",Vi);class ji extends Ht{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ce(qv(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,r)}invert(){return new Vi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ji(n.pos,r.pos,this.mark)}merge(e){return e instanceof ji&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ji(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ji(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("removeMark",ji);class Wi extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Wi(this.pos,n.marks[s]);return new Wi(this.pos,this.mark)}}return new Du(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Wi(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Wi(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("addNodeMark",Wi);class Du extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Wi(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Du(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Du(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("removeNodeMark",Du);class xn extends Ht{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&b0(e,this.from,this.to)?tt.fail("Structure replace would overwrite content"):tt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Mn([this.from,this.to-this.from,this.slice.size])}invert(e){return new xn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new xn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof xn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xn(n.from,n.to,ce.fromJSON(e,n.slice),!!n.structure)}}Ht.jsonID("replace",xn);class hn extends Ht{constructor(e,n,r,s,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(b0(e,this.from,this.gapFrom)||b0(e,this.gapTo,this.to)))return tt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return tt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?tt.fromReplace(e,this.from,this.to,r):tt.fail("Content does not fit in gap")}getMap(){return new Mn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new hn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new hn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new hn(n.from,n.to,n.gapFrom,n.gapTo,ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ht.jsonID("replaceAround",hn);function b0(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function b5(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Rl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.$from.node(r),i=t.$from.index(r),l=t.$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,l,n))return r;if(r==0||s.type.spec.isolating||!b5(s,i,l))break}return null}function pC(t,e,n=null,r=t){let s=x5(t,e),i=s&&E5(r,e);return i?s.map(Vx).concat({type:e,attrs:n}).concat(i.map(Vx)):null}function Vx(t){return{type:t,attrs:null}}function x5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,s,l)?i:null}function E5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function yl(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,l=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let k=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(k=k.replaceChild(0,w.type.create(w.attrs)));let b=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(k))return!1}let u=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(u,u,d?d.type:s.node(i+1).type)}function fo(t,e){let n=t.resolve(e),r=n.index();return mC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function mC(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Qh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,l,u=r.index(s);if(s==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(s+1),u++,l=r.node(s).maybeChild(u)):(i=r.node(s).maybeChild(u-1),l=r.node(s+1)),i&&!i.isTextblock&&mC(i,l)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function Kv(t,e,n=e,r=ce.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return M5(s,i,r)?new xn(e,n,r):new T5(s,i,r).fit()}function M5(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class T5{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=re.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=re.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,s=this.close(e<0?this.$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,l=r.depth,u=s.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let d=new ce(i,l,u);return e>-1?new hn(r.pos,e,this.$to.pos,this.$to.end(),d,n):d.size||r.pos!=this.$to.pos?new xn(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Wg(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let l=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(re.from(l),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Wg(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ce(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Wg(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new ce(_a(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ce(_a(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let b=0;b<s.childCount;b++)p.push(s.child(b));m=m.matchFragment(s)}let k=u.size+e-(l.content.size-l.openEnd);for(;f<u.childCount;){let b=u.child(f),T=m.matchType(b.type);if(!T)break;f++,(f>1||d==0||b.content.size)&&(m=T,p.push(gC(b.mark(y.allowedMarks(b.marks)),f==1?d:0,f==u.childCount?k:-1)))}let w=f==u.childCount;w||(k=-1),this.placed=Ha(this.placed,n,re.from(p)),this.frontier[n].match=m,w&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,T=u;b<k;b++){let x=T.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),T=x.content}this.unplaced=w?e==0?ce.empty:new ce(_a(l.content,e-1,1),e-1,k<0?l.openEnd:e-1):new ce(_a(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Ug(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,s=this.$to.after(r);for(;r>1&&s==this.$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Ug(e,n,s,r,i);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=Ug(e,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ha(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ha(this.placed,this.depth,re.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(re.empty,!0);n.childCount&&(this.placed=Ha(this.placed,this.frontier.length,n))}}function _a(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(_a(t.firstChild.content,e-1,n)))}function Ha(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ha(t.lastChild.content,e-1,n)))}function Wg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function gC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,gC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(re.empty,!0)))),t.copy(r)}function Ug(t,e,n,r,s){let i=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=r.fillBefore(i.content,!0,l);return u&&!N5(n,i.content,l)?u:null}function N5(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}class ou extends Ht{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return tt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(s),0,n.isLeaf?0:1))}getMap(){return Mn.empty}invert(e){return new ou(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ou(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ou(n.pos,n.attr,n.value)}}Ht.jsonID("attr",ou);class hh extends Ht{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return tt.ok(r)}getMap(){return Mn.empty}invert(e){return new hh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new hh(n.attr,n.value)}}Ht.jsonID("docAttr",hh);let Lu=class extends Error{};Lu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Lu.prototype=Object.create(Error.prototype);Lu.prototype.constructor=Lu;Lu.prototype.name="TransformError";const Jg=Object.create(null);class Ee{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new C5(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ce.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{$from:d,$to:f}=l[u],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),u?ce.empty:n),u==0&&Ux(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:l,$to:u}=s[i],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(u.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),Ux(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new Ve(e):Jo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let l=n<0?Jo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Jo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new Br(e.node(0))}static atStart(e){return Jo(e,e,0,0,1)||new Br(e)}static atEnd(e){return Jo(e,e,e.content.size,e.childCount,-1)||new Br(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Jg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Jg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Jg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ve.between(this.$anchor,this.$head).getBookmark()}}Ee.prototype.visible=!0;class C5{constructor(e,n){this.$from=e,this.$to=n}}let jx=!1;function Wx(t){!jx&&!t.parent.inlineContent&&(jx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ve extends Ee{constructor(e,n=e){Wx(e),Wx(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ee.near(r);let s=e.resolve(n.map(this.anchor));return new Ve(s.parent.inlineContent?s:r,r)}replace(e,n=ce.empty){if(super.replace(e,n),n==ce.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ve&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ve(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Ee.findFrom(n,r,!0)||Ee.findFrom(n,-r,!0);if(i)n=i.$head;else return Ee.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Ee.findFrom(e,-r,!0)||Ee.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=s<0&&(e=n))),new Ve(e,n)}}Ee.jsonID("text",Ve);class qh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new qh(e.map(this.anchor),e.map(this.head))}resolve(e){return Ve.between(e.resolve(this.anchor),e.resolve(this.head))}}class Me extends Ee{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Ee.near(i):new Me(i)}content(){return new ce(re.from(this.node),0,0)}eq(e){return e instanceof Me&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Gv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Me(e.resolve(n.anchor))}static create(e,n){return new Me(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Me.prototype.visible=!1;Ee.jsonID("node",Me);class Gv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new qh(r,r):new Gv(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Me.isSelectable(r)?new Me(n):Ee.near(n)}}class Br extends Ee{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ce.empty){if(n==ce.empty){e.delete(0,e.doc.content.size);let r=Ee.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new Br(e)}map(e){return new Br(e)}eq(e){return e instanceof Br}getBookmark(){return O5}}Ee.jsonID("all",Br);const O5={map(){return this},resolve(t){return new Br(t)}};function Jo(t,e,n,r,s,i=!1){if(e.inlineContent)return Ve.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let u=e.child(l);if(u.isAtom){if(!i&&Me.isSelectable(u))return Me.create(t,n-(s<0?u.nodeSize:0))}else{let d=Jo(t,u,n+s,s<0?u.childCount:0,s,i);if(d)return d}n+=u.nodeSize*s}return null}function Ux(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof xn||s instanceof hn))return;let i=t.mapping.maps[r],l;i.forEach((u,d,f,p)=>{l==null&&(l=p)}),t.setSelection(Ee.near(t.doc.resolve(l),n))}function Jx(t,e){return!e||!t?t:t.bind(e)}class Cd{constructor(e,n,r){this.name=e,this.init=Jx(n.init,r),this.apply=Jx(n.apply,r)}}new Cd("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Cd("selection",{init(t,e){return t.selection||Ee.atStart(e.doc)},apply(t){return t.selection}}),new Cd("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new Cd("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function yC(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=yC(s,e,{})),n[r]=s}return n}class Bl{constructor(e){this.spec=e,this.props={},e.props&&yC(e.props,this,this.props),this.key=e.key?e.key.key:vC("plugin")}getState(e){return e[this.key]}}const Qg=Object.create(null);function vC(t){return t in Qg?t+"$"+ ++Qg[t]:(Qg[t]=0,t+"$")}class ho{constructor(e="key"){this.key=vC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const I5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function kC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const A5=(t,e,n)=>{let r=kC(t,n);if(!r)return!1;let s=Yv(r);if(!s){let l=r.blockRange(),u=l&&Rl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&xC(t,s,e))return!0;if(r.parent.content.size==0&&(Al(i,"end")||Me.isSelectable(i))){let l=Kv(t.doc,r.before(),r.after(),ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Al(i,"end")?Ee.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Me.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},P5=(t,e,n)=>{let r=kC(t,n);if(!r)return!1;let s=Yv(r);return s?wC(t,s,e):!1},D5=(t,e,n)=>{let r=SC(t,n);if(!r)return!1;let s=Xv(r);return s?wC(t,s,e):!1};function wC(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let l=e.nodeAfter,u=l,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let f=Kv(t.doc,i,d,ce.empty);if(!f||f.from!=i||f instanceof xn&&f.slice.size>=d-i)return!1;if(n){let p=t.tr.step(f);p.setSelection(Ve.create(p.doc,i)),n(p.scrollIntoView())}return!0}function Al(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const L5=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=Yv(r)}let l=i&&i.nodeBefore;return!l||!Me.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function Yv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function SC(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const z5=(t,e,n)=>{let r=SC(t,n);if(!r)return!1;let s=Xv(r);if(!s)return!1;let i=s.nodeAfter;if(xC(t,s,e))return!0;if(r.parent.content.size==0&&(Al(i,"start")||Me.isSelectable(i))){let l=Kv(t.doc,r.before(),r.after(),ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Al(i,"start")?Ee.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):Me.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},R5=(t,e,n)=>{let{$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=Xv(r)}let l=i&&i.nodeAfter;return!l||!Me.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Me.create(t.doc,i.pos)).scrollIntoView()),!0)};function Xv(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const B5=(t,e)=>{let n=t.selection,r=n instanceof Me,s;if(r){if(n.node.isTextblock||!fo(t.doc,n.from))return!1;s=n.from}else if(s=Qh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Me.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},$5=(t,e)=>{let n=t.selection,r;if(n instanceof Me){if(n.node.isTextblock||!fo(t.doc,n.to))return!1;r=n.to}else if(r=Qh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},F5=(t,e)=>{let{$from:n,$to:r}=t.selection,s=n.blockRange(r),i=s&&Rl(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},_5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function bC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const H5=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),l=bC(s.contentMatchAt(i));if(!l||!s.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(Ee.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},V5=(t,e)=>{let n=t.selection,{$from:r,$to:s}=n;if(n instanceof Br||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=bC(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(Ve.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},j5=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(yl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Rl(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},W5=(t,e)=>{let{$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Me.create(t.doc,s))),!0)};function U5(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||fo(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function xC(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,l;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(U5(t,e,n))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,y=re.empty;for(let b=i.length-1;b>=0;b--)y=re.from(i[b].create(null,y));y=re.from(r.copy(y));let k=t.tr.step(new hn(e.pos-1,m,e.pos,m,new ce(y,1,0),i.length,!0)),w=m+2*i.length;fo(k.doc,w)&&k.join(w),n(k.scrollIntoView())}return!0}let d=Ee.findFrom(e,1),f=d&&d.$from.blockRange(d.$to),p=f&&Rl(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&Al(s,"start",!0)&&Al(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let k=s,w=1;for(;!k.isTextblock;k=k.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,k.content)){if(n){let b=re.empty;for(let x=y.length-1;x>=0;x--)b=re.from(y[x].copy(b));let T=t.tr.step(new hn(e.pos-y.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new ce(b,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function EC(t){return function(e,n){let r=e.selection,s=t<0?r.$from:r.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(Ve.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const J5=EC(-1),Q5=EC(1);function q5(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i),u=l&&pC(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function Qx(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{$from:{pos:l},$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{$from:{pos:u},$to:{pos:d}}=n.selection.ranges[l];i.setBlockType(u,d,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function K5(t,e=null){return function(n,r){let{$from:s,$to:i}=n.selection,l=s.blockRange(i),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(t)&&l.startIndex==0){if(s.index(l.depth-1)==0)return!1;let p=n.doc.resolve(l.start-2);d=new k0(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new k0(s,n.doc.resolve(i.end(l.depth)),l.depth)),u=!0}let f=pC(d,t,e,l);return f?(r&&r(G5(n.tr,l,f,u,t).scrollIntoView()),!0):!1}}function G5(t,e,n,r,s){let i=re.empty;for(let p=n.length-1;p>=0;p--)i=re.from(n[p].type.create(n[p].attrs,i));t.step(new hn(e.start-(r?2:0),e.end,e.start,e.end,new ce(i,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==s&&(l=p+1);let u=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&yl(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return t}function Y5(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?X5(e,n,t,i):Z5(e,n,i):!0:!1}}function X5(t,e,n,r){let s=t.tr,i=r.end,l=r.$to.end(r.depth);i<l&&(s.step(new hn(i-1,l,i,l,new ce(re.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new k0(s.doc.resolve(r.$from.pos),s.doc.resolve(l),r.depth));const u=Rl(r);if(u==null)return!1;s.lift(r,u);let d=s.mapping.map(i,-1)-1;return fo(s.doc,d)&&s.join(d),e(s.scrollIntoView()),!0}function Z5(t,e,n){let r=t.tr,s=n.parent;for(let k=n.end,w=n.endIndex-1,b=n.startIndex;w>b;w--)k-=s.child(w).nodeSize,r.delete(k-1,k+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(u?0:1),p+1,l.content.append(d?re.empty:re.from(s))))return!1;let m=i.pos,y=m+l.nodeSize;return r.step(new hn(m-(u?1:0),y+(d?1:0),m+1,y-1,new ce((u?re.empty:re.from(s.copy(re.empty))).append(d?re.empty:re.from(s.copy(re.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function eF(t){return function(e,n){let{$from:r,$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==u.type,p=re.from(f?t.create():null),m=new ce(re.from(t.create(null,re.from(u.type.create(null,p)))),f?3:1,0),y=i.start,k=i.end;n(e.tr.step(new hn(y-(f?3:1),k,y,k,m,1,!0)).scrollIntoView())}return!0}}function MC(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class tF{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...p)=>{const m=d(...p)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(f),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,k])=>[y,(...b)=>{const T=this.buildProps(f,n),x=k(...b)(T);return u.push(x),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u={tr:e,editor:s,view:l,state:MC({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(u)]))}};return u}}function Tn(t,e,n){return t.config[e]===void 0&&t.parent?Tn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Tn(t.parent,e,n):null}):t.config[e]}function nF(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function Ft(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function rF(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const u=i?i.split(" "):[],d=r[s]?r[s].split(" "):[],f=u.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function sF(t){return typeof t=="function"}function fr(t,e=void 0,...n){return sF(t)?e?t.bind(e)(...n):t(...n):t}function iF(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function oF(t){return Object.prototype.toString.call(t).slice(8,-1)}function qg(t){return oF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Zv(t,e){const n={...t};return qg(t)&&qg(e)&&Object.keys(e).forEach(r=>{qg(e[r])?r in t?n[r]=Zv(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class cs{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=fr(Tn(this,"addOptions",{name:this.name}))),this.storage=fr(Tn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cs(e)}configure(e={}){const n=this.extend();return n.parent=this.parent,n.options=Zv(this.options,e),n.storage=fr(Tn(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new cs({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=fr(Tn(n,"addOptions",{name:n.name})),n.storage=fr(Tn(n,"addStorage",{name:n.name,options:n.options})),n}}function lF(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=`

`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,s,(d,f,p,m)=>{var y;d.isBlock&&f>r&&(u+=i);const k=l==null?void 0:l[d.type.name];if(k)return p&&(u+=k({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(u+=(y=d==null?void 0:d.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,s-f))}),u}function aF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}cs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Bl({key:new ho("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,l=Math.min(...i.map(p=>p.$from.pos)),u=Math.max(...i.map(p=>p.$to.pos)),d=aF(n);return lF(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}});const uF=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),cF=(t=!1)=>({commands:e})=>e.setContent("",t),dF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({$from:i,$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+u.nodeSize)),k=m.blockRange(y);if(!k)return;const w=Rl(k);if(u.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(k.start,b)}(w||w===0)&&e.lift(k,w)})}),!0},fF=t=>e=>t(e),hF=()=>({state:t,dispatch:e})=>V5(t,e),pF=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new Ve(r.doc.resolve(l-1))),!0},mF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const u=s.before(i),d=s.after(i);t.delete(u,d).scrollIntoView()}return!0}return!1},gF=t=>({tr:e,state:n,dispatch:r})=>{const s=Ft(t,n.schema),i=e.selection.$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s){if(r){const d=i.before(l),f=i.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},yF=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},vF=()=>({state:t,dispatch:e})=>I5(t,e),kF=()=>({commands:t})=>t.keyboardShortcut("Enter"),wF=()=>({state:t,dispatch:e})=>H5(t,e);function ph(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:iF(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function x0(t,e,n={}){return t.find(r=>r.type===e&&ph(r.attrs,n))}function SF(t,e,n={}){return!!x0(t,e,n)}function TC(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=x0([...r.node.marks],e,n);if(!s)return;let i=r.index,l=t.start()+r.offset,u=i+1,d=l+r.node.nodeSize;for(x0([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,l-=t.parent.child(i).nodeSize;for(;u<t.parent.childCount&&SF([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function vi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const bF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=vi(t,r.schema),{doc:l,selection:u}=n,{$from:d,from:f,to:p}=u;if(s){const m=TC(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=Ve.create(l,m.from,m.to);n.setSelection(y)}}return!0},xF=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function NC(t){return t instanceof Ve}function Ui(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function EF(t,e=null){if(!e)return null;const n=Ee.atStart(t),r=Ee.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?Ve.create(t,Ui(0,s,i),Ui(t.content.size,s,i)):Ve.create(t,Ui(e,s,i),Ui(e,s,i))}function Kh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const MF=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{Kh()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!NC(n.state.selection))return l(),!0;const u=EF(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return i&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},TF=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),NF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),CC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&CC(r)}return t};function qx(t){const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return CC(n)}function mh(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{return Array.isArray(t)&&t.length>0?re.fromArray(t.map(l=>e.nodeFromJSON(l))):e.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),mh("",e,n)}if(s){const i=h5.fromSchema(e);return n.slice?i.parseSlice(qx(t),n.parseOptions).content:i.parse(qx(t),n.parseOptions)}return mh("",e,n)}function CF(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof xn||s instanceof hn))return;const i=t.mapping.maps[r];let l=0;i.forEach((u,d,f,p)=>{l===0&&(l=p)}),t.setSelection(Ee.near(t.doc.resolve(l),n))}const OF=t=>t.toString().startsWith("<"),IF=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const l=mh(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(l.toString()==="<>")return!0;let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((OF(l)?l:[l]).forEach(k=>{k.check(),f=f?k.isText&&k.marks.length===0:!1,p=p?k.isBlock:!1}),u===d&&p){const{parent:k}=r.doc.resolve(u);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(u-=1,d+=1)}let y;f?(Array.isArray(e)?y=e.map(k=>k.text||"").join(""):typeof e=="object"&&e&&e.text?y=e.text:y=e,r.insertText(y,u,d)):(y=l,r.replaceWith(u,d,y)),n.updateSelection&&CF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:y})}return!0},AF=()=>({state:t,dispatch:e})=>B5(t,e),PF=()=>({state:t,dispatch:e})=>$5(t,e),DF=()=>({state:t,dispatch:e})=>A5(t,e),LF=()=>({state:t,dispatch:e})=>z5(t,e),zF=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Qh(e.doc,e.selection.$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},RF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Qh(t.doc,t.selection.$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},BF=()=>({state:t,dispatch:e})=>P5(t,e),$F=()=>({state:t,dispatch:e})=>D5(t,e);function OC(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function FF(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)$/i.test(d))l=!0;else if(/^a(lt)?$/i.test(d))r=!0;else if(/^(c|ctrl|control)$/i.test(d))s=!0;else if(/^s(hift)?$/i.test(d))i=!0;else if(/^mod$/i.test(d))Kh()||OC()?l=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${d}`)}return r&&(n=`Alt-${n}`),s&&(n=`Ctrl-${n}`),l&&(n=`Meta-${n}`),i&&(n=`Shift-${n}`),n}const _F=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=FF(t).split(/-(?!$)/),l=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,u))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function e1(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,l=e?Ft(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const k=Math.max(r,y),w=Math.min(s,y+m.nodeSize);u.push({node:m,from:k,to:w})});const d=s-r,f=u.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>ph(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=d}const HF=(t,e={})=>({state:n,dispatch:r})=>{const s=Ft(t,n.schema);return e1(n,s,e)?F5(n,r):!1},VF=()=>({state:t,dispatch:e})=>j5(t,e),jF=t=>({state:e,dispatch:n})=>{const r=Ft(t,e.schema);return Y5(r)(e,n)},WF=()=>({state:t,dispatch:e})=>_5(t,e);function IC(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Kx(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const UF=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=IC(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=Ft(t,r.schema)),u==="mark"&&(l=vi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.$from.pos,d.$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,Kx(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(Kx(m.attrs,e)))})})}),!0):!1},JF=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),QF=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),qF=()=>({state:t,dispatch:e})=>L5(t,e),KF=()=>({state:t,dispatch:e})=>R5(t,e),GF=()=>({state:t,dispatch:e})=>W5(t,e),YF=()=>({state:t,dispatch:e})=>Q5(t,e),XF=()=>({state:t,dispatch:e})=>J5(t,e);function ZF(t,e,n={}){return mh(t,e,{slice:!1,parseOptions:n})}const e6=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:l}=r,u=ZF(t,s.schema,n);return i&&r.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!e),!0};function t6(t,e){const n=vi(e,t.schema),{from:r,to:s,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function n6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function r6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function t1(t){return e=>r6(e.$from,t)}function qd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function s6(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?vi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>ph(m.attrs,n,{strict:!1}));let l=0;const u=[];if(s.forEach(({$from:m,$to:y})=>{const k=m.pos,w=y.pos;t.doc.nodesBetween(k,w,(b,T)=>{if(!b.isText&&!b.marks.length)return;const x=Math.max(k,T),E=Math.min(w,T+b.nodeSize),N=E-x;l+=N,u.push(...b.marks.map(D=>({mark:D,from:x,to:E})))})}),l===0)return!1;const d=u.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>ph(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=u.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(d>0?d+f:d)>=l}function Gx(t,e){const{nodeExtensions:n}=nF(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=fr(Tn(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function i6(t,e,n){var r;const{selection:s}=e;let i=null;if(NC(s)&&(i=s.$cursor),i){const u=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(u)||!u.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({$from:u,$to:d})=>{let f=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const k=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(b=>b.type.excludes(n));f=k&&w}return!f}),f})}const o6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:l,ranges:u}=i,d=vi(t,r.schema);if(s)if(l){const f=t6(r,d);n.addStoredMark(d.create({...f,...e}))}else u.forEach(f=>{const p=f.$from.pos,m=f.$to.pos;r.doc.nodesBetween(p,m,(y,k)=>{const w=Math.max(k,p),b=Math.min(k+y.nodeSize,m);y.marks.find(x=>x.type===d)?y.marks.forEach(x=>{d===x.type&&n.addMark(w,b,d.create({...x.attrs,...e}))}):n.addMark(w,b,d.create(e))})});return i6(r,n,d)},l6=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),a6=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=Ft(t,n.schema);return i.isTextblock?s().command(({commands:l})=>Qx(i,e)(n)?!0:l.clearNodes()).command(({state:l})=>Qx(i,e)(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},u6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ui(t,0,r.content.size),i=Me.create(r,s);e.setSelection(i)}return!0},c6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,l=Ve.atStart(r).from,u=Ve.atEnd(r).to,d=Ui(s,l,u),f=Ui(i,l,u),p=Ve.create(r,d,f);e.setSelection(p)}return!0},d6=t=>({state:e,dispatch:n})=>{const r=Ft(t,e.schema);return eF(r)(e,n)};function Yx(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const f6=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:l}=e,{$from:u,$to:d}=i,f=s.extensionManager.attributes,p=qd(f,u.node().type.name,u.node().attrs);if(i instanceof Me&&i.node.isBlock)return!u.parentOffset||!yl(l,u.pos)?!1:(r&&(t&&Yx(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(r){const m=d.parentOffset===d.parent.content.size;i instanceof Ve&&e.deleteSelection();const y=u.depth===0?void 0:n6(u.node(-1).contentMatchAt(u.indexAfter(-1)));let k=m&&y?[{type:y,attrs:p}]:void 0,w=yl(e.doc,e.mapping.map(u.pos),1,k);if(!k&&!w&&yl(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,k=y?[{type:y,attrs:p}]:void 0),w&&(e.split(e.mapping.map(u.pos),1,k),y&&!m&&!u.parentOffset&&u.parent.type!==y)){const b=e.mapping.map(u.before()),T=e.doc.resolve(b);u.node(-1).canReplaceWith(T.index(),T.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&Yx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},h6=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const l=Ft(t,n.schema),{$from:u,$to:d}=n.selection,f=n.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const m=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let T=re.empty;const x=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-x;B>=u.depth-3;B-=1)T=re.from(u.node(B).copy(T));const E=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,N=qd(m,u.node().type.name,u.node().attrs),D=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(N))||void 0;T=T.append(re.from(l.createAndFill(null,D)||void 0));const R=u.before(u.depth-(x-1));e.replace(R,u.after(-E),new ce(T,4-x,0));let L=-1;e.doc.nodesBetween(R,e.doc.content.size,(B,J)=>{if(L>-1)return!1;B.isTextblock&&B.content.size===0&&(L=J+1)}),L>-1&&e.setSelection(Ve.near(e.doc.resolve(L))),e.scrollIntoView()}return!0}const y=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,k=qd(m,p.type.name,p.attrs),w=qd(m,u.node().type.name,u.node().attrs);e.delete(u.pos,d.pos);const b=y?[{type:l,attrs:k},{type:y,attrs:w}]:[{type:l,attrs:k}];if(!yl(e.doc,u.pos,2))return!1;if(r){const{selection:T,storedMarks:x}=n,{splittableMarks:E}=s.extensionManager,N=x||T.$to.parentOffset&&T.$from.marks();if(e.split(u.pos,2,b).scrollIntoView(),!N||!r)return!0;const D=N.filter(R=>E.includes(R.type.name));e.ensureMarks(D)}return!0},Kg=(t,e)=>{const n=t1(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&fo(t.doc,n.pos)&&t.join(n.pos),!0},Gg=(t,e)=>{const n=t1(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&fo(t.doc,r)&&t.join(r),!0},p6=(t,e,n,r={})=>({editor:s,tr:i,state:l,dispatch:u,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,k=Ft(t,l.schema),w=Ft(e,l.schema),{selection:b,storedMarks:T}=l,{$from:x,$to:E}=b,N=x.blockRange(E),D=T||b.$to.parentOffset&&b.$from.marks();if(!N)return!1;const R=t1(L=>Gx(L.type.name,m))(b);if(N.depth>=1&&R&&N.depth-R.depth<=1){if(R.node.type===k)return f.liftListItem(w);if(Gx(R.node.type.name,m)&&k.validContent(R.node.content)&&u)return d().command(()=>(i.setNodeMarkup(R.pos,k),!0)).command(()=>Kg(i,k)).command(()=>Gg(i,k)).run()}return!n||!D||!u?d().command(()=>p().wrapInList(k,r)?!0:f.clearNodes()).wrapInList(k,r).command(()=>Kg(i,k)).command(()=>Gg(i,k)).run():d().command(()=>{const L=p().wrapInList(k,r),B=D.filter(J=>y.includes(J.type.name));return i.ensureMarks(B),L?!0:f.clearNodes()}).wrapInList(k,r).command(()=>Kg(i,k)).command(()=>Gg(i,k)).run()},m6=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,l=vi(t,r.schema);return s6(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:i}):s.setMark(l,e)},g6=(t,e,n={})=>({state:r,commands:s})=>{const i=Ft(t,r.schema),l=Ft(e,r.schema);return e1(r,i,n)?s.setNode(l):s.setNode(i,n)},y6=(t,e={})=>({state:n,commands:r})=>{const s=Ft(t,n.schema);return e1(n,s,e)?r.lift(s):r.wrapIn(s,e)},v6=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const l=t.tr,u=i.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(i.text){const d=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else l.delete(i.from,i.to)}return!0}}return!1},k6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},w6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=vi(t,r.schema),{$from:f,empty:p,ranges:m}=u;if(!s)return!0;if(p&&l){let{from:y,to:k}=u;const w=(i=f.marks().find(T=>T.type===d))===null||i===void 0?void 0:i.attrs,b=TC(f,d,w);b&&(y=b.from,k=b.to),n.removeMark(y,k,d)}else m.forEach(y=>{n.removeMark(y.$from.pos,y.$to.pos,d)});return n.removeStoredMark(d),!0},S6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=IC(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=Ft(t,r.schema)),u==="mark"&&(l=vi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.$from.pos,p=d.$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{i&&i===m.type&&n.setNodeMarkup(y,void 0,{...m.attrs,...e}),l&&m.marks.length&&m.marks.forEach(k=>{if(l===k.type){const w=Math.max(y,f),b=Math.min(y+m.nodeSize,p);n.addMark(w,b,l.create({...k.attrs,...e}))}})})}),!0):!1},b6=(t,e={})=>({state:n,dispatch:r})=>{const s=Ft(t,n.schema);return q5(s,e)(n,r)},x6=(t,e={})=>({state:n,dispatch:r})=>{const s=Ft(t,n.schema);return K5(s,e)(n,r)};var E6=Object.freeze({__proto__:null,blur:uF,clearContent:cF,clearNodes:dF,command:fF,createParagraphNear:hF,cut:pF,deleteCurrentNode:mF,deleteNode:gF,deleteRange:yF,deleteSelection:vF,enter:kF,exitCode:wF,extendMarkRange:bF,first:xF,focus:MF,forEach:TF,insertContent:NF,insertContentAt:IF,joinUp:AF,joinDown:PF,joinBackward:DF,joinForward:LF,joinItemBackward:zF,joinItemForward:RF,joinTextblockBackward:BF,joinTextblockForward:$F,keyboardShortcut:_F,lift:HF,liftEmptyBlock:VF,liftListItem:jF,newlineInCode:WF,resetAttributes:UF,scrollIntoView:JF,selectAll:QF,selectNodeBackward:qF,selectNodeForward:KF,selectParentNode:GF,selectTextblockEnd:YF,selectTextblockStart:XF,setContent:e6,setMark:o6,setMeta:l6,setNode:a6,setNodeSelection:u6,setTextSelection:c6,sinkListItem:d6,splitBlock:f6,splitListItem:h6,toggleList:p6,toggleMark:m6,toggleNode:g6,toggleWrap:y6,undoInputRule:v6,unsetAllMarks:k6,unsetMark:w6,updateAttributes:S6,wrapIn:b6,wrapInList:x6});cs.create({name:"commands",addCommands(){return{...E6}}});cs.create({name:"editable",addProseMirrorPlugins(){return[new Bl({key:new ho("editable"),props:{editable:()=>this.editor.options.editable}})]}});cs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Bl({key:new ho("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});cs.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:d,doc:f}=u,{empty:p,$anchor:m}=d,{pos:y,parent:k}=m,w=m.parent.isTextblock&&y>0?u.doc.resolve(y-1):m,b=w.parent.type.spec.isolating,T=m.pos-m.parentOffset,x=b&&w.parent.childCount===1?T===m.pos:Ee.atStart(f).from===y;return!p||!k.type.isTextblock||k.textContent.length||!x||x&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Kh()||OC()?i:s},addProseMirrorPlugins(){return[new Bl({key:new ho("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(w=>w.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:i,to:l}=e.selection,u=Ee.atStart(e.doc).from,d=Ee.atEnd(e.doc).to;if(s||!(i===u&&l===d)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const m=n.tr,y=MC({state:n,transaction:m}),{commands:k}=new tF({editor:this.editor,state:y});if(k.clearNodes(),!!m.steps.length)return m}})]}});cs.create({name:"tabindex",addProseMirrorPlugins(){return[new Bl({key:new ho("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class gh{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=fr(Tn(this,"addOptions",{name:this.name}))),this.storage=fr(Tn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gh(e)}configure(e={}){const n=this.extend();return n.options=Zv(this.options,e),n.storage=fr(Tn(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new gh({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=fr(Tn(n,"addOptions",{name:n.name})),n.storage=fr(Tn(n,"addStorage",{name:n.name,options:n.options})),n}}function M6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class T6{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,s,i,l,u,d;const{view:f}=this.editor,p=e.target,m=p.nodeType===3?(n=p.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(p)||!m)return;let y=0,k=0;if(this.dom!==m){const T=this.dom.getBoundingClientRect(),x=m.getBoundingClientRect(),E=(s=e.offsetX)!==null&&s!==void 0?s:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,N=(l=e.offsetY)!==null&&l!==void 0?l:(u=e.nativeEvent)===null||u===void 0?void 0:u.offsetY;y=x.x-T.x+E,k=x.y-T.y+N}(d=e.dataTransfer)===null||d===void 0||d.setDragImage(this.dom,y,k);const w=Me.create(f.state.doc,this.getPos()),b=f.state.tr.setSelection(w);f.dispatch(b)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const i=e.type.startsWith("drag"),l=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!l&&!i)return!0;const{isEditable:d}=this.editor,{isDragging:f}=this,p=!!this.node.type.spec.draggable,m=Me.isSelectable(this.node),y=e.type==="copy",k=e.type==="paste",w=e.type==="cut",b=e.type==="mousedown";if(!p&&m&&i&&e.preventDefault(),p&&i&&!f)return e.preventDefault(),!1;if(p&&d&&!f&&b){const T=r.closest("[data-drag-handle]");T&&(this.dom===T||this.dom.contains(T))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||l||y||k||w||b&&m)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Kh()||M6())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}const N6=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},C6=({renderers:t})=>we.createElement(we.Fragment,null,Object.entries(t).map(([e,n])=>sP.createPortal(n.reactElement,n.element,e)));class O6 extends we.Component{constructor(e){super(e),this.editorContentRef=we.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?vv.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return we.createElement(we.Fragment,null,we.createElement("div",{ref:N6(n,this.editorContentRef),...r}),we.createElement(C6,{renderers:this.state.renderers}))}}const I6=Ce.forwardRef((t,e)=>{const n=we.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return we.createElement(O6,{key:n,innerRef:e,...t})}),A6=we.memo(I6),P6=Ce.createContext({editor:null});P6.Consumer;const AC=Ce.createContext({onDragStart:void 0}),D6=()=>Ce.useContext(AC),L6=we.forwardRef((t,e)=>{const{onDragStart:n}=D6(),r=t.as||"div";return we.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function z6(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function R6(t){var e;return typeof t=="object"&&((e=t.$$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class B6{constructor(e,{editor:n,props:r={},as:s="div",className:i="",attrs:l}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(s),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),l&&Object.keys(l).forEach(u=>{this.element.setAttribute(u,l[u])}),this.render()}render(){var e,n;const r=this.component,s=this.props;(z6(r)||R6(r))&&(s.ref=i=>{this.ref=i}),this.reactElement=we.createElement(r,{...s}),(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,n;(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}class $6 extends T6{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const i=l=>l.charAt(0).toUpperCase()+l.substring(1);this.component.displayName=i(this.extension.name)}const n=i=>{const l=this.component,u=this.onDragStart.bind(this),d=f=>{f&&this.contentDOMElement&&f.firstChild!==this.contentDOMElement&&f.appendChild(this.contentDOMElement)};return we.createElement(we.Fragment,null,we.createElement(AC.Provider,{value:{onDragStart:u,nodeViewContentRef:d}},we.createElement(l,{...i})))};n.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new B6(n,{editor:this.editor,props:e,as:r,className:`node-${this.node.type.name} ${s}`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection;if(e<=this.getPos()&&n>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n){const r=s=>{this.renderer.updateProps(s)};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,i=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:s,oldDecorations:i,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function F6(t,e){return n=>n.editor.contentComponent?new $6(t,n,e):{}}var yh=200,yt=function(){};yt.prototype.append=function(e){return e.length?(e=yt.from(e),!this.length&&e||e.length<yh&&this.leafAppend(e)||this.length<yh&&e.leafPrepend(this)||this.appendInner(e)):this};yt.prototype.prepend=function(e){return e.length?yt.from(e).append(this):this};yt.prototype.appendInner=function(e){return new _6(this,e)};yt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?yt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};yt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};yt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};yt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,l){return s.push(e(i,l))},n,r),s};yt.from=function(e){return e instanceof yt?e:e&&e.length?new PC(e):yt.empty};var PC=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,l,u){for(var d=i;d<l;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,l,u){for(var d=i-1;d>=l;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=yh)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=yh)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(yt);yt.empty=new PC([]);var _6=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,l){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(i,u),l)===!1||i>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,i)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,l){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(i,u)-u,l+u)===!1||i<u&&this.left.forEachInvertedInner(r,Math.min(s,u),i,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(yt);const H6=500;class hr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let l=e.tr,u,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Ir(m.map));let k=m.step.map(s.slice(i)),w;k&&l.maybeStep(k).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Ir(w,void 0,void 0,f.length+p.length))),i--,w&&s.appendMap(w,i)}else l.maybeStep(m.step);if(m.selection)return u=s?m.selection.map(s.slice(i)):m.selection,d=new hr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,r,s){let i=[],l=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Ir(e.mapping.maps[p],m,n),k;(k=d&&d.merge(y))&&(y=k,p?i.pop():u=u.slice(0,u.length-1)),i.push(y),n&&(l++,n=void 0),s||(d=y)}let f=l-r.depth;return f>j6&&(u=V6(u,f),l-=f),new hr(u.append(i),l)}remapping(e,n){let r=new iu;return this.items.forEach((s,i)=>{let l=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new hr(this.items.append(e.map(n=>new Ir(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},s);let d=n;this.items.forEach(y=>{let k=i.getMirror(--d);if(k==null)return;l=Math.min(l,k);let w=i.maps[k];if(y.step){let b=e.steps[k].invert(e.docs[k]),T=y.selection&&y.selection.map(i.slice(d+1,k));T&&u++,r.push(new Ir(w,b,T))}else r.push(new Ir(w))},s);let f=[];for(let y=n;y<l;y++)f.push(new Ir(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new hr(p,u);return m.emptyItemCount()>H6&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)s.push(l),l.selection&&i++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&i++;let m=new Ir(f.invert(),d,p),y,k=s.length-1;(y=s.length&&s[k].merge(m))?s[k]=y:s.push(m)}}else l.map&&r--},this.items.length,0),new hr(yt.from(s.reverse()),i)}}hr.empty=new hr(yt.empty,0);function V6(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Ir{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ir(n.getMap().invert(),n,this.selection)}}}class _s{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const j6=20;function W6(t,e,n,r){let s=n.getMeta(Zi),i;if(s)return s.historyState;n.getMeta(Q6)&&(t=new _s(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(Zi))return l.getMeta(Zi).redo?new _s(t.done.addTransform(n,void 0,r,Kd(e)),t.undone,Xx(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new _s(t.done,t.undone.addTransform(n,void 0,r,Kd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!U6(n,t.prevRanges)),f=l?Yg(t.prevRanges,n.mapping):Xx(n.mapping.maps[n.steps.length-1]);return new _s(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Kd(e)),hr.empty,f,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new _s(t.done.rebased(n,i),t.undone.rebased(n,i),Yg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _s(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Yg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function U6(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Xx(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function Yg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function J6(t,e,n){let r=Kd(e),s=Zi.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let l=i.selection.resolve(i.transform.doc),u=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),d=new _s(n?u:i.remaining,n?i.remaining:u,null,0,-1);return i.transform.setSelection(l).setMeta(Zi,{redo:n,historyState:d})}let Xg=!1,Zx=null;function Kd(t){let e=t.plugins;if(Zx!=e){Xg=!1,Zx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Xg=!0;break}}return Xg}const Zi=new ho("history"),Q6=new ho("closeHistory");function q6(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Bl({key:Zi,state:{init(){return new _s(hr.empty,hr.empty,null,0,-1)},apply(e,n,r){return W6(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?K6:r=="historyRedo"?G6:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function DC(t,e){return(n,r)=>{let s=Zi.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=J6(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const K6=DC(!1,!0),G6=DC(!0,!0),Y6=new Be({onBridgeMessage:(t,e,n)=>e.type==="init-content"?(t.commands.setContent(e.payload,!1),t.unregisterPlugin("history"),t.registerPlugin(q6()),!0):!1,onEditorMessage(t,e){return!1},extendEditorInstance:t=>({initContent(e){t({type:"init-content",payload:e})}}),extendEditorState:t=>({})});class X6{constructor(){Zw(this,"subscriptions",{});this.subscriptions={}}onMessage(e,n){this.subscriptions[e]&&this.subscriptions[e].forEach(r=>{r(n)})}addListener(e,n){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n)}sendAsyncMessage(e,n){const r=Math.random().toString(36).substring(7);return e.payload=e.payload||{},e.payload.messageId=r,new Promise(s=>{this.addListener(r,s),n(e)})}}const eE=new X6,Z6=t=>{const{editor:e,extension:n,node:r,backgroundColor:s,deleteNode:i,...l}=t,{id:u,show:d}=r.attrs,[f,p]=Ce.useState(!1);return Ce.useEffect(()=>p(m=>m?!0:d),[d]),e&&r?Yr.jsx(L6,{children:Yr.jsx("div",{className:"myimage","data-drag-handle":!0,children:f?Yr.jsx("img",{className:"myimage-img",src:`data:image/jpeg;base64,${n.storage.base64map[u]}`}):Yr.jsx("span",{className:"myimage-loading",children:"loading..."})})}):Yr.jsxs("div",{className:"myimage",style:{backgroundColor:t.backgroundColor?"red":"transparent"},children:[Yr.jsx("span",{children:"efefe"}),Yr.jsx("button",{className:"myimage-button",...l,children:"remove"})]})},LC=gh.create({name:"myimage",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{id:{default:null},show:{default:!0}}},addNodeView(){return F6(Z6)},parseHTML(){return[{tag:"div[class=myimage]"}]},renderHTML({HTMLAttributes:t}){return["div",rF(this.options.HTMLAttributes,t)]},addStorage(){return{base64map:{}}},addCommands(){return{setMyImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),addBase64:t=>()=>(this.storage.base64map[t.id]=t.base64,!0),setBase64Jpeg:t=>({commands:e})=>(this.storage.base64map[t.id]=t.base64,e.insertContent({type:this.name,attrs:t}))}}}),e_=new Be({tiptapExtension:LC,onBridgeMessage:(t,e,n)=>(e.type==="set-myimage"&&t.chain().focus().setMyImage({id:e.payload}).setTextSelection(t.state.selection.to+1).run(),e.type==="add-base64"&&t.chain().addBase64({id:e.payload.id,base64:e.payload.base64}).run(),e.type==="set-base64"&&t.chain().setBase64Jpeg({id:e.payload.id,base64:e.payload.base64}).run(),e.type==="get-ids"&&n({type:"get-ids-back",payload:{content:t_(t),messageId:e.payload.messageId}}),e.type==="refresh-all"&&t.state.doc.descendants((r,s)=>{if(r.type.name==="myimage"){const i=t.state.tr;i.setMeta("addToHistory",!1),i.setNodeAttribute(s,"show",e.payload),t.view.dispatch(i)}}),e.type==="refresh-id"&&t.state.doc.descendants((r,s)=>{if(r.type.name==="myimage"&&r.attrs.id===e.payload.id){const i=t.state.tr;return i.setMeta("addToHistory",!1),i.setNodeAttribute(s,"show",e.payload),t.view.dispatch(i),!1}}),!1),onEditorMessage(t,e){return t.type==="get-ids-back"?(eE.onMessage(t.payload.messageId,t.payload.content),!0):t.type==="testing"?(console.log("Testing",t.payload),!0):!1},extendEditorInstance:t=>({setMyImage:e=>{t({type:"set-myimage",payload:e})},addBase64:e=>{t({type:"add-base64",payload:e})},setBase64Jpeg:e=>{t({type:"set-base64",payload:e})},getMyImageIDs:async()=>await eE.sendAsyncMessage({type:"get-ids"},t),setMyImageShown:e=>{t({type:"refresh-all",payload:e})},setSpecificMyImageShown:e=>{t({type:"refresh-id",payload:e})}}),extendEditorState:t=>({activeMyImage:t.getAttributes("myimage").id})});function t_(t){const e=[];return t.state.doc.descendants((n,r)=>{if(n.type.name==="myimage"){const{id:s}=n.attrs;e.push(s)}}),e}const n_=()=>{const t=NB({bridges:[...u5,e_,Y6],tiptapOptions:{extensions:[LC]}});return Yr.jsx(A6,{editor:t})},r_=document.getElementById("root"),s_=mT(r_);s_.render(Yr.jsx(n_,{}));
</script>
  </head>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #root > div:nth-of-type(1) {
      overflow: auto;
      height: 100%;
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
    }
    #root div .ProseMirror {
      height: 100%;
      overflow: auto;
    }
    .ProseMirror:focus {
      outline: none;
    }
  </style>
  <body>
    <div id="root"></div>
  </body>
</html>
