/* eslint-disable */
export const editorHtml = String.raw`
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>RichTextEditor</title>
    <script type="module" crossorigin>var GI=Object.defineProperty;var YI=(t,e,n)=>e in t?GI(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var aS=(t,e,n)=>(YI(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dE={exports:{}},wh={},fE={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var \$u=Symbol.for("react.element"),XI=Symbol.for("react.portal"),ZI=Symbol.for("react.fragment"),e3=Symbol.for("react.strict_mode"),t3=Symbol.for("react.profiler"),n3=Symbol.for("react.provider"),r3=Symbol.for("react.context"),s3=Symbol.for("react.forward_ref"),i3=Symbol.for("react.suspense"),o3=Symbol.for("react.memo"),l3=Symbol.for("react.lazy"),uS=Symbol.iterator;function a3(t){return t===null||typeof t!="object"?null:(t=uS&&t[uS]||t["@@iterator"],typeof t=="function"?t:null)}var hE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pE=Object.assign,mE={};function zl(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||hE}zl.prototype.isReactComponent={};zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gE(){}gE.prototype=zl.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=mE,this.updater=n||hE}var I0=O0.prototype=new gE;I0.constructor=O0;pE(I0,zl.prototype);I0.isPureReactComponent=!0;var cS=Array.isArray,yE=Object.prototype.hasOwnProperty,A0={current:null},vE={key:!0,ref:!0,__self:!0,__source:!0};function kE(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)yE.call(e,r)&&!vE.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){for(var d=Array(u),f=0;f<u;f++)d[f]=arguments[f+2];s.children=d}if(t&&t.defaultProps)for(r in u=t.defaultProps,u)s[r]===void 0&&(s[r]=u[r]);return{\$\$typeof:\$u,type:t,key:i,ref:l,props:s,_owner:A0.current}}function u3(t,e){return{\$\$typeof:\$u,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.\$\$typeof===\$u}function c3(t){var e={"=":"=0",":":"=2"};return"\$"+t.replace(/[=:]/g,function(n){return e[n]})}var dS=/\/+/g;function Um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?c3(""+t.key):e.toString(36)}function Pd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.\$\$typeof){case \$u:case XI:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Um(l,0):r,cS(s)?(n="",t!=null&&(n=t.replace(dS,"\$&/")+"/"),Pd(s,e,n,"",function(f){return f})):s!=null&&(P0(s)&&(s=u3(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(dS,"\$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",cS(t))for(var u=0;u<t.length;u++){i=t[u];var d=r+Um(i,u);l+=Pd(i,e,n,d,s)}else if(d=a3(t),typeof d=="function")for(t=d.call(t),u=0;!(i=t.next()).done;)i=i.value,d=r+Um(i,u++),l+=Pd(i,e,n,d,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function nd(t,e,n){if(t==null)return t;var r=[],s=0;return Pd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function d3(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Yt={current:null},Dd={transition:null},f3={ReactCurrentDispatcher:Yt,ReactCurrentBatchConfig:Dd,ReactCurrentOwner:A0};ge.Children={map:nd,forEach:function(t,e,n){nd(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return nd(t,function(){e++}),e},toArray:function(t){return nd(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ge.Component=zl;ge.Fragment=ZI;ge.Profiler=t3;ge.PureComponent=O0;ge.StrictMode=e3;ge.Suspense=i3;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f3;ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pE({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=A0.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(d in e)yE.call(e,d)&&!vE.hasOwnProperty(d)&&(r[d]=e[d]===void 0&&u!==void 0?u[d]:e[d])}var d=arguments.length-2;if(d===1)r.children=n;else if(1<d){u=Array(d);for(var f=0;f<d;f++)u[f]=arguments[f+2];r.children=u}return{\$\$typeof:\$u,type:t.type,key:s,ref:i,props:r,_owner:l}};ge.createContext=function(t){return t={\$\$typeof:r3,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={\$\$typeof:n3,_context:t},t.Consumer=t};ge.createElement=kE;ge.createFactory=function(t){var e=kE.bind(null,t);return e.type=t,e};ge.createRef=function(){return{current:null}};ge.forwardRef=function(t){return{\$\$typeof:s3,render:t}};ge.isValidElement=P0;ge.lazy=function(t){return{\$\$typeof:l3,_payload:{_status:-1,_result:t},_init:d3}};ge.memo=function(t,e){return{\$\$typeof:o3,type:t,compare:e===void 0?null:e}};ge.startTransition=function(t){var e=Dd.transition;Dd.transition={};try{t()}finally{Dd.transition=e}};ge.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};ge.useCallback=function(t,e){return Yt.current.useCallback(t,e)};ge.useContext=function(t){return Yt.current.useContext(t)};ge.useDebugValue=function(){};ge.useDeferredValue=function(t){return Yt.current.useDeferredValue(t)};ge.useEffect=function(t,e){return Yt.current.useEffect(t,e)};ge.useId=function(){return Yt.current.useId()};ge.useImperativeHandle=function(t,e,n){return Yt.current.useImperativeHandle(t,e,n)};ge.useInsertionEffect=function(t,e){return Yt.current.useInsertionEffect(t,e)};ge.useLayoutEffect=function(t,e){return Yt.current.useLayoutEffect(t,e)};ge.useMemo=function(t,e){return Yt.current.useMemo(t,e)};ge.useReducer=function(t,e,n){return Yt.current.useReducer(t,e,n)};ge.useRef=function(t){return Yt.current.useRef(t)};ge.useState=function(t){return Yt.current.useState(t)};ge.useSyncExternalStore=function(t,e,n){return Yt.current.useSyncExternalStore(t,e,n)};ge.useTransition=function(){return Yt.current.useTransition()};ge.version="18.2.0";fE.exports=ge;var Ee=fE.exports;const ke=C0(Ee);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3=Ee,p3=Symbol.for("react.element"),m3=Symbol.for("react.fragment"),g3=Object.prototype.hasOwnProperty,y3=h3.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v3={key:!0,ref:!0,__self:!0,__source:!0};function wE(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)g3.call(e,r)&&!v3.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{\$\$typeof:p3,type:t,key:i,ref:l,props:s,_owner:y3.current}}wh.Fragment=m3;wh.jsx=wE;wh.jsxs=wE;dE.exports=wh;var ve=dE.exports,SE={exports:{}},Pn={},bE={exports:{}},xE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,W){var F=z.length;z.push(W);e:for(;0<F;){var ae=F-1>>>1,de=z[ae];if(0<s(de,W))z[ae]=W,z[F]=de,F=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],F=z.pop();if(F!==W){z[0]=F;e:for(var ae=0,de=z.length,yn=de>>>1;ae<yn;){var st=2*(ae+1)-1,Hr=z[st],it=st+1,Zn=z[it];if(0>s(Hr,F))it<de&&0>s(Zn,Hr)?(z[ae]=Zn,z[it]=F,ae=it):(z[ae]=Hr,z[st]=F,ae=st);else if(it<de&&0>s(Zn,F))z[ae]=Zn,z[it]=F,ae=it;else break e}}return W}function s(z,W){var F=z.sortIndex-W.sortIndex;return F!==0?F:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,k=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=z)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function D(z){if(b=!1,N(z),!w)if(n(d)!==null)w=!0,Ke(R);else{var W=n(f);W!==null&&wt(D,W.startTime-z)}}function R(z,W){w=!1,b&&(b=!1,x(J),J=-1),k=!0;var F=y;try{for(N(W),m=n(d);m!==null&&(!(m.expirationTime>W)||z&&!Ce());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var de=ae(m.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?m.callback=de:m===n(d)&&r(d),N(W)}else r(d);m=n(d)}if(m!==null)var yn=!0;else{var st=n(f);st!==null&&wt(D,st.startTime-W),yn=!1}return yn}finally{m=null,y=F,k=!1}}var L=!1,B=null,J=-1,K=5,se=-1;function Ce(){return!(t.unstable_now()-se<K)}function ct(){if(B!==null){var z=t.unstable_now();se=z;var W=!0;try{W=B(!0,z)}finally{W?rt():(L=!1,B=null)}}else L=!1}var rt;if(typeof E=="function")rt=function(){E(ct)};else if(typeof MessageChannel<"u"){var Ln=new MessageChannel,Xn=Ln.port2;Ln.port1.onmessage=ct,rt=function(){Xn.postMessage(null)}}else rt=function(){T(ct,0)};function Ke(z){B=z,L||(L=!0,rt())}function wt(z,W){J=T(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||k||(w=!0,Ke(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var F=y;y=W;try{return z()}finally{y=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=y;y=z;try{return W()}finally{y=F}},t.unstable_scheduleCallback=function(z,W,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=F+de,z={id:p++,callback:W,priorityLevel:z,startTime:F,expirationTime:de,sortIndex:-1},F>ae?(z.sortIndex=F,e(f,z),n(d)===null&&z===n(f)&&(b?(x(J),J=-1):b=!0,wt(D,F-ae))):(z.sortIndex=de,e(d,z),w||k||(w=!0,Ke(R))),z},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(z){var W=y;return function(){var F=y;y=W;try{return z.apply(this,arguments)}finally{y=F}}}})(xE);bE.exports=xE;var k3=bE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EE=Ee,An=k3;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ME=new Set,cu={};function co(t,e){kl(t,e),kl(t+"Capture",e)}function kl(t,e){for(cu[t]=e,t=0;t<e.length;t++)ME.add(e[t])}var is=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ry=Object.prototype.hasOwnProperty,w3=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*\$/,fS={},hS={};function S3(t){return ry.call(hS,t)?!0:ry.call(fS,t)?!1:w3.test(t)?hS[t]=!0:(fS[t]=!0,!1)}function b3(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function x3(t,e,n,r){if(e===null||typeof e>"u"||b3(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Ct={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ct[t]=new Xt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ct[e]=new Xt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ct[t]=new Xt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ct[t]=new Xt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ct[t]=new Xt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ct[t]=new Xt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ct[t]=new Xt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ct[t]=new Xt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ct[t]=new Xt(t,5,!1,t.toLowerCase(),null,!1,!1)});var D0=/[\-:]([a-z])/g;function L0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(D0,L0);Ct[e]=new Xt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(D0,L0);Ct[e]=new Xt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(D0,L0);Ct[e]=new Xt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ct[t]=new Xt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ct.xlinkHref=new Xt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ct[t]=new Xt(t,1,!1,t.toLowerCase(),null,!0,!0)});function z0(t,e,n,r){var s=Ct.hasOwnProperty(e)?Ct[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(x3(e,n,s,r)&&(n=null),r||s===null?S3(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ds=EE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,rd=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),R0=Symbol.for("react.strict_mode"),sy=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),NE=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),iy=Symbol.for("react.suspense"),oy=Symbol.for("react.suspense_list"),\$0=Symbol.for("react.memo"),zs=Symbol.for("react.lazy"),CE=Symbol.for("react.offscreen"),pS=Symbol.iterator;function Ta(t){return t===null||typeof t!="object"?null:(t=pS&&t[pS]||t["@@iterator"],typeof t=="function"?t:null)}var Ue=Object.assign,Jm;function Ra(t){if(Jm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Jm=e&&e[1]||""}return\`
\`+Jm+t}var Qm=!1;function qm(t,e){if(!t||Qm)return"";Qm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(f){var r=f}Reflect.construct(t,[],e)}else{try{e.call()}catch(f){r=f}t.call(e.prototype)}else{try{throw Error()}catch(f){r=f}t()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var s=f.stack.split(\`
\`),i=r.stack.split(\`
\`),l=s.length-1,u=i.length-1;1<=l&&0<=u&&s[l]!==i[u];)u--;for(;1<=l&&0<=u;l--,u--)if(s[l]!==i[u]){if(l!==1||u!==1)do if(l--,u--,0>u||s[l]!==i[u]){var d=\`
\`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=u);break}}}finally{Qm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ra(t):""}function E3(t){switch(t.tag){case 5:return Ra(t.type);case 16:return Ra("Lazy");case 13:return Ra("Suspense");case 19:return Ra("SuspenseList");case 0:case 2:case 15:return t=qm(t.type,!1),t;case 11:return t=qm(t.type.render,!1),t;case 1:return t=qm(t.type,!0),t;default:return""}}function ly(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case qo:return"Portal";case sy:return"Profiler";case R0:return"StrictMode";case iy:return"Suspense";case oy:return"SuspenseList"}if(typeof t=="object")switch(t.\$\$typeof){case NE:return(t.displayName||"Context")+".Consumer";case TE:return(t._context.displayName||"Context")+".Provider";case B0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case \$0:return e=t.displayName||null,e!==null?e:ly(t.type)||"Memo";case zs:e=t._payload,t=t._init;try{return ly(t(e))}catch{}}return null}function M3(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ly(e);case 8:return e===R0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ai(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function OE(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function T3(t){var e=OE(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function sd(t){t._valueTracker||(t._valueTracker=T3(t))}function IE(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=OE(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ay(t,e){var n=e.checked;return Ue({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function mS(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ai(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function AE(t,e){e=e.checked,e!=null&&z0(t,"checked",e,!1)}function uy(t,e){AE(t,e);var n=ai(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?cy(t,e.type,n):e.hasOwnProperty("defaultValue")&&cy(t,e.type,ai(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gS(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function cy(t,e,n){(e!=="number"||Zd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ba=Array.isArray;function al(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["\$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("\$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ai(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function dy(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return Ue({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function yS(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(Ba(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ai(n)}}function PE(t,e){var n=ai(e.value),r=ai(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function vS(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function DE(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function fy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?DE(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var id,LE=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=id.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function du(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ua={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},N3=["Webkit","ms","Moz","O"];Object.keys(Ua).forEach(function(t){N3.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ua[e]=Ua[t]})});function zE(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ua.hasOwnProperty(t)&&Ua[t]?(""+e).trim():e+"px"}function RE(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zE(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var C3=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hy(t,e){if(e){if(C3[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function py(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var my=null;function F0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var gy=null,ul=null,cl=null;function kS(t){if(t=Hu(t)){if(typeof gy!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Mh(e),gy(t.stateNode,t.type,e))}}function BE(t){ul?cl?cl.push(t):cl=[t]:ul=t}function \$E(){if(ul){var t=ul,e=cl;if(cl=ul=null,kS(t),e)for(t=0;t<e.length;t++)kS(e[t])}}function FE(t,e){return t(e)}function _E(){}var Km=!1;function HE(t,e,n){if(Km)return t(e,n);Km=!0;try{return FE(t,e,n)}finally{Km=!1,(ul!==null||cl!==null)&&(_E(),\$E())}}function fu(t,e){var n=t.stateNode;if(n===null)return null;var r=Mh(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var yy=!1;if(is)try{var Na={};Object.defineProperty(Na,"passive",{get:function(){yy=!0}}),window.addEventListener("test",Na,Na),window.removeEventListener("test",Na,Na)}catch{yy=!1}function O3(t,e,n,r,s,i,l,u,d){var f=Array.prototype.slice.call(arguments,3);try{e.apply(n,f)}catch(p){this.onError(p)}}var Ja=!1,ef=null,tf=!1,vy=null,I3={onError:function(t){Ja=!0,ef=t}};function A3(t,e,n,r,s,i,l,u,d){Ja=!1,ef=null,O3.apply(I3,arguments)}function P3(t,e,n,r,s,i,l,u,d){if(A3.apply(this,arguments),Ja){if(Ja){var f=ef;Ja=!1,ef=null}else throw Error(j(198));tf||(tf=!0,vy=f)}}function fo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function VE(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wS(t){if(fo(t)!==t)throw Error(j(188))}function D3(t){var e=t.alternate;if(!e){if(e=fo(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return wS(s),t;if(i===r)return wS(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,u=s.child;u;){if(u===n){l=!0,n=s,r=i;break}if(u===r){l=!0,r=s,n=i;break}u=u.sibling}if(!l){for(u=i.child;u;){if(u===n){l=!0,n=i,r=s;break}if(u===r){l=!0,r=i,n=s;break}u=u.sibling}if(!l)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function jE(t){return t=D3(t),t!==null?WE(t):null}function WE(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=WE(t);if(e!==null)return e;t=t.sibling}return null}var UE=An.unstable_scheduleCallback,SS=An.unstable_cancelCallback,L3=An.unstable_shouldYield,z3=An.unstable_requestPaint,Xe=An.unstable_now,R3=An.unstable_getCurrentPriorityLevel,_0=An.unstable_ImmediatePriority,JE=An.unstable_UserBlockingPriority,nf=An.unstable_NormalPriority,B3=An.unstable_LowPriority,QE=An.unstable_IdlePriority,Sh=null,Rr=null;function \$3(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:H3,F3=Math.log,_3=Math.LN2;function H3(t){return t>>>=0,t===0?32:31-(F3(t)/_3|0)|0}var od=64,ld=4194304;function \$a(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rf(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var u=l&~s;u!==0?r=\$a(u):(i&=l,i!==0&&(r=\$a(i)))}else l=n&~s,l!==0?r=\$a(l):i!==0&&(r=\$a(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),s=1<<n,r|=t[n],e&=~s;return r}function V3(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function j3(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-mr(i),u=1<<l,d=s[l];d===-1?(!(u&n)||u&r)&&(s[l]=V3(u,e)):d<=e&&(t.expiredLanes|=u),i&=~u}}function ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function qE(){var t=od;return od<<=1,!(od&4194240)&&(od=64),t}function Gm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Fu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function W3(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-mr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function H0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var xe=0;function KE(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var GE,V0,YE,XE,ZE,wy=!1,ad=[],Gs=null,Ys=null,Xs=null,hu=new Map,pu=new Map,Hs=[],U3="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bS(t,e){switch(t){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Ys=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":hu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":pu.delete(e.pointerId)}}function Ca(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hu(e),e!==null&&V0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function J3(t,e,n,r,s){switch(e){case"focusin":return Gs=Ca(Gs,t,e,n,r,s),!0;case"dragenter":return Ys=Ca(Ys,t,e,n,r,s),!0;case"mouseover":return Xs=Ca(Xs,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return hu.set(i,Ca(hu.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,pu.set(i,Ca(pu.get(i)||null,t,e,n,r,s)),!0}return!1}function eM(t){var e=Ri(t.target);if(e!==null){var n=fo(e);if(n!==null){if(e=n.tag,e===13){if(e=VE(n),e!==null){t.blockedOn=e,ZE(t.priority,function(){YE(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ld(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Sy(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);my=r,n.target.dispatchEvent(r),my=null}else return e=Hu(n),e!==null&&V0(e),t.blockedOn=n,!1;e.shift()}return!0}function xS(t,e,n){Ld(t)&&n.delete(e)}function Q3(){wy=!1,Gs!==null&&Ld(Gs)&&(Gs=null),Ys!==null&&Ld(Ys)&&(Ys=null),Xs!==null&&Ld(Xs)&&(Xs=null),hu.forEach(xS),pu.forEach(xS)}function Oa(t,e){t.blockedOn===e&&(t.blockedOn=null,wy||(wy=!0,An.unstable_scheduleCallback(An.unstable_NormalPriority,Q3)))}function mu(t){function e(s){return Oa(s,t)}if(0<ad.length){Oa(ad[0],t);for(var n=1;n<ad.length;n++){var r=ad[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Gs!==null&&Oa(Gs,t),Ys!==null&&Oa(Ys,t),Xs!==null&&Oa(Xs,t),hu.forEach(e),pu.forEach(e),n=0;n<Hs.length;n++)r=Hs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Hs.length&&(n=Hs[0],n.blockedOn===null);)eM(n),n.blockedOn===null&&Hs.shift()}var dl=ds.ReactCurrentBatchConfig,sf=!0;function q3(t,e,n,r){var s=xe,i=dl.transition;dl.transition=null;try{xe=1,j0(t,e,n,r)}finally{xe=s,dl.transition=i}}function K3(t,e,n,r){var s=xe,i=dl.transition;dl.transition=null;try{xe=4,j0(t,e,n,r)}finally{xe=s,dl.transition=i}}function j0(t,e,n,r){if(sf){var s=Sy(t,e,n,r);if(s===null)og(t,e,r,of,n),bS(t,r);else if(J3(s,t,e,n,r))r.stopPropagation();else if(bS(t,r),e&4&&-1<U3.indexOf(t)){for(;s!==null;){var i=Hu(s);if(i!==null&&GE(i),i=Sy(t,e,n,r),i===null&&og(t,e,r,of,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else og(t,e,r,null,n)}}var of=null;function Sy(t,e,n,r){if(of=null,t=F0(r),t=Ri(t),t!==null)if(e=fo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=VE(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return of=t,null}function tM(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(R3()){case _0:return 1;case JE:return 4;case nf:case B3:return 16;case QE:return 536870912;default:return 16}default:return 16}}var Us=null,W0=null,zd=null;function nM(){if(zd)return zd;var t,e=W0,n=e.length,r,s="value"in Us?Us.value:Us.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return zd=s.slice(t,1<r?1-r:void 0)}function Rd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ud(){return!0}function ES(){return!1}function Dn(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var u in t)t.hasOwnProperty(u)&&(n=t[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ud:ES,this.isPropagationStopped=ES,this}return Ue(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ud)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ud)},persist:function(){},isPersistent:ud}),e}var Rl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},U0=Dn(Rl),_u=Ue({},Rl,{view:0,detail:0}),G3=Dn(_u),Ym,Xm,Ia,bh=Ue({},_u,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:J0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ia&&(Ia&&t.type==="mousemove"?(Ym=t.screenX-Ia.screenX,Xm=t.screenY-Ia.screenY):Xm=Ym=0,Ia=t),Ym)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),MS=Dn(bh),Y3=Ue({},bh,{dataTransfer:0}),X3=Dn(Y3),Z3=Ue({},_u,{relatedTarget:0}),Zm=Dn(Z3),eA=Ue({},Rl,{animationName:0,elapsedTime:0,pseudoElement:0}),tA=Dn(eA),nA=Ue({},Rl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),rA=Dn(nA),sA=Ue({},Rl,{data:0}),TS=Dn(sA),iA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=lA[t])?!!e[t]:!1}function J0(){return aA}var uA=Ue({},_u,{key:function(t){if(t.key){var e=iA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Rd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?oA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:J0,charCode:function(t){return t.type==="keypress"?Rd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Rd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cA=Dn(uA),dA=Ue({},bh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NS=Dn(dA),fA=Ue({},_u,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:J0}),hA=Dn(fA),pA=Ue({},Rl,{propertyName:0,elapsedTime:0,pseudoElement:0}),mA=Dn(pA),gA=Ue({},bh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),yA=Dn(gA),vA=[9,13,27,32],Q0=is&&"CompositionEvent"in window,Qa=null;is&&"documentMode"in document&&(Qa=document.documentMode);var kA=is&&"TextEvent"in window&&!Qa,rM=is&&(!Q0||Qa&&8<Qa&&11>=Qa),CS=" ",OS=!1;function sM(t,e){switch(t){case"keyup":return vA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function iM(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function wA(t,e){switch(t){case"compositionend":return iM(e);case"keypress":return e.which!==32?null:(OS=!0,CS);case"textInput":return t=e.data,t===CS&&OS?null:t;default:return null}}function SA(t,e){if(Go)return t==="compositionend"||!Q0&&sM(t,e)?(t=nM(),zd=W0=Us=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return rM&&e.locale!=="ko"?null:e.data;default:return null}}var bA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function IS(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!bA[t.type]:e==="textarea"}function oM(t,e,n,r){BE(r),e=lf(e,"onChange"),0<e.length&&(n=new U0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var qa=null,gu=null;function xA(t){yM(t,0)}function xh(t){var e=Zo(t);if(IE(e))return t}function EA(t,e){if(t==="change")return e}var lM=!1;if(is){var eg;if(is){var tg="oninput"in document;if(!tg){var AS=document.createElement("div");AS.setAttribute("oninput","return;"),tg=typeof AS.oninput=="function"}eg=tg}else eg=!1;lM=eg&&(!document.documentMode||9<document.documentMode)}function PS(){qa&&(qa.detachEvent("onpropertychange",aM),gu=qa=null)}function aM(t){if(t.propertyName==="value"&&xh(gu)){var e=[];oM(e,gu,t,F0(t)),HE(xA,e)}}function MA(t,e,n){t==="focusin"?(PS(),qa=e,gu=n,qa.attachEvent("onpropertychange",aM)):t==="focusout"&&PS()}function TA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xh(gu)}function NA(t,e){if(t==="click")return xh(e)}function CA(t,e){if(t==="input"||t==="change")return xh(e)}function OA(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var vr=typeof Object.is=="function"?Object.is:OA;function yu(t,e){if(vr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!ry.call(e,s)||!vr(t[s],e[s]))return!1}return!0}function DS(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function LS(t,e){var n=DS(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=DS(n)}}function uM(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?uM(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cM(){for(var t=window,e=Zd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zd(t.document)}return e}function q0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IA(t){var e=cM(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&uM(n.ownerDocument.documentElement,n)){if(r!==null&&q0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=LS(n,i);var l=LS(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AA=is&&"documentMode"in document&&11>=document.documentMode,Yo=null,by=null,Ka=null,xy=!1;function zS(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;xy||Yo==null||Yo!==Zd(r)||(r=Yo,"selectionStart"in r&&q0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ka&&yu(Ka,r)||(Ka=r,r=lf(by,"onSelect"),0<r.length&&(e=new U0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Yo)))}function cd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Xo={animationend:cd("Animation","AnimationEnd"),animationiteration:cd("Animation","AnimationIteration"),animationstart:cd("Animation","AnimationStart"),transitionend:cd("Transition","TransitionEnd")},ng={},dM={};is&&(dM=document.createElement("div").style,"AnimationEvent"in window||(delete Xo.animationend.animation,delete Xo.animationiteration.animation,delete Xo.animationstart.animation),"TransitionEvent"in window||delete Xo.transitionend.transition);function Eh(t){if(ng[t])return ng[t];if(!Xo[t])return t;var e=Xo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in dM)return ng[t]=e[n];return t}var fM=Eh("animationend"),hM=Eh("animationiteration"),pM=Eh("animationstart"),mM=Eh("transitionend"),gM=new Map,RS="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hi(t,e){gM.set(t,e),co(e,[t])}for(var rg=0;rg<RS.length;rg++){var sg=RS[rg],PA=sg.toLowerCase(),DA=sg[0].toUpperCase()+sg.slice(1);hi(PA,"on"+DA)}hi(fM,"onAnimationEnd");hi(hM,"onAnimationIteration");hi(pM,"onAnimationStart");hi("dblclick","onDoubleClick");hi("focusin","onFocus");hi("focusout","onBlur");hi(mM,"onTransitionEnd");kl("onMouseEnter",["mouseout","mouseover"]);kl("onMouseLeave",["mouseout","mouseover"]);kl("onPointerEnter",["pointerout","pointerover"]);kl("onPointerLeave",["pointerout","pointerover"]);co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));co("onBeforeInput",["compositionend","keypress","textInput","paste"]);co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LA=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function BS(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,P3(r,e,void 0,t),t.currentTarget=null}function yM(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var u=r[l],d=u.instance,f=u.currentTarget;if(u=u.listener,d!==i&&s.isPropagationStopped())break e;BS(s,u,f),i=d}else for(l=0;l<r.length;l++){if(u=r[l],d=u.instance,f=u.currentTarget,u=u.listener,d!==i&&s.isPropagationStopped())break e;BS(s,u,f),i=d}}}if(tf)throw t=vy,tf=!1,vy=null,t}function Le(t,e){var n=e[Cy];n===void 0&&(n=e[Cy]=new Set);var r=t+"__bubble";n.has(r)||(vM(e,t,2,!1),n.add(r))}function ig(t,e,n){var r=0;e&&(r|=4),vM(n,t,r,e)}var dd="_reactListening"+Math.random().toString(36).slice(2);function vu(t){if(!t[dd]){t[dd]=!0,ME.forEach(function(n){n!=="selectionchange"&&(LA.has(n)||ig(n,!1,t),ig(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[dd]||(e[dd]=!0,ig("selectionchange",!1,e))}}function vM(t,e,n,r){switch(tM(e)){case 1:var s=q3;break;case 4:s=K3;break;default:s=j0}n=s.bind(null,e,n,t),s=void 0,!yy||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function og(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var u=r.stateNode.containerInfo;if(u===s||u.nodeType===8&&u.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;u!==null;){if(l=Ri(u),l===null)return;if(d=l.tag,d===5||d===6){r=i=l;continue e}u=u.parentNode}}r=r.return}HE(function(){var f=i,p=F0(n),m=[];e:{var y=gM.get(t);if(y!==void 0){var k=U0,w=t;switch(t){case"keypress":if(Rd(n)===0)break e;case"keydown":case"keyup":k=cA;break;case"focusin":w="focus",k=Zm;break;case"focusout":w="blur",k=Zm;break;case"beforeblur":case"afterblur":k=Zm;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=MS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=X3;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=hA;break;case fM:case hM:case pM:k=tA;break;case mM:k=mA;break;case"scroll":k=G3;break;case"wheel":k=yA;break;case"copy":case"cut":case"paste":k=rA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=NS}var b=(e&4)!==0,T=!b&&t==="scroll",x=b?y!==null?y+"Capture":null:y;b=[];for(var E=f,N;E!==null;){N=E;var D=N.stateNode;if(N.tag===5&&D!==null&&(N=D,x!==null&&(D=fu(E,x),D!=null&&b.push(ku(E,D,N)))),T)break;E=E.return}0<b.length&&(y=new k(y,w,null,n,p),m.push({event:y,listeners:b}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",y&&n!==my&&(w=n.relatedTarget||n.fromElement)&&(Ri(w)||w[ls]))break e;if((k||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,k?(w=n.relatedTarget||n.toElement,k=f,w=w?Ri(w):null,w!==null&&(T=fo(w),w!==T||w.tag!==5&&w.tag!==6)&&(w=null)):(k=null,w=f),k!==w)){if(b=MS,D="onMouseLeave",x="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=NS,D="onPointerLeave",x="onPointerEnter",E="pointer"),T=k==null?y:Zo(k),N=w==null?y:Zo(w),y=new b(D,E+"leave",k,n,p),y.target=T,y.relatedTarget=N,D=null,Ri(p)===f&&(b=new b(x,E+"enter",w,n,p),b.target=N,b.relatedTarget=T,D=b),T=D,k&&w)t:{for(b=k,x=w,E=0,N=b;N;N=_o(N))E++;for(N=0,D=x;D;D=_o(D))N++;for(;0<E-N;)b=_o(b),E--;for(;0<N-E;)x=_o(x),N--;for(;E--;){if(b===x||x!==null&&b===x.alternate)break t;b=_o(b),x=_o(x)}b=null}else b=null;k!==null&&\$S(m,y,k,b,!1),w!==null&&T!==null&&\$S(m,T,w,b,!0)}}e:{if(y=f?Zo(f):window,k=y.nodeName&&y.nodeName.toLowerCase(),k==="select"||k==="input"&&y.type==="file")var R=EA;else if(IS(y))if(lM)R=CA;else{R=TA;var L=MA}else(k=y.nodeName)&&k.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(R=NA);if(R&&(R=R(t,f))){oM(m,R,n,p);break e}L&&L(t,y,f),t==="focusout"&&(L=y._wrapperState)&&L.controlled&&y.type==="number"&&cy(y,"number",y.value)}switch(L=f?Zo(f):window,t){case"focusin":(IS(L)||L.contentEditable==="true")&&(Yo=L,by=f,Ka=null);break;case"focusout":Ka=by=Yo=null;break;case"mousedown":xy=!0;break;case"contextmenu":case"mouseup":case"dragend":xy=!1,zS(m,n,p);break;case"selectionchange":if(AA)break;case"keydown":case"keyup":zS(m,n,p)}var B;if(Q0)e:{switch(t){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else Go?sM(t,n)&&(J="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(J="onCompositionStart");J&&(rM&&n.locale!=="ko"&&(Go||J!=="onCompositionStart"?J==="onCompositionEnd"&&Go&&(B=nM()):(Us=p,W0="value"in Us?Us.value:Us.textContent,Go=!0)),L=lf(f,J),0<L.length&&(J=new TS(J,t,null,n,p),m.push({event:J,listeners:L}),B?J.data=B:(B=iM(n),B!==null&&(J.data=B)))),(B=kA?wA(t,n):SA(t,n))&&(f=lf(f,"onBeforeInput"),0<f.length&&(p=new TS("onBeforeInput","beforeinput",null,n,p),m.push({event:p,listeners:f}),p.data=B))}yM(m,e)})}function ku(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lf(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=fu(t,n),i!=null&&r.unshift(ku(t,i,s)),i=fu(t,e),i!=null&&r.push(ku(t,i,s))),t=t.return}return r}function _o(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function \$S(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var u=n,d=u.alternate,f=u.stateNode;if(d!==null&&d===r)break;u.tag===5&&f!==null&&(u=f,s?(d=fu(n,i),d!=null&&l.unshift(ku(n,d,u))):s||(d=fu(n,i),d!=null&&l.push(ku(n,d,u)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var zA=/\r\n?/g,RA=/\u0000|\uFFFD/g;function FS(t){return(typeof t=="string"?t:""+t).replace(zA,\`
\`).replace(RA,"")}function fd(t,e,n){if(e=FS(e),FS(t)!==e&&n)throw Error(j(425))}function af(){}var Ey=null,My=null;function Ty(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,BA=typeof clearTimeout=="function"?clearTimeout:void 0,_S=typeof Promise=="function"?Promise:void 0,\$A=typeof queueMicrotask=="function"?queueMicrotask:typeof _S<"u"?function(t){return _S.resolve(null).then(t).catch(FA)}:Ny;function FA(t){setTimeout(function(){throw t})}function lg(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/\$"){if(r===0){t.removeChild(s),mu(e);return}r--}else n!=="\$"&&n!=="\$?"&&n!=="\$!"||r++;n=s}while(n);mu(e)}function Zs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="\$"||e==="\$!"||e==="\$?")break;if(e==="/\$")return null}}return t}function HS(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="\$"||n==="\$!"||n==="\$?"){if(e===0)return t;e--}else n==="/\$"&&e++}t=t.previousSibling}return null}var Bl=Math.random().toString(36).slice(2),Pr="__reactFiber\$"+Bl,wu="__reactProps\$"+Bl,ls="__reactContainer\$"+Bl,Cy="__reactEvents\$"+Bl,_A="__reactListeners\$"+Bl,HA="__reactHandles\$"+Bl;function Ri(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=HS(t);t!==null;){if(n=t[Pr])return n;t=HS(t)}return e}t=n,n=t.parentNode}return null}function Hu(t){return t=t[Pr]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Mh(t){return t[wu]||null}var Oy=[],el=-1;function pi(t){return{current:t}}function ze(t){0>el||(t.current=Oy[el],Oy[el]=null,el--)}function Ie(t,e){el++,Oy[el]=t.current,t.current=e}var ui={},Ft=pi(ui),cn=pi(!1),to=ui;function wl(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function dn(t){return t=t.childContextTypes,t!=null}function uf(){ze(cn),ze(Ft)}function VS(t,e,n){if(Ft.current!==ui)throw Error(j(168));Ie(Ft,e),Ie(cn,n)}function kM(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,M3(t)||"Unknown",s));return Ue({},n,r)}function cf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,to=Ft.current,Ie(Ft,t),Ie(cn,cn.current),!0}function jS(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=kM(t,e,to),r.__reactInternalMemoizedMergedChildContext=t,ze(cn),ze(Ft),Ie(Ft,t)):ze(cn),Ie(cn,n)}var es=null,Th=!1,ag=!1;function wM(t){es===null?es=[t]:es.push(t)}function VA(t){Th=!0,wM(t)}function mi(){if(!ag&&es!==null){ag=!0;var t=0,e=xe;try{var n=es;for(xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}es=null,Th=!1}catch(s){throw es!==null&&(es=es.slice(t+1)),UE(_0,mi),s}finally{xe=e,ag=!1}}return null}var tl=[],nl=0,df=null,ff=0,Wn=[],Un=0,no=null,ts=1,ns="";function Di(t,e){tl[nl++]=ff,tl[nl++]=df,df=t,ff=e}function SM(t,e,n){Wn[Un++]=ts,Wn[Un++]=ns,Wn[Un++]=no,no=t;var r=ts;t=ns;var s=32-mr(r)-1;r&=~(1<<s),n+=1;var i=32-mr(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,ts=1<<32-mr(e)+s|n<<s|r,ns=i+t}else ts=1<<i|n<<s|r,ns=t}function K0(t){t.return!==null&&(Di(t,1),SM(t,1,0))}function G0(t){for(;t===df;)df=tl[--nl],tl[nl]=null,ff=tl[--nl],tl[nl]=null;for(;t===no;)no=Wn[--Un],Wn[Un]=null,ns=Wn[--Un],Wn[Un]=null,ts=Wn[--Un],Wn[Un]=null}var In=null,Cn=null,\$e=!1,cr=null;function bM(t,e){var n=Jn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function WS(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,In=t,Cn=Zs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,In=t,Cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=no!==null?{id:ts,overflow:ns}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Jn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,In=t,Cn=null,!0):!1;default:return!1}}function Iy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ay(t){if(\$e){var e=Cn;if(e){var n=e;if(!WS(t,e)){if(Iy(t))throw Error(j(418));e=Zs(n.nextSibling);var r=In;e&&WS(t,e)?bM(r,n):(t.flags=t.flags&-4097|2,\$e=!1,In=t)}}else{if(Iy(t))throw Error(j(418));t.flags=t.flags&-4097|2,\$e=!1,In=t}}}function US(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;In=t}function hd(t){if(t!==In)return!1;if(!\$e)return US(t),\$e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Ty(t.type,t.memoizedProps)),e&&(e=Cn)){if(Iy(t))throw xM(),Error(j(418));for(;e;)bM(t,e),e=Zs(e.nextSibling)}if(US(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/\$"){if(e===0){Cn=Zs(t.nextSibling);break e}e--}else n!=="\$"&&n!=="\$!"&&n!=="\$?"||e++}t=t.nextSibling}Cn=null}}else Cn=In?Zs(t.stateNode.nextSibling):null;return!0}function xM(){for(var t=Cn;t;)t=Zs(t.nextSibling)}function Sl(){Cn=In=null,\$e=!1}function Y0(t){cr===null?cr=[t]:cr.push(t)}var jA=ds.ReactCurrentBatchConfig;function ar(t,e){if(t&&t.defaultProps){e=Ue({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var hf=pi(null),pf=null,rl=null,X0=null;function Z0(){X0=rl=pf=null}function ev(t){var e=hf.current;ze(hf),t._currentValue=e}function Py(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fl(t,e){pf=t,X0=rl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(un=!0),t.firstContext=null)}function Kn(t){var e=t._currentValue;if(X0!==t)if(t={context:t,memoizedValue:e,next:null},rl===null){if(pf===null)throw Error(j(308));rl=t,pf.dependencies={lanes:0,firstContext:t}}else rl=rl.next=t;return e}var Bi=null;function tv(t){Bi===null?Bi=[t]:Bi.push(t)}function EM(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,tv(e)):(n.next=s.next,s.next=n),e.interleaved=n,as(t,r)}function as(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Rs=!1;function nv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function MM(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ei(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,we&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,as(t,n)}return s=r.interleaved,s===null?(e.next=e,tv(r)):(e.next=s.next,s.next=e),r.interleaved=e,as(t,n)}function Bd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}function JS(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function mf(t,e,n,r){var s=t.updateQueue;Rs=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,u=s.shared.pending;if(u!==null){s.shared.pending=null;var d=u,f=d.next;d.next=null,l===null?i=f:l.next=f,l=d;var p=t.alternate;p!==null&&(p=p.updateQueue,u=p.lastBaseUpdate,u!==l&&(u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=d))}if(i!==null){var m=s.baseState;l=0,p=f=d=null,u=i;do{var y=u.lane,k=u.eventTime;if((r&y)===y){p!==null&&(p=p.next={eventTime:k,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var w=t,b=u;switch(y=e,k=n,b.tag){case 1:if(w=b.payload,typeof w=="function"){m=w.call(k,m,y);break e}m=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=b.payload,y=typeof w=="function"?w.call(k,m,y):w,y==null)break e;m=Ue({},m,y);break e;case 2:Rs=!0}}u.callback!==null&&u.lane!==0&&(t.flags|=64,y=s.effects,y===null?s.effects=[u]:y.push(u))}else k={eventTime:k,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},p===null?(f=p=k,d=m):p=p.next=k,l|=y;if(u=u.next,u===null){if(u=s.shared.pending,u===null)break;y=u,u=y.next,y.next=null,s.lastBaseUpdate=y,s.shared.pending=null}}while(!0);if(p===null&&(d=m),s.baseState=d,s.firstBaseUpdate=f,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);so|=l,t.lanes=l,t.memoizedState=m}}function QS(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var TM=new EE.Component().refs;function Dy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ue({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Nh={isMounted:function(t){return(t=t._reactInternals)?fo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=ni(t),i=rs(r,s);i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(gr(e,t,s,r),Bd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Qt(),s=ni(t),i=rs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=ei(t,i,s),e!==null&&(gr(e,t,s,r),Bd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Qt(),r=ni(t),s=rs(n,r);s.tag=2,e!=null&&(s.callback=e),e=ei(t,s,r),e!==null&&(gr(e,t,r,n),Bd(e,t,r))}};function qS(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!yu(n,r)||!yu(s,i):!0}function NM(t,e,n){var r=!1,s=ui,i=e.contextType;return typeof i=="object"&&i!==null?i=Kn(i):(s=dn(e)?to:Ft.current,r=e.contextTypes,i=(r=r!=null)?wl(t,s):ui),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Nh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function KS(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Nh.enqueueReplaceState(e,e.state,null)}function Ly(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=TM,nv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Kn(i):(i=dn(e)?to:Ft.current,s.context=wl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Dy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Nh.enqueueReplaceState(s,s.state,null),mf(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Aa(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var u=s.refs;u===TM&&(u=s.refs={}),l===null?delete u[i]:u[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function pd(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function GS(t){var e=t._init;return e(t._payload)}function CM(t){function e(x,E){if(t){var N=x.deletions;N===null?(x.deletions=[E],x.flags|=16):N.push(E)}}function n(x,E){if(!t)return null;for(;E!==null;)e(x,E),E=E.sibling;return null}function r(x,E){for(x=new Map;E!==null;)E.key!==null?x.set(E.key,E):x.set(E.index,E),E=E.sibling;return x}function s(x,E){return x=ri(x,E),x.index=0,x.sibling=null,x}function i(x,E,N){return x.index=N,t?(N=x.alternate,N!==null?(N=N.index,N<E?(x.flags|=2,E):N):(x.flags|=2,E)):(x.flags|=1048576,E)}function l(x){return t&&x.alternate===null&&(x.flags|=2),x}function u(x,E,N,D){return E===null||E.tag!==6?(E=mg(N,x.mode,D),E.return=x,E):(E=s(E,N),E.return=x,E)}function d(x,E,N,D){var R=N.type;return R===Ko?p(x,E,N.props.children,D,N.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.\$\$typeof===zs&&GS(R)===E.type)?(D=s(E,N.props),D.ref=Aa(x,E,N),D.return=x,D):(D=jd(N.type,N.key,N.props,null,x.mode,D),D.ref=Aa(x,E,N),D.return=x,D)}function f(x,E,N,D){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=gg(N,x.mode,D),E.return=x,E):(E=s(E,N.children||[]),E.return=x,E)}function p(x,E,N,D,R){return E===null||E.tag!==7?(E=qi(N,x.mode,D,R),E.return=x,E):(E=s(E,N),E.return=x,E)}function m(x,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=mg(""+E,x.mode,N),E.return=x,E;if(typeof E=="object"&&E!==null){switch(E.\$\$typeof){case rd:return N=jd(E.type,E.key,E.props,null,x.mode,N),N.ref=Aa(x,null,E),N.return=x,N;case qo:return E=gg(E,x.mode,N),E.return=x,E;case zs:var D=E._init;return m(x,D(E._payload),N)}if(Ba(E)||Ta(E))return E=qi(E,x.mode,N,null),E.return=x,E;pd(x,E)}return null}function y(x,E,N,D){var R=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return R!==null?null:u(x,E,""+N,D);if(typeof N=="object"&&N!==null){switch(N.\$\$typeof){case rd:return N.key===R?d(x,E,N,D):null;case qo:return N.key===R?f(x,E,N,D):null;case zs:return R=N._init,y(x,E,R(N._payload),D)}if(Ba(N)||Ta(N))return R!==null?null:p(x,E,N,D,null);pd(x,N)}return null}function k(x,E,N,D,R){if(typeof D=="string"&&D!==""||typeof D=="number")return x=x.get(N)||null,u(E,x,""+D,R);if(typeof D=="object"&&D!==null){switch(D.\$\$typeof){case rd:return x=x.get(D.key===null?N:D.key)||null,d(E,x,D,R);case qo:return x=x.get(D.key===null?N:D.key)||null,f(E,x,D,R);case zs:var L=D._init;return k(x,E,N,L(D._payload),R)}if(Ba(D)||Ta(D))return x=x.get(N)||null,p(E,x,D,R,null);pd(E,D)}return null}function w(x,E,N,D){for(var R=null,L=null,B=E,J=E=0,K=null;B!==null&&J<N.length;J++){B.index>J?(K=B,B=null):K=B.sibling;var se=y(x,B,N[J],D);if(se===null){B===null&&(B=K);break}t&&B&&se.alternate===null&&e(x,B),E=i(se,E,J),L===null?R=se:L.sibling=se,L=se,B=K}if(J===N.length)return n(x,B),\$e&&Di(x,J),R;if(B===null){for(;J<N.length;J++)B=m(x,N[J],D),B!==null&&(E=i(B,E,J),L===null?R=B:L.sibling=B,L=B);return \$e&&Di(x,J),R}for(B=r(x,B);J<N.length;J++)K=k(B,x,J,N[J],D),K!==null&&(t&&K.alternate!==null&&B.delete(K.key===null?J:K.key),E=i(K,E,J),L===null?R=K:L.sibling=K,L=K);return t&&B.forEach(function(Ce){return e(x,Ce)}),\$e&&Di(x,J),R}function b(x,E,N,D){var R=Ta(N);if(typeof R!="function")throw Error(j(150));if(N=R.call(N),N==null)throw Error(j(151));for(var L=R=null,B=E,J=E=0,K=null,se=N.next();B!==null&&!se.done;J++,se=N.next()){B.index>J?(K=B,B=null):K=B.sibling;var Ce=y(x,B,se.value,D);if(Ce===null){B===null&&(B=K);break}t&&B&&Ce.alternate===null&&e(x,B),E=i(Ce,E,J),L===null?R=Ce:L.sibling=Ce,L=Ce,B=K}if(se.done)return n(x,B),\$e&&Di(x,J),R;if(B===null){for(;!se.done;J++,se=N.next())se=m(x,se.value,D),se!==null&&(E=i(se,E,J),L===null?R=se:L.sibling=se,L=se);return \$e&&Di(x,J),R}for(B=r(x,B);!se.done;J++,se=N.next())se=k(B,x,J,se.value,D),se!==null&&(t&&se.alternate!==null&&B.delete(se.key===null?J:se.key),E=i(se,E,J),L===null?R=se:L.sibling=se,L=se);return t&&B.forEach(function(ct){return e(x,ct)}),\$e&&Di(x,J),R}function T(x,E,N,D){if(typeof N=="object"&&N!==null&&N.type===Ko&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.\$\$typeof){case rd:e:{for(var R=N.key,L=E;L!==null;){if(L.key===R){if(R=N.type,R===Ko){if(L.tag===7){n(x,L.sibling),E=s(L,N.props.children),E.return=x,x=E;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.\$\$typeof===zs&&GS(R)===L.type){n(x,L.sibling),E=s(L,N.props),E.ref=Aa(x,L,N),E.return=x,x=E;break e}n(x,L);break}else e(x,L);L=L.sibling}N.type===Ko?(E=qi(N.props.children,x.mode,D,N.key),E.return=x,x=E):(D=jd(N.type,N.key,N.props,null,x.mode,D),D.ref=Aa(x,E,N),D.return=x,x=D)}return l(x);case qo:e:{for(L=N.key;E!==null;){if(E.key===L)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){n(x,E.sibling),E=s(E,N.children||[]),E.return=x,x=E;break e}else{n(x,E);break}else e(x,E);E=E.sibling}E=gg(N,x.mode,D),E.return=x,x=E}return l(x);case zs:return L=N._init,T(x,E,L(N._payload),D)}if(Ba(N))return w(x,E,N,D);if(Ta(N))return b(x,E,N,D);pd(x,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(n(x,E.sibling),E=s(E,N),E.return=x,x=E):(n(x,E),E=mg(N,x.mode,D),E.return=x,x=E),l(x)):n(x,E)}return T}var bl=CM(!0),OM=CM(!1),Vu={},Br=pi(Vu),Su=pi(Vu),bu=pi(Vu);function \$i(t){if(t===Vu)throw Error(j(174));return t}function rv(t,e){switch(Ie(bu,e),Ie(Su,t),Ie(Br,Vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:fy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=fy(e,t)}ze(Br),Ie(Br,e)}function xl(){ze(Br),ze(Su),ze(bu)}function IM(t){\$i(bu.current);var e=\$i(Br.current),n=fy(e,t.type);e!==n&&(Ie(Su,t),Ie(Br,n))}function sv(t){Su.current===t&&(ze(Br),ze(Su))}var Ve=pi(0);function gf(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="\$?"||n.data==="\$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ug=[];function iv(){for(var t=0;t<ug.length;t++)ug[t]._workInProgressVersionPrimary=null;ug.length=0}var \$d=ds.ReactCurrentDispatcher,cg=ds.ReactCurrentBatchConfig,ro=0,We=null,at=null,pt=null,yf=!1,Ga=!1,xu=0,WA=0;function Lt(){throw Error(j(321))}function ov(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!vr(t[n],e[n]))return!1;return!0}function lv(t,e,n,r,s,i){if(ro=i,We=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,\$d.current=t===null||t.memoizedState===null?qA:KA,t=n(r,s),Ga){i=0;do{if(Ga=!1,xu=0,25<=i)throw Error(j(301));i+=1,pt=at=null,e.updateQueue=null,\$d.current=GA,t=n(r,s)}while(Ga)}if(\$d.current=vf,e=at!==null&&at.next!==null,ro=0,pt=at=We=null,yf=!1,e)throw Error(j(300));return t}function av(){var t=xu!==0;return xu=0,t}function Tr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pt===null?We.memoizedState=pt=t:pt=pt.next=t,pt}function Gn(){if(at===null){var t=We.alternate;t=t!==null?t.memoizedState:null}else t=at.next;var e=pt===null?We.memoizedState:pt.next;if(e!==null)pt=e,at=t;else{if(t===null)throw Error(j(310));at=t,t={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},pt===null?We.memoizedState=pt=t:pt=pt.next=t}return pt}function Eu(t,e){return typeof e=="function"?e(t):e}function dg(t){var e=Gn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=at,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var u=l=null,d=null,f=i;do{var p=f.lane;if((ro&p)===p)d!==null&&(d=d.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:t(r,f.action);else{var m={lane:p,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};d===null?(u=d=m,l=r):d=d.next=m,We.lanes|=p,so|=p}f=f.next}while(f!==null&&f!==i);d===null?l=r:d.next=u,vr(r,e.memoizedState)||(un=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=d,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,We.lanes|=i,so|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function fg(t){var e=Gn(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);vr(i,e.memoizedState)||(un=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function AM(){}function PM(t,e){var n=We,r=Gn(),s=e(),i=!vr(r.memoizedState,s);if(i&&(r.memoizedState=s,un=!0),r=r.queue,uv(zM.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||pt!==null&&pt.memoizedState.tag&1){if(n.flags|=2048,Mu(9,LM.bind(null,n,r,s,e),void 0,null),mt===null)throw Error(j(349));ro&30||DM(n,e,s)}return s}function DM(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function LM(t,e,n,r){e.value=n,e.getSnapshot=r,RM(e)&&BM(t)}function zM(t,e,n){return n(function(){RM(e)&&BM(t)})}function RM(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!vr(t,n)}catch{return!0}}function BM(t){var e=as(t,1);e!==null&&gr(e,t,1,-1)}function YS(t){var e=Tr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Eu,lastRenderedState:t},e.queue=t,t=t.dispatch=QA.bind(null,We,t),[e.memoizedState,t]}function Mu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=We.updateQueue,e===null?(e={lastEffect:null,stores:null},We.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function \$M(){return Gn().memoizedState}function Fd(t,e,n,r){var s=Tr();We.flags|=t,s.memoizedState=Mu(1|e,n,void 0,r===void 0?null:r)}function Ch(t,e,n,r){var s=Gn();r=r===void 0?null:r;var i=void 0;if(at!==null){var l=at.memoizedState;if(i=l.destroy,r!==null&&ov(r,l.deps)){s.memoizedState=Mu(e,n,i,r);return}}We.flags|=t,s.memoizedState=Mu(1|e,n,i,r)}function XS(t,e){return Fd(8390656,8,t,e)}function uv(t,e){return Ch(2048,8,t,e)}function FM(t,e){return Ch(4,2,t,e)}function _M(t,e){return Ch(4,4,t,e)}function HM(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function VM(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,HM.bind(null,e,t),n)}function cv(){}function jM(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ov(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function WM(t,e){var n=Gn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ov(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function UM(t,e,n){return ro&21?(vr(n,e)||(n=qE(),We.lanes|=n,so|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,un=!0),t.memoizedState=n)}function UA(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var r=cg.transition;cg.transition={};try{t(!1),e()}finally{xe=n,cg.transition=r}}function JM(){return Gn().memoizedState}function JA(t,e,n){var r=ni(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},QM(t))qM(e,n);else if(n=EM(t,e,n,r),n!==null){var s=Qt();gr(n,t,r,s),KM(n,e,r)}}function QA(t,e,n){var r=ni(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(QM(t))qM(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,u=i(l,n);if(s.hasEagerState=!0,s.eagerState=u,vr(u,l)){var d=e.interleaved;d===null?(s.next=s,tv(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=EM(t,e,s,r),n!==null&&(s=Qt(),gr(n,t,r,s),KM(n,e,r))}}function QM(t){var e=t.alternate;return t===We||e!==null&&e===We}function qM(t,e){Ga=yf=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function KM(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}var vf={readContext:Kn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},qA={readContext:Kn,useCallback:function(t,e){return Tr().memoizedState=[t,e===void 0?null:e],t},useContext:Kn,useEffect:XS,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Fd(4194308,4,HM.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Fd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Fd(4,2,t,e)},useMemo:function(t,e){var n=Tr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Tr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=JA.bind(null,We,t),[r.memoizedState,t]},useRef:function(t){var e=Tr();return t={current:t},e.memoizedState=t},useState:YS,useDebugValue:cv,useDeferredValue:function(t){return Tr().memoizedState=t},useTransition:function(){var t=YS(!1),e=t[0];return t=UA.bind(null,t[1]),Tr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=We,s=Tr();if(\$e){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),mt===null)throw Error(j(349));ro&30||DM(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,XS(zM.bind(null,r,i,t),[t]),r.flags|=2048,Mu(9,LM.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Tr(),e=mt.identifierPrefix;if(\$e){var n=ns,r=ts;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=xu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=WA++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},KA={readContext:Kn,useCallback:jM,useContext:Kn,useEffect:uv,useImperativeHandle:VM,useInsertionEffect:FM,useLayoutEffect:_M,useMemo:WM,useReducer:dg,useRef:\$M,useState:function(){return dg(Eu)},useDebugValue:cv,useDeferredValue:function(t){var e=Gn();return UM(e,at.memoizedState,t)},useTransition:function(){var t=dg(Eu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:AM,useSyncExternalStore:PM,useId:JM,unstable_isNewReconciler:!1},GA={readContext:Kn,useCallback:jM,useContext:Kn,useEffect:uv,useImperativeHandle:VM,useInsertionEffect:FM,useLayoutEffect:_M,useMemo:WM,useReducer:fg,useRef:\$M,useState:function(){return fg(Eu)},useDebugValue:cv,useDeferredValue:function(t){var e=Gn();return at===null?e.memoizedState=t:UM(e,at.memoizedState,t)},useTransition:function(){var t=fg(Eu)[0],e=Gn().memoizedState;return[t,e]},useMutableSource:AM,useSyncExternalStore:PM,useId:JM,unstable_isNewReconciler:!1};function El(t,e){try{var n="",r=e;do n+=E3(r),r=r.return;while(r);var s=n}catch(i){s=\`
Error generating stack: \`+i.message+\`
\`+i.stack}return{value:t,source:e,stack:s,digest:null}}function hg(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function zy(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var YA=typeof WeakMap=="function"?WeakMap:Map;function GM(t,e,n){n=rs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){wf||(wf=!0,Uy=r),zy(t,e)},n}function YM(t,e,n){n=rs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){zy(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){zy(t,e),typeof r!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function ZS(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new YA;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=dP.bind(null,t,e,n),e.then(t,t))}function eb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tb(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rs(-1,1),e.tag=2,ei(n,e,1))),n.lanes|=1),t)}var XA=ds.ReactCurrentOwner,un=!1;function Ut(t,e,n,r){e.child=t===null?OM(e,null,n,r):bl(e,t.child,n,r)}function nb(t,e,n,r,s){n=n.render;var i=e.ref;return fl(e,s),r=lv(t,e,n,r,i,s),n=av(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(\$e&&n&&K0(e),e.flags|=1,Ut(t,e,r,s),e.child)}function rb(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!vv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,XM(t,e,i,r,s)):(t=jd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:yu,n(l,r)&&t.ref===e.ref)return us(t,e,s)}return e.flags|=1,t=ri(i,r),t.ref=e.ref,t.return=e,e.child=t}function XM(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(yu(i,r)&&t.ref===e.ref)if(un=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(un=!0);else return e.lanes=t.lanes,us(t,e,s)}return Ry(t,e,n,r,s)}function ZM(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(il,bn),bn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(il,bn),bn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(il,bn),bn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(il,bn),bn|=r;return Ut(t,e,s,n),e.child}function eT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Ry(t,e,n,r,s){var i=dn(n)?to:Ft.current;return i=wl(e,i),fl(e,s),n=lv(t,e,n,r,i,s),r=av(),t!==null&&!un?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,us(t,e,s)):(\$e&&r&&K0(e),e.flags|=1,Ut(t,e,n,s),e.child)}function sb(t,e,n,r,s){if(dn(n)){var i=!0;cf(e)}else i=!1;if(fl(e,s),e.stateNode===null)_d(t,e),NM(e,n,r),Ly(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,u=e.memoizedProps;l.props=u;var d=l.context,f=n.contextType;typeof f=="object"&&f!==null?f=Kn(f):(f=dn(n)?to:Ft.current,f=wl(e,f));var p=n.getDerivedStateFromProps,m=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";m||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==r||d!==f)&&KS(e,l,r,f),Rs=!1;var y=e.memoizedState;l.state=y,mf(e,r,l,s),d=e.memoizedState,u!==r||y!==d||cn.current||Rs?(typeof p=="function"&&(Dy(e,n,p,r),d=e.memoizedState),(u=Rs||qS(e,n,u,r,y,d,f))?(m||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=d),l.props=r,l.state=d,l.context=f,r=u):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,MM(t,e),u=e.memoizedProps,f=e.type===e.elementType?u:ar(e.type,u),l.props=f,m=e.pendingProps,y=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Kn(d):(d=dn(n)?to:Ft.current,d=wl(e,d));var k=n.getDerivedStateFromProps;(p=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(u!==m||y!==d)&&KS(e,l,r,d),Rs=!1,y=e.memoizedState,l.state=y,mf(e,r,l,s);var w=e.memoizedState;u!==m||y!==w||cn.current||Rs?(typeof k=="function"&&(Dy(e,n,k,r),w=e.memoizedState),(f=Rs||qS(e,n,f,r,y,w,d)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,w,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,w,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),l.props=r,l.state=w,l.context=d,r=f):(typeof l.componentDidUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||u===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return By(t,e,n,r,i,s)}function By(t,e,n,r,s,i){eT(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&jS(e,n,!1),us(t,e,i);r=e.stateNode,XA.current=e;var u=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=bl(e,t.child,null,i),e.child=bl(e,null,u,i)):Ut(t,e,u,i),e.memoizedState=r.state,s&&jS(e,n,!0),e.child}function tT(t){var e=t.stateNode;e.pendingContext?VS(t,e.pendingContext,e.pendingContext!==e.context):e.context&&VS(t,e.context,!1),rv(t,e.containerInfo)}function ib(t,e,n,r,s){return Sl(),Y0(s),e.flags|=256,Ut(t,e,n,r),e.child}var \$y={dehydrated:null,treeContext:null,retryLane:0};function Fy(t){return{baseLanes:t,cachePool:null,transitions:null}}function nT(t,e,n){var r=e.pendingProps,s=Ve.current,i=!1,l=(e.flags&128)!==0,u;if((u=l)||(u=t!==null&&t.memoizedState===null?!1:(s&2)!==0),u?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(Ve,s&1),t===null)return Ay(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="\$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Ah(l,r,0,null),t=qi(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Fy(n),e.memoizedState=\$y,t):dv(e,l));if(s=t.memoizedState,s!==null&&(u=s.dehydrated,u!==null))return ZA(t,e,l,r,u,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,u=s.sibling;var d={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=d,e.deletions=null):(r=ri(s,d),r.subtreeFlags=s.subtreeFlags&14680064),u!==null?i=ri(u,i):(i=qi(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?Fy(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=\$y,r}return i=t.child,t=i.sibling,r=ri(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dv(t,e){return e=Ah({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function md(t,e,n,r){return r!==null&&Y0(r),bl(e,t.child,null,n),t=dv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZA(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=hg(Error(j(422))),md(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ah({mode:"visible",children:r.children},s,0,null),i=qi(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&bl(e,t.child,null,l),e.child.memoizedState=Fy(l),e.memoizedState=\$y,i);if(!(e.mode&1))return md(t,e,l,null);if(s.data==="\$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(j(419)),r=hg(i,r,void 0),md(t,e,l,r)}if(u=(l&t.childLanes)!==0,un||u){if(r=mt,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,as(t,s),gr(r,t,s,-1))}return yv(),r=hg(Error(j(421))),md(t,e,l,r)}return s.data==="\$?"?(e.flags|=128,e.child=t.child,e=fP.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Cn=Zs(s.nextSibling),In=e,\$e=!0,cr=null,t!==null&&(Wn[Un++]=ts,Wn[Un++]=ns,Wn[Un++]=no,ts=t.id,ns=t.overflow,no=e),e=dv(e,r.children),e.flags|=4096,e)}function ob(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Py(t.return,e,n)}function pg(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ut(t,e,r.children,n),r=Ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ob(t,n,e);else if(t.tag===19)ob(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(Ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&gf(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pg(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&gf(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pg(e,!0,n,null,i);break;case"together":pg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _d(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function us(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=ri(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ri(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function eP(t,e,n){switch(e.tag){case 3:tT(e),Sl();break;case 5:IM(e);break;case 1:dn(e.type)&&cf(e);break;case 4:rv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(hf,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(Ve,Ve.current&1),e.flags|=128,null):n&e.child.childLanes?nT(t,e,n):(Ie(Ve,Ve.current&1),t=us(t,e,n),t!==null?t.sibling:null);Ie(Ve,Ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(Ve,Ve.current),r)break;return null;case 22:case 23:return e.lanes=0,ZM(t,e,n)}return us(t,e,n)}var sT,_y,iT,oT;sT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_y=function(){};iT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,\$i(Br.current);var i=null;switch(n){case"input":s=ay(t,s),r=ay(t,r),i=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),i=[];break;case"textarea":s=dy(t,s),r=dy(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=af)}hy(n,r);var l;n=null;for(f in s)if(!r.hasOwnProperty(f)&&s.hasOwnProperty(f)&&s[f]!=null)if(f==="style"){var u=s[f];for(l in u)u.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(cu.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var d=r[f];if(u=s!=null?s[f]:void 0,r.hasOwnProperty(f)&&d!==u&&(d!=null||u!=null))if(f==="style")if(u){for(l in u)!u.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&u[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(i||(i=[]),i.push(f,n)),n=d;else f==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,u=u?u.__html:void 0,d!=null&&u!==d&&(i=i||[]).push(f,d)):f==="children"?typeof d!="string"&&typeof d!="number"||(i=i||[]).push(f,""+d):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(cu.hasOwnProperty(f)?(d!=null&&f==="onScroll"&&Le("scroll",t),i||u===d||(i=[])):(i=i||[]).push(f,d))}n&&(i=i||[]).push("style",n);var f=i;(e.updateQueue=f)&&(e.flags|=4)}};oT=function(t,e,n,r){n!==r&&(e.flags|=4)};function Pa(t,e){if(!\$e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function zt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function tP(t,e,n){var r=e.pendingProps;switch(G0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zt(e),null;case 1:return dn(e.type)&&uf(),zt(e),null;case 3:return r=e.stateNode,xl(),ze(cn),ze(Ft),iv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(hd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(qy(cr),cr=null))),_y(t,e),zt(e),null;case 5:sv(e);var s=\$i(bu.current);if(n=e.type,t!==null&&e.stateNode!=null)iT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return zt(e),null}if(t=\$i(Br.current),hd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Pr]=e,r[wu]=i,t=(e.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<Fa.length;s++)Le(Fa[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":mS(r,i),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Le("invalid",r);break;case"textarea":yS(r,i),Le("invalid",r)}hy(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var u=i[l];l==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,u,t),s=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&fd(r.textContent,u,t),s=["children",""+u]):cu.hasOwnProperty(l)&&u!=null&&l==="onScroll"&&Le("scroll",r)}switch(n){case"input":sd(r),gS(r,i,!0);break;case"textarea":sd(r),vS(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=af)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=DE(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Pr]=e,t[wu]=r,sT(t,e,!1,!1),e.stateNode=t;e:{switch(l=py(n,r),n){case"dialog":Le("cancel",t),Le("close",t),s=r;break;case"iframe":case"object":case"embed":Le("load",t),s=r;break;case"video":case"audio":for(s=0;s<Fa.length;s++)Le(Fa[s],t);s=r;break;case"source":Le("error",t),s=r;break;case"img":case"image":case"link":Le("error",t),Le("load",t),s=r;break;case"details":Le("toggle",t),s=r;break;case"input":mS(t,r),s=ay(t,r),Le("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Le("invalid",t);break;case"textarea":yS(t,r),s=dy(t,r),Le("invalid",t);break;default:s=r}hy(n,s),u=s;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];i==="style"?RE(t,d):i==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&LE(t,d)):i==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&du(t,d):typeof d=="number"&&du(t,""+d):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(cu.hasOwnProperty(i)?d!=null&&i==="onScroll"&&Le("scroll",t):d!=null&&z0(t,i,d,l))}switch(n){case"input":sd(t),gS(t,r,!1);break;case"textarea":sd(t),vS(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ai(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?al(t,!!r.multiple,i,!1):r.defaultValue!=null&&al(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=af)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return zt(e),null;case 6:if(t&&e.stateNode!=null)oT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=\$i(bu.current),\$i(Br.current),hd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(i=r.nodeValue!==n)&&(t=In,t!==null))switch(t.tag){case 3:fd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&fd(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return zt(e),null;case 13:if(ze(Ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(\$e&&Cn!==null&&e.mode&1&&!(e.flags&128))xM(),Sl(),e.flags|=98560,i=!1;else if(i=hd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[Pr]=e}else Sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;zt(e),i=!1}else cr!==null&&(qy(cr),cr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ve.current&1?ut===0&&(ut=3):yv())),e.updateQueue!==null&&(e.flags|=4),zt(e),null);case 4:return xl(),_y(t,e),t===null&&vu(e.stateNode.containerInfo),zt(e),null;case 10:return ev(e.type._context),zt(e),null;case 17:return dn(e.type)&&uf(),zt(e),null;case 19:if(ze(Ve),i=e.memoizedState,i===null)return zt(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Pa(i,!1);else{if(ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=gf(t),l!==null){for(e.flags|=128,Pa(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(Ve,Ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&Xe()>Ml&&(e.flags|=128,r=!0,Pa(i,!1),e.lanes=4194304)}else{if(!r)if(t=gf(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Pa(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!\$e)return zt(e),null}else 2*Xe()-i.renderingStartTime>Ml&&n!==1073741824&&(e.flags|=128,r=!0,Pa(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Xe(),e.sibling=null,n=Ve.current,Ie(Ve,r?n&1|2:n&1),e):(zt(e),null);case 22:case 23:return gv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?bn&1073741824&&(zt(e),e.subtreeFlags&6&&(e.flags|=8192)):zt(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function nP(t,e){switch(G0(e),e.tag){case 1:return dn(e.type)&&uf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xl(),ze(cn),ze(Ft),iv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return sv(e),null;case 13:if(ze(Ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));Sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ve),null;case 4:return xl(),null;case 10:return ev(e.type._context),null;case 22:case 23:return gv(),null;case 24:return null;default:return null}}var gd=!1,Bt=!1,rP=typeof WeakSet=="function"?WeakSet:Set,X=null;function sl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(t,e,r)}else n.current=null}function Hy(t,e,n){try{n()}catch(r){Qe(t,e,r)}}var lb=!1;function sP(t,e){if(Ey=sf,t=cM(),q0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,u=-1,d=-1,f=0,p=0,m=t,y=null;t:for(;;){for(var k;m!==n||s!==0&&m.nodeType!==3||(u=l+s),m!==i||r!==0&&m.nodeType!==3||(d=l+r),m.nodeType===3&&(l+=m.nodeValue.length),(k=m.firstChild)!==null;)y=m,m=k;for(;;){if(m===t)break t;if(y===n&&++f===s&&(u=l),y===i&&++p===r&&(d=l),(k=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=k}n=u===-1||d===-1?null:{start:u,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(My={focusedElem:t,selectionRange:n},sf=!1,X=e;X!==null;)if(e=X,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,X=t;else for(;X!==null;){e=X;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var b=w.memoizedProps,T=w.memoizedState,x=e.stateNode,E=x.getSnapshotBeforeUpdate(e.elementType===e.type?b:ar(e.type,b),T);x.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=e.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(D){Qe(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,X=t;break}X=e.return}return w=lb,lb=!1,w}function Ya(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Hy(e,n,i)}s=s.next}while(s!==r)}}function Oh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Vy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function lT(t){var e=t.alternate;e!==null&&(t.alternate=null,lT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[wu],delete e[Cy],delete e[_A],delete e[HA])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function aT(t){return t.tag===5||t.tag===3||t.tag===4}function ab(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||aT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=af));else if(r!==4&&(t=t.child,t!==null))for(jy(t,e,n),t=t.sibling;t!==null;)jy(t,e,n),t=t.sibling}function Wy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Wy(t,e,n),t=t.sibling;t!==null;)Wy(t,e,n),t=t.sibling}var xt=null,ur=!1;function Ps(t,e,n){for(n=n.child;n!==null;)uT(t,e,n),n=n.sibling}function uT(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:Bt||sl(n,e);case 6:var r=xt,s=ur;xt=null,Ps(t,e,n),xt=r,ur=s,xt!==null&&(ur?(t=xt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):xt.removeChild(n.stateNode));break;case 18:xt!==null&&(ur?(t=xt,n=n.stateNode,t.nodeType===8?lg(t.parentNode,n):t.nodeType===1&&lg(t,n),mu(t)):lg(xt,n.stateNode));break;case 4:r=xt,s=ur,xt=n.stateNode.containerInfo,ur=!0,Ps(t,e,n),xt=r,ur=s;break;case 0:case 11:case 14:case 15:if(!Bt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&Hy(n,e,l),s=s.next}while(s!==r)}Ps(t,e,n);break;case 1:if(!Bt&&(sl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Qe(n,e,u)}Ps(t,e,n);break;case 21:Ps(t,e,n);break;case 22:n.mode&1?(Bt=(r=Bt)||n.memoizedState!==null,Ps(t,e,n),Bt=r):Ps(t,e,n);break;default:Ps(t,e,n)}}function ub(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new rP),e.forEach(function(r){var s=hP.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function lr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,u=l;e:for(;u!==null;){switch(u.tag){case 5:xt=u.stateNode,ur=!1;break e;case 3:xt=u.stateNode.containerInfo,ur=!0;break e;case 4:xt=u.stateNode.containerInfo,ur=!0;break e}u=u.return}if(xt===null)throw Error(j(160));uT(i,l,s),xt=null,ur=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(f){Qe(s,e,f)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)cT(e,t),e=e.sibling}function cT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lr(e,t),Mr(t),r&4){try{Ya(3,t,t.return),Oh(3,t)}catch(b){Qe(t,t.return,b)}try{Ya(5,t,t.return)}catch(b){Qe(t,t.return,b)}}break;case 1:lr(e,t),Mr(t),r&512&&n!==null&&sl(n,n.return);break;case 5:if(lr(e,t),Mr(t),r&512&&n!==null&&sl(n,n.return),t.flags&32){var s=t.stateNode;try{du(s,"")}catch(b){Qe(t,t.return,b)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,u=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&AE(s,i),py(u,l);var f=py(u,i);for(l=0;l<d.length;l+=2){var p=d[l],m=d[l+1];p==="style"?RE(s,m):p==="dangerouslySetInnerHTML"?LE(s,m):p==="children"?du(s,m):z0(s,p,m,f)}switch(u){case"input":uy(s,i);break;case"textarea":PE(s,i);break;case"select":var y=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var k=i.value;k!=null?al(s,!!i.multiple,k,!1):y!==!!i.multiple&&(i.defaultValue!=null?al(s,!!i.multiple,i.defaultValue,!0):al(s,!!i.multiple,i.multiple?[]:"",!1))}s[wu]=i}catch(b){Qe(t,t.return,b)}}break;case 6:if(lr(e,t),Mr(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(b){Qe(t,t.return,b)}}break;case 3:if(lr(e,t),Mr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{mu(e.containerInfo)}catch(b){Qe(t,t.return,b)}break;case 4:lr(e,t),Mr(t);break;case 13:lr(e,t),Mr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(pv=Xe())),r&4&&ub(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Bt=(f=Bt)||p,lr(e,t),Bt=f):lr(e,t),Mr(t),r&8192){if(f=t.memoizedState!==null,(t.stateNode.isHidden=f)&&!p&&t.mode&1)for(X=t,p=t.child;p!==null;){for(m=X=p;X!==null;){switch(y=X,k=y.child,y.tag){case 0:case 11:case 14:case 15:Ya(4,y,y.return);break;case 1:sl(y,y.return);var w=y.stateNode;if(typeof w.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(b){Qe(r,n,b)}}break;case 5:sl(y,y.return);break;case 22:if(y.memoizedState!==null){db(m);continue}}k!==null?(k.return=y,X=k):db(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{s=m.stateNode,f?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=m.stateNode,d=m.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,u.style.display=zE("display",l))}catch(b){Qe(t,t.return,b)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(b){Qe(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:lr(e,t),Mr(t),r&4&&ub(t);break;case 21:break;default:lr(e,t),Mr(t)}}function Mr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(aT(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(du(s,""),r.flags&=-33);var i=ab(t);Wy(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,u=ab(t);jy(t,u,l);break;default:throw Error(j(161))}}catch(d){Qe(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iP(t,e,n){X=t,dT(t)}function dT(t,e,n){for(var r=(t.mode&1)!==0;X!==null;){var s=X,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||gd;if(!l){var u=s.alternate,d=u!==null&&u.memoizedState!==null||Bt;u=gd;var f=Bt;if(gd=l,(Bt=d)&&!f)for(X=s;X!==null;)l=X,d=l.child,l.tag===22&&l.memoizedState!==null?fb(s):d!==null?(d.return=l,X=d):fb(s);for(;i!==null;)X=i,dT(i),i=i.sibling;X=s,gd=u,Bt=f}cb(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,X=i):cb(t)}}function cb(t){for(;X!==null;){var e=X;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bt||Oh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:ar(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&QS(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}QS(e,l,n)}break;case 5:var u=e.stateNode;if(n===null&&e.flags&4){n=u;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var f=e.alternate;if(f!==null){var p=f.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&mu(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}Bt||e.flags&512&&Vy(e)}catch(y){Qe(e,e.return,y)}}if(e===t){X=null;break}if(n=e.sibling,n!==null){n.return=e.return,X=n;break}X=e.return}}function db(t){for(;X!==null;){var e=X;if(e===t){X=null;break}var n=e.sibling;if(n!==null){n.return=e.return,X=n;break}X=e.return}}function fb(t){for(;X!==null;){var e=X;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Oh(4,e)}catch(d){Qe(e,n,d)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(d){Qe(e,s,d)}}var i=e.return;try{Vy(e)}catch(d){Qe(e,i,d)}break;case 5:var l=e.return;try{Vy(e)}catch(d){Qe(e,l,d)}}}catch(d){Qe(e,e.return,d)}if(e===t){X=null;break}var u=e.sibling;if(u!==null){u.return=e.return,X=u;break}X=e.return}}var oP=Math.ceil,kf=ds.ReactCurrentDispatcher,fv=ds.ReactCurrentOwner,Qn=ds.ReactCurrentBatchConfig,we=0,mt=null,et=null,Nt=0,bn=0,il=pi(0),ut=0,Tu=null,so=0,Ih=0,hv=0,Xa=null,ln=null,pv=0,Ml=1/0,Xr=null,wf=!1,Uy=null,ti=null,yd=!1,Js=null,Sf=0,Za=0,Jy=null,Hd=-1,Vd=0;function Qt(){return we&6?Xe():Hd!==-1?Hd:Hd=Xe()}function ni(t){return t.mode&1?we&2&&Nt!==0?Nt&-Nt:jA.transition!==null?(Vd===0&&(Vd=qE()),Vd):(t=xe,t!==0||(t=window.event,t=t===void 0?16:tM(t.type)),t):1}function gr(t,e,n,r){if(50<Za)throw Za=0,Jy=null,Error(j(185));Fu(t,n,r),(!(we&2)||t!==mt)&&(t===mt&&(!(we&2)&&(Ih|=n),ut===4&&Vs(t,Nt)),fn(t,r),n===1&&we===0&&!(e.mode&1)&&(Ml=Xe()+500,Th&&mi()))}function fn(t,e){var n=t.callbackNode;j3(t,e);var r=rf(t,t===mt?Nt:0);if(r===0)n!==null&&SS(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&SS(n),e===1)t.tag===0?VA(hb.bind(null,t)):wM(hb.bind(null,t)),\$A(function(){!(we&6)&&mi()}),n=null;else{switch(KE(r)){case 1:n=_0;break;case 4:n=JE;break;case 16:n=nf;break;case 536870912:n=QE;break;default:n=nf}n=kT(n,fT.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function fT(t,e){if(Hd=-1,Vd=0,we&6)throw Error(j(327));var n=t.callbackNode;if(hl()&&t.callbackNode!==n)return null;var r=rf(t,t===mt?Nt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=bf(t,r);else{e=r;var s=we;we|=2;var i=pT();(mt!==t||Nt!==e)&&(Xr=null,Ml=Xe()+500,Qi(t,e));do try{uP();break}catch(u){hT(t,u)}while(!0);Z0(),kf.current=i,we=s,et!==null?e=0:(mt=null,Nt=0,e=ut)}if(e!==0){if(e===2&&(s=ky(t),s!==0&&(r=s,e=Qy(t,s))),e===1)throw n=Tu,Qi(t,0),Vs(t,r),fn(t,Xe()),n;if(e===6)Vs(t,r);else{if(s=t.current.alternate,!(r&30)&&!lP(s)&&(e=bf(t,r),e===2&&(i=ky(t),i!==0&&(r=i,e=Qy(t,i))),e===1))throw n=Tu,Qi(t,0),Vs(t,r),fn(t,Xe()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:Li(t,ln,Xr);break;case 3:if(Vs(t,r),(r&130023424)===r&&(e=pv+500-Xe(),10<e)){if(rf(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Qt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Ny(Li.bind(null,t,ln,Xr),e);break}Li(t,ln,Xr);break;case 4:if(Vs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-mr(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oP(r/1960))-r,10<r){t.timeoutHandle=Ny(Li.bind(null,t,ln,Xr),r);break}Li(t,ln,Xr);break;case 5:Li(t,ln,Xr);break;default:throw Error(j(329))}}}return fn(t,Xe()),t.callbackNode===n?fT.bind(null,t):null}function Qy(t,e){var n=Xa;return t.current.memoizedState.isDehydrated&&(Qi(t,e).flags|=256),t=bf(t,e),t!==2&&(e=ln,ln=n,e!==null&&qy(e)),t}function qy(t){ln===null?ln=t:ln.push.apply(ln,t)}function lP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!vr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vs(t,e){for(e&=~hv,e&=~Ih,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function hb(t){if(we&6)throw Error(j(327));hl();var e=rf(t,0);if(!(e&1))return fn(t,Xe()),null;var n=bf(t,e);if(t.tag!==0&&n===2){var r=ky(t);r!==0&&(e=r,n=Qy(t,r))}if(n===1)throw n=Tu,Qi(t,0),Vs(t,e),fn(t,Xe()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Li(t,ln,Xr),fn(t,Xe()),null}function mv(t,e){var n=we;we|=1;try{return t(e)}finally{we=n,we===0&&(Ml=Xe()+500,Th&&mi())}}function io(t){Js!==null&&Js.tag===0&&!(we&6)&&hl();var e=we;we|=1;var n=Qn.transition,r=xe;try{if(Qn.transition=null,xe=1,t)return t()}finally{xe=r,Qn.transition=n,we=e,!(we&6)&&mi()}}function gv(){bn=il.current,ze(il)}function Qi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,BA(n)),et!==null)for(n=et.return;n!==null;){var r=n;switch(G0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&uf();break;case 3:xl(),ze(cn),ze(Ft),iv();break;case 5:sv(r);break;case 4:xl();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:ev(r.type._context);break;case 22:case 23:gv()}n=n.return}if(mt=t,et=t=ri(t.current,null),Nt=bn=e,ut=0,Tu=null,hv=Ih=so=0,ln=Xa=null,Bi!==null){for(e=0;e<Bi.length;e++)if(n=Bi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}Bi=null}return t}function hT(t,e){do{var n=et;try{if(Z0(),\$d.current=vf,yf){for(var r=We.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}yf=!1}if(ro=0,pt=at=We=null,Ga=!1,xu=0,fv.current=null,n===null||n.return===null){ut=1,Tu=e,et=null;break}e:{var i=t,l=n.return,u=n,d=e;if(e=Nt,u.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var f=d,p=u,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var k=eb(l);if(k!==null){k.flags&=-257,tb(k,l,u,i,e),k.mode&1&&ZS(i,f,e),e=k,d=f;var w=e.updateQueue;if(w===null){var b=new Set;b.add(d),e.updateQueue=b}else w.add(d);break e}else{if(!(e&1)){ZS(i,f,e),yv();break e}d=Error(j(426))}}else if(\$e&&u.mode&1){var T=eb(l);if(T!==null){!(T.flags&65536)&&(T.flags|=256),tb(T,l,u,i,e),Y0(El(d,u));break e}}i=d=El(d,u),ut!==4&&(ut=2),Xa===null?Xa=[i]:Xa.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=GM(i,d,e);JS(i,x);break e;case 1:u=d;var E=i.type,N=i.stateNode;if(!(i.flags&128)&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ti===null||!ti.has(N)))){i.flags|=65536,e&=-e,i.lanes|=e;var D=YM(i,u,e);JS(i,D);break e}}i=i.return}while(i!==null)}gT(n)}catch(R){e=R,et===n&&n!==null&&(et=n=n.return);continue}break}while(!0)}function pT(){var t=kf.current;return kf.current=vf,t===null?vf:t}function yv(){(ut===0||ut===3||ut===2)&&(ut=4),mt===null||!(so&268435455)&&!(Ih&268435455)||Vs(mt,Nt)}function bf(t,e){var n=we;we|=2;var r=pT();(mt!==t||Nt!==e)&&(Xr=null,Qi(t,e));do try{aP();break}catch(s){hT(t,s)}while(!0);if(Z0(),we=n,kf.current=r,et!==null)throw Error(j(261));return mt=null,Nt=0,ut}function aP(){for(;et!==null;)mT(et)}function uP(){for(;et!==null&&!L3();)mT(et)}function mT(t){var e=vT(t.alternate,t,bn);t.memoizedProps=t.pendingProps,e===null?gT(t):et=e,fv.current=null}function gT(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=nP(n,e),n!==null){n.flags&=32767,et=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ut=6,et=null;return}}else if(n=tP(n,e,bn),n!==null){et=n;return}if(e=e.sibling,e!==null){et=e;return}et=e=t}while(e!==null);ut===0&&(ut=5)}function Li(t,e,n){var r=xe,s=Qn.transition;try{Qn.transition=null,xe=1,cP(t,e,n,r)}finally{Qn.transition=s,xe=r}return null}function cP(t,e,n,r){do hl();while(Js!==null);if(we&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(W3(t,i),t===mt&&(et=mt=null,Nt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||yd||(yd=!0,kT(nf,function(){return hl(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Qn.transition,Qn.transition=null;var l=xe;xe=1;var u=we;we|=4,fv.current=null,sP(t,n),cT(n,t),IA(My),sf=!!Ey,My=Ey=null,t.current=n,iP(n),z3(),we=u,xe=l,Qn.transition=i}else t.current=n;if(yd&&(yd=!1,Js=t,Sf=s),i=t.pendingLanes,i===0&&(ti=null),\$3(n.stateNode),fn(t,Xe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(wf)throw wf=!1,t=Uy,Uy=null,t;return Sf&1&&t.tag!==0&&hl(),i=t.pendingLanes,i&1?t===Jy?Za++:(Za=0,Jy=t):Za=0,mi(),null}function hl(){if(Js!==null){var t=KE(Sf),e=Qn.transition,n=xe;try{if(Qn.transition=null,xe=16>t?16:t,Js===null)var r=!1;else{if(t=Js,Js=null,Sf=0,we&6)throw Error(j(331));var s=we;for(we|=4,X=t.current;X!==null;){var i=X,l=i.child;if(X.flags&16){var u=i.deletions;if(u!==null){for(var d=0;d<u.length;d++){var f=u[d];for(X=f;X!==null;){var p=X;switch(p.tag){case 0:case 11:case 15:Ya(8,p,i)}var m=p.child;if(m!==null)m.return=p,X=m;else for(;X!==null;){p=X;var y=p.sibling,k=p.return;if(lT(p),p===f){X=null;break}if(y!==null){y.return=k,X=y;break}X=k}}}var w=i.alternate;if(w!==null){var b=w.child;if(b!==null){w.child=null;do{var T=b.sibling;b.sibling=null,b=T}while(b!==null)}}X=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,X=l;else e:for(;X!==null;){if(i=X,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ya(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,X=x;break e}X=i.return}}var E=t.current;for(X=E;X!==null;){l=X;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,X=N;else e:for(l=E;X!==null;){if(u=X,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Oh(9,u)}}catch(R){Qe(u,u.return,R)}if(u===l){X=null;break e}var D=u.sibling;if(D!==null){D.return=u.return,X=D;break e}X=u.return}}if(we=s,mi(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(Sh,t)}catch{}r=!0}return r}finally{xe=n,Qn.transition=e}}return!1}function pb(t,e,n){e=El(n,e),e=GM(t,e,1),t=ei(t,e,1),e=Qt(),t!==null&&(Fu(t,1,e),fn(t,e))}function Qe(t,e,n){if(t.tag===3)pb(t,t,n);else for(;e!==null;){if(e.tag===3){pb(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ti===null||!ti.has(r))){t=El(n,t),t=YM(e,t,1),e=ei(e,t,1),t=Qt(),e!==null&&(Fu(e,1,t),fn(e,t));break}}e=e.return}}function dP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Qt(),t.pingedLanes|=t.suspendedLanes&n,mt===t&&(Nt&n)===n&&(ut===4||ut===3&&(Nt&130023424)===Nt&&500>Xe()-pv?Qi(t,0):hv|=n),fn(t,e)}function yT(t,e){e===0&&(t.mode&1?(e=ld,ld<<=1,!(ld&130023424)&&(ld=4194304)):e=1);var n=Qt();t=as(t,e),t!==null&&(Fu(t,e,n),fn(t,n))}function fP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),yT(t,n)}function hP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),yT(t,n)}var vT;vT=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)un=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return un=!1,eP(t,e,n);un=!!(t.flags&131072)}else un=!1,\$e&&e.flags&1048576&&SM(e,ff,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;_d(t,e),t=e.pendingProps;var s=wl(e,Ft.current);fl(e,n),s=lv(null,e,r,t,s,n);var i=av();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.\$\$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dn(r)?(i=!0,cf(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,nv(e),s.updater=Nh,e.stateNode=s,s._reactInternals=e,Ly(e,r,t,n),e=By(null,e,r,!0,i,n)):(e.tag=0,\$e&&i&&K0(e),Ut(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(_d(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=mP(r),t=ar(r,t),s){case 0:e=Ry(null,e,r,t,n);break e;case 1:e=sb(null,e,r,t,n);break e;case 11:e=nb(null,e,r,t,n);break e;case 14:e=rb(null,e,r,ar(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),Ry(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),sb(t,e,r,s,n);case 3:e:{if(tT(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,MM(t,e),mf(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=El(Error(j(423)),e),e=ib(t,e,r,n,s);break e}else if(r!==s){s=El(Error(j(424)),e),e=ib(t,e,r,n,s);break e}else for(Cn=Zs(e.stateNode.containerInfo.firstChild),In=e,\$e=!0,cr=null,n=OM(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Sl(),r===s){e=us(t,e,n);break e}Ut(t,e,r,n)}e=e.child}return e;case 5:return IM(e),t===null&&Ay(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Ty(r,s)?l=null:i!==null&&Ty(r,i)&&(e.flags|=32),eT(t,e),Ut(t,e,l,n),e.child;case 6:return t===null&&Ay(e),null;case 13:return nT(t,e,n);case 4:return rv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=bl(e,null,r,n):Ut(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),nb(t,e,r,s,n);case 7:return Ut(t,e,e.pendingProps,n),e.child;case 8:return Ut(t,e,e.pendingProps.children,n),e.child;case 12:return Ut(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,Ie(hf,r._currentValue),r._currentValue=l,i!==null)if(vr(i.value,l)){if(i.children===s.children&&!cn.current){e=us(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var u=i.dependencies;if(u!==null){l=i.child;for(var d=u.firstContext;d!==null;){if(d.context===r){if(i.tag===1){d=rs(-1,n&-n),d.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var p=f.pending;p===null?d.next=d:(d.next=p.next,p.next=d),f.pending=d}}i.lanes|=n,d=i.alternate,d!==null&&(d.lanes|=n),Py(i.return,n,e),u.lanes|=n;break}d=d.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(j(341));l.lanes|=n,u=l.alternate,u!==null&&(u.lanes|=n),Py(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}Ut(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,fl(e,n),s=Kn(s),r=r(s),e.flags|=1,Ut(t,e,r,n),e.child;case 14:return r=e.type,s=ar(r,e.pendingProps),s=ar(r.type,s),rb(t,e,r,s,n);case 15:return XM(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:ar(r,s),_d(t,e),e.tag=1,dn(r)?(t=!0,cf(e)):t=!1,fl(e,n),NM(e,r,s),Ly(e,r,s,n),By(null,e,r,!0,t,n);case 19:return rT(t,e,n);case 22:return ZM(t,e,n)}throw Error(j(156,e.tag))};function kT(t,e){return UE(t,e)}function pP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jn(t,e,n,r){return new pP(t,e,n,r)}function vv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mP(t){if(typeof t=="function")return vv(t)?1:0;if(t!=null){if(t=t.\$\$typeof,t===B0)return 11;if(t===\$0)return 14}return 2}function ri(t,e){var n=t.alternate;return n===null?(n=Jn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jd(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")vv(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Ko:return qi(n.children,s,i,e);case R0:l=8,s|=8;break;case sy:return t=Jn(12,n,e,s|2),t.elementType=sy,t.lanes=i,t;case iy:return t=Jn(13,n,e,s),t.elementType=iy,t.lanes=i,t;case oy:return t=Jn(19,n,e,s),t.elementType=oy,t.lanes=i,t;case CE:return Ah(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.\$\$typeof){case TE:l=10;break e;case NE:l=9;break e;case B0:l=11;break e;case \$0:l=14;break e;case zs:l=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Jn(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function qi(t,e,n,r){return t=Jn(7,t,r,e),t.lanes=n,t}function Ah(t,e,n,r){return t=Jn(22,t,r,e),t.elementType=CE,t.lanes=n,t.stateNode={isHidden:!1},t}function mg(t,e,n){return t=Jn(6,t,null,e),t.lanes=n,t}function gg(t,e,n){return e=Jn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function gP(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Gm(0),this.expirationTimes=Gm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,s,i,l,u,d){return t=new gP(t,e,n,u,d),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Jn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},nv(i),t}function yP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{\$\$typeof:qo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wT(t){if(!t)return ui;t=t._reactInternals;e:{if(fo(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(dn(n))return kM(t,n,e)}return e}function ST(t,e,n,r,s,i,l,u,d){return t=kv(n,r,!0,t,s,i,l,u,d),t.context=wT(null),n=t.current,r=Qt(),s=ni(n),i=rs(r,s),i.callback=e??null,ei(n,i,s),t.current.lanes=s,Fu(t,s,r),fn(t,r),t}function Ph(t,e,n,r){var s=e.current,i=Qt(),l=ni(s);return n=wT(n),e.context===null?e.context=n:e.pendingContext=n,e=rs(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ei(s,e,l),t!==null&&(gr(t,s,l,i),Bd(t,s,l)),l}function xf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function mb(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function wv(t,e){mb(t,e),(t=t.alternate)&&mb(t,e)}function vP(){return null}var bT=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sv(t){this._internalRoot=t}Dh.prototype.render=Sv.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Ph(t,e,null,null)};Dh.prototype.unmount=Sv.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;io(function(){Ph(null,t,null,null)}),e[ls]=null}};function Dh(t){this._internalRoot=t}Dh.prototype.unstable_scheduleHydration=function(t){if(t){var e=XE();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Hs.length&&e!==0&&e<Hs[n].priority;n++);Hs.splice(n,0,t),n===0&&eM(t)}};function bv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Lh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function gb(){}function kP(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var f=xf(l);i.call(f)}}var l=ST(e,r,t,0,null,!1,!1,"",gb);return t._reactRootContainer=l,t[ls]=l.current,vu(t.nodeType===8?t.parentNode:t),io(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var u=r;r=function(){var f=xf(d);u.call(f)}}var d=kv(t,0,!1,null,null,!1,!1,"",gb);return t._reactRootContainer=d,t[ls]=d.current,vu(t.nodeType===8?t.parentNode:t),io(function(){Ph(e,d,n,r)}),d}function zh(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var u=s;s=function(){var d=xf(l);u.call(d)}}Ph(e,l,t,s)}else l=kP(n,e,t,s,r);return xf(l)}GE=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=\$a(e.pendingLanes);n!==0&&(H0(e,n|1),fn(e,Xe()),!(we&6)&&(Ml=Xe()+500,mi()))}break;case 13:io(function(){var r=as(t,1);if(r!==null){var s=Qt();gr(r,t,1,s)}}),wv(t,1)}};V0=function(t){if(t.tag===13){var e=as(t,134217728);if(e!==null){var n=Qt();gr(e,t,134217728,n)}wv(t,134217728)}};YE=function(t){if(t.tag===13){var e=ni(t),n=as(t,e);if(n!==null){var r=Qt();gr(n,t,e,r)}wv(t,e)}};XE=function(){return xe};ZE=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};gy=function(t,e,n){switch(e){case"input":if(uy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Mh(r);if(!s)throw Error(j(90));IE(r),uy(r,s)}}}break;case"textarea":PE(t,n);break;case"select":e=n.value,e!=null&&al(t,!!n.multiple,e,!1)}};FE=mv;_E=io;var wP={usingClientEntryPoint:!1,Events:[Hu,Zo,Mh,BE,\$E,mv]},Da={findFiberByHostInstance:Ri,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},SP={bundleType:Da.bundleType,version:Da.version,rendererPackageName:Da.rendererPackageName,rendererConfig:Da.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jE(t),t===null?null:t.stateNode},findFiberByHostInstance:Da.findFiberByHostInstance||vP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var vd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!vd.isDisabled&&vd.supportsFiber)try{Sh=vd.inject(SP),Rr=vd}catch{}}Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;Pn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bv(e))throw Error(j(200));return yP(t,e,null,n)};Pn.createRoot=function(t,e){if(!bv(t))throw Error(j(299));var n=!1,r="",s=bT;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,s),t[ls]=e.current,vu(t.nodeType===8?t.parentNode:t),new Sv(e)};Pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=jE(e),t=t===null?null:t.stateNode,t};Pn.flushSync=function(t){return io(t)};Pn.hydrate=function(t,e,n){if(!Lh(e))throw Error(j(200));return zh(null,t,e,!0,n)};Pn.hydrateRoot=function(t,e,n){if(!bv(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=bT;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=ST(e,null,t,1,n??null,s,!1,i,l),t[ls]=e.current,vu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Dh(e)};Pn.render=function(t,e,n){if(!Lh(e))throw Error(j(200));return zh(null,t,e,!1,n)};Pn.unmountComponentAtNode=function(t){if(!Lh(t))throw Error(j(40));return t._reactRootContainer?(io(function(){zh(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Pn.unstable_batchedUpdates=mv;Pn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Lh(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return zh(t,e,n,!1,r)};Pn.version="18.2.0-next-9e3b772b8-20220608";function xT(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(xT)}catch(t){console.error(t)}}xT(),SE.exports=Pn;var xv=SE.exports;const bP=C0(xv);var ET,yb=xv;ET=yb.createRoot,yb.hydrateRoot;var xP=Object.defineProperty,EP=(t,e,n)=>e in t?xP(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,MP=(t,e,n)=>(EP(t,e+"",n),n),kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function MT(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function TP(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var TT=TP,NP=typeof kd=="object"&&kd&&kd.Object===Object&&kd,CP=NP,OP=CP,IP=typeof self=="object"&&self&&self.Object===Object&&self,AP=OP||IP||Function("return this")(),NT=AP,PP=NT,DP=function(){return PP.Date.now()},LP=DP,zP=/\s/;function RP(t){for(var e=t.length;e--&&zP.test(t.charAt(e)););return e}var BP=RP,\$P=BP,FP=/^\s+/;function _P(t){return t&&t.slice(0,\$P(t)+1).replace(FP,"")}var HP=_P,VP=NT,jP=VP.Symbol,CT=jP,vb=CT,OT=Object.prototype,WP=OT.hasOwnProperty,UP=OT.toString,La=vb?vb.toStringTag:void 0;function JP(t){var e=WP.call(t,La),n=t[La];try{t[La]=void 0;var r=!0}catch{}var s=UP.call(t);return r&&(e?t[La]=n:delete t[La]),s}var QP=JP,qP=Object.prototype,KP=qP.toString;function GP(t){return KP.call(t)}var YP=GP,kb=CT,XP=QP,ZP=YP,eD="[object Null]",tD="[object Undefined]",wb=kb?kb.toStringTag:void 0;function nD(t){return t==null?t===void 0?tD:eD:wb&&wb in Object(t)?XP(t):ZP(t)}var rD=nD;function sD(t){return t!=null&&typeof t=="object"}var iD=sD,oD=rD,lD=iD,aD="[object Symbol]";function uD(t){return typeof t=="symbol"||lD(t)&&oD(t)==aD}var cD=uD,dD=HP,Sb=TT,fD=cD,bb=NaN,hD=/^[-+]0x[0-9a-f]+\$/i,pD=/^0b[01]+\$/i,mD=/^0o[0-7]+\$/i,gD=parseInt;function yD(t){if(typeof t=="number")return t;if(fD(t))return bb;if(Sb(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Sb(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=dD(t);var n=pD.test(t);return n||mD.test(t)?gD(t.slice(2),n?2:8):hD.test(t)?bb:+t}var vD=yD,kD=TT,yg=LP,xb=vD,wD="Expected a function",SD=Math.max,bD=Math.min;function xD(t,e,n){var r,s,i,l,u,d,f=0,p=!1,m=!1,y=!0;if(typeof t!="function")throw new TypeError(wD);e=xb(e)||0,kD(n)&&(p=!!n.leading,m="maxWait"in n,i=m?SD(xb(n.maxWait)||0,e):i,y="trailing"in n?!!n.trailing:y);function k(L){var B=r,J=s;return r=s=void 0,f=L,l=t.apply(J,B),l}function w(L){return f=L,u=setTimeout(x,e),p?k(L):l}function b(L){var B=L-d,J=L-f,K=e-B;return m?bD(K,i-J):K}function T(L){var B=L-d,J=L-f;return d===void 0||B>=e||B<0||m&&J>=i}function x(){var L=yg();if(T(L))return E(L);u=setTimeout(x,b(L))}function E(L){return u=void 0,y&&r?k(L):(r=s=void 0,l)}function N(){u!==void 0&&clearTimeout(u),f=0,r=d=s=u=void 0}function D(){return u===void 0?l:E(yg())}function R(){var L=yg(),B=T(L);if(r=arguments,s=this,d=L,B){if(u===void 0)return w(d);if(m)return clearTimeout(u),u=setTimeout(x,e),k(d)}return u===void 0&&(u=setTimeout(x,e)),l}return R.cancel=N,R.flush=D,R}var ED=xD;const MD=MT(ED);function Et(t){this.content=t}Et.prototype={constructor:Et,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,s=r.find(t),i=r.content.slice();return s==-1?i.push(n||t,e):(i[s+1]=e,n&&(i[s]=n)),new Et(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Et(n)},addToStart:function(t,e){return new Et([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Et(n)},addBefore:function(t,e,n){var r=this.remove(e),s=r.content.slice(),i=r.find(t);return s.splice(i==-1?s.length:i,0,e,n),new Et(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Et.from(t),t.size?new Et(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Et.from(t),t.size?new Et(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Et.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Et.from=function(t){if(t instanceof Et)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Et(e)};function IT(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let l=0;s.text[l]==i.text[l];l++)n++;return n}if(s.content.size||i.content.size){let l=IT(s.content,i.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function AT(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let l=t.child(--s),u=e.child(--i),d=l.nodeSize;if(l==u){n-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let f=0,p=Math.min(l.text.length,u.text.length);for(;f<p&&l.text[l.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let f=AT(l.content,u.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class V{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let l=0,u=0;u<n;l++){let d=this.content[l],f=u+d.nodeSize;if(f>e&&r(d,s+u,i||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let f=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(l?l=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new V(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),s+=u.nodeSize),l=d}return new V(r,s)}cutByIndex(e,n){return e==n?V.empty:e==0&&n==this.content.length?this:new V(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new V(s,i)}addToStart(e){return new V([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new V(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return IT(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return AT(this,e,n,r)}findIndex(e,n=-1){if(e==0)return wd(0,e);if(e==this.size)return wd(this.content.length,e);if(e>this.size||e<0)throw new RangeError(\`Position \${e} outside of fragment (\${this})\`);for(let r=0,s=0;;r++){let i=this.child(r),l=s+i.nodeSize;if(l>=e)return l==e||n>0?wd(r+1,l):wd(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return V.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new V(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return V.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new V(n||e,r)}static from(e){if(!e)return V.empty;if(e instanceof V)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new V([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}V.empty=new V([],0);const vg={index:0,offset:0};function wd(t,e){return vg.index=t,vg.offset=e,vg}function Ef(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Ef(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Ef(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Me=class Ky{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Ef(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(\`There is no mark type \${n.type} in this schema\`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ky.none;if(e instanceof Ky)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}};Me.none=[];class Mf extends Error{}class G{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=DT(this.content,e+this.openStart,n);return r&&new G(r,this.openStart,this.openEnd)}removeBetween(e,n){return new G(PT(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return G.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new G(V.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new G(e,r,s)}}G.empty=new G(V.empty,0,0);function PT(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(s==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(PT(i.content,e-s-1,n-s-1)))}function DT(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s);if(i==e||l.isText)return r&&!r.canReplace(s,s,n)?null:t.cut(0,e).append(n).append(t.cut(e));let u=DT(l.content,e-i-1,n);return u&&t.replaceChild(s,l.copy(u))}function TD(t,e,n){if(n.openStart>t.depth)throw new Mf("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Mf("Inconsistent open depths");return LT(t,e,n,0)}function LT(t,e,n,r){let s=t.index(r),i=t.node(r);if(s==e.index(r)&&r<t.depth-n.openStart){let l=LT(t,e,n,r+1);return i.copy(i.content.replaceChild(s,l))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let l=t.parent,u=l.content;return Gi(l,u.cut(0,t.parentOffset).append(n.content).append(u.cut(e.parentOffset)))}else{let{start:l,end:u}=ND(n,t);return Gi(i,RT(t,l,u,e,r))}else return Gi(i,Tf(t,e,r))}function zT(t,e){if(!e.type.compatibleContent(t.type))throw new Mf("Cannot join "+e.type.name+" onto "+t.type.name)}function Gy(t,e,n){let r=t.node(n);return zT(r,e.node(n)),r}function Ki(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function eu(t,e,n,r){let s=(e||t).node(n),i=0,l=e?e.index(n):s.childCount;t&&(i=t.index(n),t.depth>n?i++:t.textOffset&&(Ki(t.nodeAfter,r),i++));for(let u=i;u<l;u++)Ki(s.child(u),r);e&&e.depth==n&&e.textOffset&&Ki(e.nodeBefore,r)}function Gi(t,e){return t.type.checkContent(e),t.copy(e)}function RT(t,e,n,r,s){let i=t.depth>s&&Gy(t,e,s+1),l=r.depth>s&&Gy(n,r,s+1),u=[];return eu(null,t,s,u),i&&l&&e.index(s)==n.index(s)?(zT(i,l),Ki(Gi(i,RT(t,e,n,r,s+1)),u)):(i&&Ki(Gi(i,Tf(t,e,s+1)),u),eu(e,n,s,u),l&&Ki(Gi(l,Tf(n,r,s+1)),u)),eu(r,null,s,u),new V(u)}function Tf(t,e,n){let r=[];if(eu(null,t,n,r),t.depth>n){let s=Gy(t,e,n+1);Ki(Gi(s,Tf(t,e,n+1)),r)}return eu(e,null,n,r),new V(r)}function ND(t,e){let n=e.depth-t.openStart,r=e.node(n).copy(t.content);for(let s=n-1;s>=0;s--)r=e.node(s).copy(V.from(r));return{start:r.resolveNoCache(t.openStart+n),end:r.resolveNoCache(r.content.size-t.openEnd-n)}}class Nu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],s=e.child(n);return r?e.child(n).cut(r):s}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],s=n==0?0:this.path[n*3-1]+1;for(let i=0;i<e;i++)s+=r.child(i).nodeSize;return s}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Me.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),s=e.maybeChild(n);if(!r){let u=r;r=s,s=u}let i=r.marks;for(var l=0;l<i.length;l++)i[l].type.spec.inclusive===!1&&(!s||!i[l].isInSet(s.marks))&&(i=i[l--].removeFromSet(i));return i}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<r.length;i++)r[i].type.spec.inclusive===!1&&(!s||!r[i].isInSet(s.marks))&&(r=r[i--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new Nf(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],s=0,i=n;for(let l=e;;){let{index:u,offset:d}=l.content.findIndex(i),f=i-d;if(r.push(l,u,s+d),!f||(l=l.child(u),l.isText))break;i=f-1,s+=d+1}return new Nu(n,r,i)}static resolveCached(e,n){for(let s=0;s<kg.length;s++){let i=kg[s];if(i.pos==n&&i.doc==e)return i}let r=kg[wg]=Nu.resolve(e,n);return wg=(wg+1)%CD,r}}let kg=[],wg=0,CD=12;class Nf{constructor(e,n,r){this.\$from=e,this.\$to=n,this.depth=r}get start(){return this.\$from.before(this.depth+1)}get end(){return this.\$to.after(this.depth+1)}get parent(){return this.\$from.node(this.depth)}get startIndex(){return this.\$from.index(this.depth)}get endIndex(){return this.\$to.indexAfter(this.depth)}}const OD=Object.create(null);let Yi=class Yy{constructor(e,n,r,s=Me.none){this.type=e,this.attrs=n,this.marks=s,this.content=r||V.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,s=0){this.content.nodesBetween(e,n,r,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,s){return this.content.textBetween(e,n,r,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Ef(this.attrs,n||e.defaultAttrs||OD)&&Me.sameSet(this.marks,r||Me.none)}copy(e=null){return e==this.content?this:new Yy(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Yy(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return G.empty;let s=this.resolve(e),i=this.resolve(n),l=r?0:s.sharedDepth(n),u=s.start(l),d=s.node(l).content.cut(s.pos-u,i.pos-u);return new G(d,s.depth-l,i.depth-l)}replace(e,n,r){return TD(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:s}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(s==e||n.isText)return n;e-=s+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let s=this.content.child(n-1);return{node:s,index:n-1,offset:r-s.nodeSize}}resolve(e){return Nu.resolveCached(this,e)}resolveNoCache(e){return Nu.resolve(this,e)}rangeHasMark(e,n,r){let s=!1;return n>e&&this.nodesBetween(e,n,i=>(r.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),BT(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=V.empty,s=0,i=r.childCount){let l=this.contentMatchAt(e).matchFragment(r,s,i),u=l&&l.matchFragment(this.content,n);if(!u||!u.validEnd)return!1;for(let d=s;d<i;d++)if(!this.type.allowsMarks(r.child(d).marks))return!1;return!0}canReplaceWith(e,n,r,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(r),l=i&&i.matchFragment(this.content,n);return l?l.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Me.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Me.sameSet(e,this.marks))throw new RangeError(\`Invalid collection of marks for node \${this.type.name}: \${this.marks.map(n=>n.type.name)}\`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let s=V.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,s,r)}};Yi.prototype.text=void 0;class Cf extends Yi{constructor(e,n,r,s){if(super(e,n,null,s),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):BT(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Cf(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Cf(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function BT(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class oo{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new ID(e,n);if(r.next==null)return oo.empty;let s=\$T(r);r.next&&r.err("Unexpected trailing text");let i=BD(RD(s));return \$D(i,r),i}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let s=this;for(let i=n;s&&i<r;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let s=[this];function i(l,u){let d=l.matchFragment(e,r);if(d&&(!n||d.validEnd))return V.from(u.map(f=>f.createAndFill()));for(let f=0;f<l.next.length;f++){let{type:p,next:m}=l.next[f];if(!(p.isText||p.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let y=i(m,u.concat(p));if(y)return y}}return null}return i(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let s=r.shift(),i=s.match;if(i.matchType(e)){let l=[];for(let u=s;u.type;u=u.via)l.push(u.type);return l.reverse()}for(let l=0;l<i.next.length;l++){let{type:u,next:d}=i.next[l];!u.isLeaf&&!u.hasRequiredAttrs()&&!(u.name in n)&&(!s.type||d.validEnd)&&(r.push({match:u.contentMatch,type:u,via:s}),n[u.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(\`There's no \${e}th edge in this content match\`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let s=0;s<r.next.length;s++)e.indexOf(r.next[s].next)==-1&&n(r.next[s].next)}return n(this),e.map((r,s)=>{let i=s+(r.validEnd?"*":" ")+" ";for(let l=0;l<r.next.length;l++)i+=(l?", ":"")+r.next[l].type.name+"->"+e.indexOf(r.next[l].next);return i}).join(\`
\`)}}oo.empty=new oo(!0);class ID{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|\$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function \$T(t){let e=[];do e.push(AD(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function AD(t){let e=[];do e.push(PD(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function PD(t){let e=zD(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=DD(t,e);else break;return e}function Eb(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function DD(t,e){let n=Eb(t),r=n;return t.eat(",")&&(t.next!="}"?r=Eb(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function LD(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let s=[];for(let i in n){let l=n[i];l.groups.indexOf(e)>-1&&s.push(l)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function zD(t){if(t.eat("(")){let e=\$T(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=LD(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function RD(t){let e=[[]];return s(i(t,0),n()),e;function n(){return e.push([])-1}function r(l,u,d){let f={term:d,to:u};return e[l].push(f),f}function s(l,u){l.forEach(d=>d.to=u)}function i(l,u){if(l.type=="choice")return l.exprs.reduce((d,f)=>d.concat(i(f,u)),[]);if(l.type=="seq")for(let d=0;;d++){let f=i(l.exprs[d],u);if(d==l.exprs.length-1)return f;s(f,u=n())}else if(l.type=="star"){let d=n();return r(u,d),s(i(l.expr,d),d),[r(d)]}else if(l.type=="plus"){let d=n();return s(i(l.expr,u),d),s(i(l.expr,d),d),[r(d)]}else{if(l.type=="opt")return[r(u)].concat(i(l.expr,u));if(l.type=="range"){let d=u;for(let f=0;f<l.min;f++){let p=n();s(i(l.expr,d),p),d=p}if(l.max==-1)s(i(l.expr,d),d);else for(let f=l.min;f<l.max;f++){let p=n();r(d,p),s(i(l.expr,d),p),d=p}return[r(d)]}else{if(l.type=="name")return[r(u,void 0,l.value)];throw new Error("Unknown expr type")}}}}function FT(t,e){return e-t}function Mb(t,e){let n=[];return r(e),n.sort(FT);function r(s){let i=t[s];if(i.length==1&&!i[0].term)return r(i[0].to);n.push(s);for(let l=0;l<i.length;l++){let{term:u,to:d}=i[l];!u&&n.indexOf(d)==-1&&r(d)}}}function BD(t){let e=Object.create(null);return n(Mb(t,0));function n(r){let s=[];r.forEach(l=>{t[l].forEach(({term:u,to:d})=>{if(!u)return;let f;for(let p=0;p<s.length;p++)s[p][0]==u&&(f=s[p][1]);Mb(t,d).forEach(p=>{f||s.push([u,f=[]]),f.indexOf(p)==-1&&f.push(p)})})});let i=e[r.join(",")]=new oo(r.indexOf(t.length-1)>-1);for(let l=0;l<s.length;l++){let u=s[l][1].sort(FT);i.next.push({type:s[l][0],next:e[u.join(",")]||n(u)})}return i}}function \$D(t,e){for(let n=0,r=[t];n<r.length;n++){let s=r[n],i=!s.validEnd,l=[];for(let u=0;u<s.next.length;u++){let{type:d,next:f}=s.next[u];l.push(d.name),i&&!(d.isText||d.hasRequiredAttrs())&&(i=!1),r.indexOf(f)==-1&&r.push(f)}i&&e.err("Only non-generatable nodes ("+l.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function _T(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function HT(t,e){let n=Object.create(null);for(let r in t){let s=e&&e[r];if(s===void 0){let i=t[r];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=s}return n}function VT(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new FD(t[n]);return e}let Tb=class jT{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=VT(r.attrs),this.defaultAttrs=_T(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==oo.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:HT(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Yi(this,this.computeAttrs(e),V.from(n),Me.setFrom(r))}createChecked(e=null,n,r){return n=V.from(n),this.checkContent(n),new Yi(this,this.computeAttrs(e),n,Me.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=V.from(n),n.size){let l=this.contentMatch.fillBefore(n);if(!l)return null;n=l.append(n)}let s=this.contentMatch.matchFragment(n),i=s&&s.fillBefore(V.empty,!0);return i?new Yi(this,e,n.append(i),Me.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(\`Invalid content for node \${this.name}: \${e.toString().slice(0,50)}\`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Me.none:e}static compile(e,n){let r=Object.create(null);e.forEach((i,l)=>r[i]=new jT(i,n,l));let s=n.spec.topNode||"doc";if(!r[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let i in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class FD{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Rh{constructor(e,n,r,s){this.name=e,this.rank=n,this.schema=r,this.spec=s,this.attrs=VT(s.attrs),this.excluded=null;let i=_T(this.attrs);this.instance=i?new Me(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Me(this,HT(this.attrs,e))}static compile(e,n){let r=Object.create(null),s=0;return e.forEach((i,l)=>r[i]=new Rh(i,s++,n,l)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class _D{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let s in e)n[s]=e[s];n.nodes=Et.from(e.nodes),n.marks=Et.from(e.marks||{}),this.nodes=Tb.compile(this.spec.nodes,this),this.marks=Rh.compile(this.spec.marks,this);let r=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],l=i.spec.content||"",u=i.spec.marks;i.contentMatch=r[l]||(r[l]=oo.parse(l,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=u=="_"?null:u?Nb(this,u.split(" ")):u==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],l=i.spec.excludes;i.excluded=l==null?[i]:l==""?[]:Nb(this,l.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Tb){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,s)}text(e,n){let r=this.nodes.text;return new Cf(r,r.defaultAttrs,e,Me.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Yi.fromJSON(this,e)}markFromJSON(e){return Me.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function Nb(t,e){let n=[];for(let r=0;r<e.length;r++){let s=e[r],i=t.marks[s],l=i;if(i)n.push(i);else for(let u in t.marks){let d=t.marks[u];(s=="_"||d.spec.group&&d.spec.group.split(" ").indexOf(s)>-1)&&n.push(l=d)}if(!l)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let Ev=class Xy{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new Ob(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new Ob(this,n,!0);return r.addAll(e,n.from,n.to),G.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(jD(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Ib(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Ib(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Xy(e,Xy.schemaRules(e)))}};const WT={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},HD={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},UT={ol:!0,ul:!0},Of=1,If=2,tu=4;function Cb(t,e,n){return e!=null?(e?Of:0)|(e==="full"?If:0):t&&t.whitespace=="pre"?Of|If:n&~tu}class Sd{constructor(e,n,r,s,i,l,u){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=u,this.content=[],this.activeMarks=Me.none,this.stashMarks=[],this.match=l||(u&tu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(V.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Of)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+\$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=V.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(V.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):UD(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!WT.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Ob{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,l=Cb(null,n.preserveWhitespace,0)|(r?tu:0);s?i=new Sd(s.type,s.attrs,Me.none,Me.none,!0,n.topMatch||s.type.contentMatch,l):r?i=new Sd(null,null,Me.none,Me.none,!0,null,l):i=new Sd(e.schema.topNodeType,null,Me.none,Me.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(WD(r));if(!s)return;let[i,l]=s,u=this.top;for(let d=0;d<l.length;d++)this.removePendingMark(l[d],u);for(let d=0;d<i.length;d++)this.addPendingMark(i[d]);n();for(let d=0;d<i.length;d++)this.removePendingMark(i[d],u);for(let d=0;d<l.length;d++)this.addPendingMark(l[d])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&If||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Of)r.options&If?n=n.replace(/\r\n?/g,\`
\`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]\$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;UT.hasOwnProperty(r)&&this.parser.normalizeLists&&VD(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:HD.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let l,u=this.top,d=this.needsBlock;if(WT.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),l=!0,u.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(u),this.needsBlock=d}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(\`
\`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Me.none,r=Me.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let l=this.parser.matchStyle(e[s],e[s+1],this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)i=l;else break}return[n,r]}addElementByRule(e,n,r){let s,i,l;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let u=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d)}s&&this.sync(u)&&this.open--,l&&this.removePendingMark(l,u)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];i!=l;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],l=i.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=i,!l.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let l=Cb(e,s,i.options);i.options&tu&&i.content.length==0&&(l|=tu),this.nodes.push(new Sd(e,n,i.activeMarks,i.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),l=(u,d)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;d>=i;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&p.groups.indexOf(f)==-1)return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=JD(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let i=s.popFromStashMark(e);i&&s.type&&s.type.allowsMarkType(i.type)&&(s.activeMarks=i.addToSet(s.activeMarks))}if(s==n)break}}}function VD(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&UT.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function jD(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function WD(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Ib(t){let e={};for(let n in t)e[n]=t[n];return e}function UD(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==e||i.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}function JD(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Lr{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Sg(n).createDocumentFragment());let s=r,i=[];return e.forEach(l=>{if(i.length||l.marks.length){let u=0,d=0;for(;u<i.length&&d<l.marks.length;){let f=l.marks[d];if(!this.marks[f.type.name]){d++;continue}if(!f.eq(i[u][0])||f.type.spec.spanning===!1)break;u++,d++}for(;u<i.length;)s=i.pop()[1];for(;d<l.marks.length;){let f=l.marks[d++],p=this.serializeMark(f,l.isInline,n);p&&(i.push([f,s]),s.appendChild(p.dom),s=p.contentDOM||p.dom)}}s.appendChild(this.serializeNodeInner(l,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:s}=Lr.renderSpec(Sg(n),this.nodes[e.type.name](e));if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,s)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,n);i&&((i.contentDOM||i.dom).appendChild(r),r=i.dom)}return r}serializeMark(e,n,r={}){let s=this.marks[e.type.name];return s&&Lr.renderSpec(Sg(r),s(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let s=n[0],i=s.indexOf(" ");i>0&&(r=s.slice(0,i),s=s.slice(i+1));let l,u=r?e.createElementNS(r,s):e.createElement(s),d=n[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let p in d)if(d[p]!=null){let m=p.indexOf(" ");m>0?u.setAttributeNS(p.slice(0,m),p.slice(m+1),d[p]):u.setAttribute(p,d[p])}}for(let p=f;p<n.length;p++){let m=n[p];if(m===0){if(p<n.length-1||p>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:u,contentDOM:u}}else{let{dom:y,contentDOM:k}=Lr.renderSpec(e,m,r);if(u.appendChild(y),k){if(l)throw new RangeError("Multiple content holes");l=k}}}return{dom:u,contentDOM:l}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Lr(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=Ab(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return Ab(e.marks)}}function Ab(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Sg(t){return t.document||window.document}const JT=65535,QT=Math.pow(2,16);function QD(t,e){return t+e*QT}function Pb(t){return t&JT}function qD(t){return(t-(t&JT))/QT}const qT=1,KT=2,Wd=4,GT=8;class Zy{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&GT)>0}get deletedBefore(){return(this.delInfo&(qT|Wd))>0}get deletedAfter(){return(this.delInfo&(KT|Wd))>0}get deletedAcross(){return(this.delInfo&Wd)>0}}class Mn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Mn.empty)return Mn.empty}recover(e){let n=0,r=Pb(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+qD(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[u+i],p=this.ranges[u+l],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,k=d+s+(y<0?0:p);if(r)return k;let w=e==(n<0?d:m)?null:QD(u/3,e-d),b=e==d?KT:e==m?qT:Wd;return(n<0?e!=d:e!=m)&&(b|=GT),new Zy(k,b,w)}s+=p-f}return r?e+s:new Zy(e+s,0,null)}touches(e,n){let r=0,s=Pb(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[u+i],p=d+f;if(e<=p&&u==s*3)return!0;r+=this.ranges[u+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let l=this.ranges[s],u=l-(this.inverted?i:0),d=l+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(u,u+f,d,d+p),i+=p-f}}invert(){return new Mn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Mn.empty:new Mn(e<0?[0,-e,0]:[0,0,e])}}Mn.empty=new Mn([]);class pl{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new pl(this.maps,this.mirror,e,n)}copy(){return new pl(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new pl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let l=this.maps[i],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this.maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new Zy(e,s,null)}}const bg=Object.create(null);class Ht{getMap(){return Mn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=bg[n.stepType];if(!r)throw new RangeError(\`No step type \${n.stepType} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in bg)throw new RangeError("Duplicate use of step JSON ID "+e);return bg[e]=n,n.prototype.jsonID=e,n}}class tt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new tt(e,null)}static fail(e){return new tt(null,e)}static fromReplace(e,n,r,s){try{return tt.ok(e.replace(n,r,s))}catch(i){if(i instanceof Mf)return tt.fail(i.message);throw i}}}function Mv(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Mv(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return V.fromArray(r)}class Qs extends Ht{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new G(Mv(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,i)}invert(){return new zr(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Qs(n.pos,r.pos,this.mark)}merge(e){return e instanceof Qs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Qs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Qs(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("addMark",Qs);class zr extends Ht{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new G(Mv(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return tt.fromReplace(e,this.from,this.to,r)}invert(){return new Qs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new zr(n.pos,r.pos,this.mark)}merge(e){return e instanceof zr&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new zr(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new zr(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("removeMark",zr);class qs extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new G(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new qs(this.pos,n.marks[s]);return new qs(this.pos,this.mark)}}return new Tl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new qs(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new qs(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("addNodeMark",qs);class Tl extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return tt.fromReplace(e,this.pos,this.pos+1,new G(V.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new qs(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Tl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Tl(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("removeNodeMark",Tl);class Mt extends Ht{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&e0(e,this.from,this.to)?tt.fail("Structure replace would overwrite content"):tt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Mn([this.from,this.to-this.from,this.slice.size])}invert(e){return new Mt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Mt(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Mt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?G.empty:new G(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Mt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?G.empty:new G(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Mt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Mt(n.from,n.to,G.fromJSON(e,n.slice),!!n.structure)}}Ht.jsonID("replace",Mt);class gt extends Ht{constructor(e,n,r,s,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(e0(e,this.from,this.gapFrom)||e0(e,this.gapTo,this.to)))return tt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return tt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?tt.fromReplace(e,this.from,this.to,r):tt.fail("Content does not fit in gap")}getMap(){return new Mn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new gt(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=e.map(this.gapFrom,-1),i=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new gt(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new gt(n.from,n.to,n.gapFrom,n.gapTo,G.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ht.jsonID("replaceAround",gt);function e0(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function KD(t,e,n,r){let s=[],i=[],l,u;t.doc.nodesBetween(e,n,(d,f,p)=>{if(!d.isInline)return;let m=d.marks;if(!r.isInSet(m)&&p.type.allowsMarkType(r.type)){let y=Math.max(f,e),k=Math.min(f+d.nodeSize,n),w=r.addToSet(m);for(let b=0;b<m.length;b++)m[b].isInSet(w)||(l&&l.to==y&&l.mark.eq(m[b])?l.to=k:s.push(l=new zr(y,k,m[b])));u&&u.to==y?u.to=k:i.push(u=new Qs(y,k,r))}}),s.forEach(d=>t.step(d)),i.forEach(d=>t.step(d))}function GD(t,e,n,r){let s=[],i=0;t.doc.nodesBetween(e,n,(l,u)=>{if(!l.isInline)return;i++;let d=null;if(r instanceof Rh){let f=l.marks,p;for(;p=r.isInSet(f);)(d||(d=[])).push(p),f=p.removeFromSet(f)}else r?r.isInSet(l.marks)&&(d=[r]):d=l.marks;if(d&&d.length){let f=Math.min(u+l.nodeSize,n);for(let p=0;p<d.length;p++){let m=d[p],y;for(let k=0;k<s.length;k++){let w=s[k];w.step==i-1&&m.eq(s[k].style)&&(y=w)}y?(y.to=f,y.step=i):s.push({style:m,from:Math.max(u,e),to:f,step:i})}}}),s.forEach(l=>t.step(new zr(l.from,l.to,l.style)))}function YD(t,e,n,r=n.contentMatch){let s=t.doc.nodeAt(e),i=[],l=e+1;for(let u=0;u<s.childCount;u++){let d=s.child(u),f=l+d.nodeSize,p=r.matchType(d.type);if(!p)i.push(new Mt(l,f,G.empty));else{r=p;for(let m=0;m<d.marks.length;m++)n.allowsMarkType(d.marks[m].type)||t.step(new zr(l,f,d.marks[m]));if(d.isText&&!n.spec.code){let m,y=/\r?\n|\r/g,k;for(;m=y.exec(d.text);)k||(k=new G(V.from(n.schema.text(" ",n.allowedMarks(d.marks))),0,0)),i.push(new Mt(l+m.index,l+m.index+m[0].length,k))}}l=f}if(!r.validEnd){let u=r.fillBefore(V.empty,!0);t.replace(l,l,new G(u,0,0))}for(let u=i.length-1;u>=0;u--)t.step(i[u])}function XD(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function \$l(t){let e=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let r=t.\$from.node(n),s=t.\$from.index(n),i=t.\$to.indexAfter(n);if(n<t.depth&&r.canReplace(s,i,e))return n;if(n==0||r.type.spec.isolating||!XD(r,s,i))break}return null}function ZD(t,e,n){let{\$from:r,\$to:s,depth:i}=e,l=r.before(i+1),u=s.after(i+1),d=l,f=u,p=V.empty,m=0;for(let w=i,b=!1;w>n;w--)b||r.index(w)>0?(b=!0,p=V.from(r.node(w).copy(p)),m++):d--;let y=V.empty,k=0;for(let w=i,b=!1;w>n;w--)b||s.after(w+1)<s.end(w)?(b=!0,y=V.from(s.node(w).copy(y)),k++):f++;t.step(new gt(d,f,l,u,new G(p.append(y),m,k),p.size-m,!0))}function Tv(t,e,n=null,r=t){let s=e4(t,e),i=s&&t4(r,e);return i?s.map(Db).concat({type:e,attrs:n}).concat(i.map(Db)):null}function Db(t){return{type:t,attrs:null}}function e4(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,s,l)?i:null}function t4(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let u=(l.length?l[l.length-1]:e).contentMatch;for(let d=r;u&&d<s;d++)u=u.matchType(n.child(d).type);return!u||!u.validEnd?null:l}function n4(t,e,n){let r=V.empty;for(let l=n.length-1;l>=0;l--){if(r.size){let u=n[l].type.contentMatch.matchFragment(r);if(!u||!u.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=V.from(n[l].type.create(n[l].attrs,r))}let s=e.start,i=e.end;t.step(new gt(s,i,s,i,new G(r,0,0),n.length,!0))}function r4(t,e,n,r,s){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,n,(l,u)=>{if(l.isTextblock&&!l.hasMarkup(r,s)&&s4(t.doc,t.mapping.slice(i).map(u),r)){t.clearIncompatible(t.mapping.slice(i).map(u,1),r);let d=t.mapping.slice(i),f=d.map(u,1),p=d.map(u+l.nodeSize,1);return t.step(new gt(f,p,f+1,p-1,new G(V.from(r.create(s,null,l.marks)),0,0),1,!0)),!1}})}function s4(t,e,n){let r=t.resolve(e),s=r.index();return r.parent.canReplaceWith(s,s+1,n)}function i4(t,e,n,r,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");n||(n=i.type);let l=n.create(r,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,l);if(!n.validContent(i.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new gt(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new G(V.from(l),0,0),1,!0))}function ml(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,l=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let k=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(k=k.replaceChild(0,w.type.create(w.attrs)));let b=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(k))return!1}let u=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(u,u,d?d.type:s.node(i+1).type)}function o4(t,e,n=1,r){let s=t.doc.resolve(e),i=V.empty,l=V.empty;for(let u=s.depth,d=s.depth-n,f=n-1;u>d;u--,f--){i=V.from(s.node(u).copy(i));let p=r&&r[f];l=V.from(p?p.type.create(p.attrs,l):s.node(u).copy(l))}t.step(new Mt(e,e,new G(i.append(l),n,n),!0))}function gi(t,e){let n=t.resolve(e),r=n.index();return YT(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function YT(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Bh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,l,u=r.index(s);if(s==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(s+1),u++,l=r.node(s).maybeChild(u)):(i=r.node(s).maybeChild(u-1),l=r.node(s+1)),i&&!i.isTextblock&&YT(i,l)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function l4(t,e,n){let r=new Mt(e-n,e+n,G.empty,!0);t.step(r)}function a4(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let s=r.depth-1;s>=0;s--){let i=r.index(s);if(r.node(s).canReplaceWith(i,i,n))return r.before(s+1);if(i>0)return null}if(r.parentOffset==r.parent.content.size)for(let s=r.depth-1;s>=0;s--){let i=r.indexAfter(s);if(r.node(s).canReplaceWith(i,i,n))return r.after(s+1);if(i<r.node(s).childCount)return null}return null}function XT(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let s=n.content;for(let i=0;i<n.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(n.openStart==0&&n.size?2:1);i++)for(let l=r.depth;l>=0;l--){let u=l==r.depth?0:r.pos<=(r.start(l+1)+r.end(l+1))/2?-1:1,d=r.index(l)+(u>0?1:0),f=r.node(l),p=!1;if(i==1)p=f.canReplace(d,d,s);else{let m=f.contentMatchAt(d).findWrapping(s.firstChild.type);p=m&&f.canReplaceWith(d,d,m[0])}if(p)return u==0?r.pos:u<0?r.before(l+1):r.after(l+1)}return null}function Nv(t,e,n=e,r=G.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return ZT(s,i,r)?new Mt(e,n,r):new u4(s,i,r).fit()}function ZT(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class u4{constructor(e,n,r){this.\$from=e,this.\$to=n,this.unplaced=r,this.frontier=[],this.placed=V.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=V.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.\$from.depth,r=this.\$from,s=this.close(e<0?this.\$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,l=r.depth,u=s.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let d=new G(i,l,u);return e>-1?new gt(r.pos,e,this.\$to.pos,this.\$to.end(),d,n):d.size||r.pos!=this.\$to.pos?new Mt(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=xg(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let l=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(V.from(l),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=xg(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new G(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=xg(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new G(_a(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new G(_a(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let b=0;b<s.childCount;b++)p.push(s.child(b));m=m.matchFragment(s)}let k=u.size+e-(l.content.size-l.openEnd);for(;f<u.childCount;){let b=u.child(f),T=m.matchType(b.type);if(!T)break;f++,(f>1||d==0||b.content.size)&&(m=T,p.push(eN(b.mark(y.allowedMarks(b.marks)),f==1?d:0,f==u.childCount?k:-1)))}let w=f==u.childCount;w||(k=-1),this.placed=Ha(this.placed,n,V.from(p)),this.frontier[n].match=m,w&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,T=u;b<k;b++){let x=T.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),T=x.content}this.unplaced=w?e==0?G.empty:new G(_a(l.content,e-1,1),e-1,k<0?l.openEnd:e-1):new G(_a(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.\$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Eg(this.\$to,this.\$to.depth,e.type,e.match,!1)||this.\$to.depth==this.depth&&(n=this.findCloseLevel(this.\$to))&&n.depth==this.depth)return-1;let{depth:r}=this.\$to,s=this.\$to.after(r);for(;r>1&&s==this.\$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=Eg(e,n,s,r,i);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=Eg(e,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Ha(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Ha(this.placed,this.depth,V.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let e=this.frontier.pop().match.fillBefore(V.empty,!0);e.childCount&&(this.placed=Ha(this.placed,this.frontier.length,e))}}function _a(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(_a(t.firstChild.content,e-1,n)))}function Ha(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Ha(t.lastChild.content,e-1,n)))}function xg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function eN(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,eN(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(V.empty,!0)))),t.copy(r)}function Eg(t,e,n,r,s){let i=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=r.fillBefore(i.content,!0,l);return u&&!c4(n,i.content,l)?u:null}function c4(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function d4(t){return t.spec.defining||t.spec.definingForContent}function f4(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let s=t.doc.resolve(e),i=t.doc.resolve(n);if(ZT(s,i,r))return t.step(new Mt(e,n,r));let l=nN(s,t.doc.resolve(n));l[l.length-1]==0&&l.pop();let u=-(s.depth+1);l.unshift(u);for(let y=s.depth,k=s.pos-1;y>0;y--,k--){let w=s.node(y).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;l.indexOf(y)>-1?u=y:s.before(y)==k&&l.splice(1,0,-y)}let d=l.indexOf(u),f=[],p=r.openStart;for(let y=r.content,k=0;;k++){let w=y.firstChild;if(f.push(w),k==r.openStart)break;y=w.content}for(let y=p-1;y>=0;y--){let k=f[y],w=d4(k.type);if(w&&!k.sameMarkup(s.node(Math.abs(u)-1)))p=y;else if(w||!k.type.isTextblock)break}for(let y=r.openStart;y>=0;y--){let k=(y+p+1)%(r.openStart+1),w=f[k];if(w)for(let b=0;b<l.length;b++){let T=l[(b+d)%l.length],x=!0;T<0&&(x=!1,T=-T);let E=s.node(T-1),N=s.index(T-1);if(E.canReplaceWith(N,N,w.type,w.marks))return t.replace(s.before(T),x?i.after(T):n,new G(tN(r.content,0,r.openStart,k),k,r.openEnd))}}let m=t.steps.length;for(let y=l.length-1;y>=0&&(t.replace(e,n,r),!(t.steps.length>m));y--){let k=l[y];k<0||(e=s.before(k),n=i.after(k))}}function tN(t,e,n,r,s){if(e<n){let i=t.firstChild;t=t.replaceChild(0,i.copy(tN(i.content,e+1,n,r,i)))}if(e>r){let i=s.contentMatchAt(0),l=i.fillBefore(t).append(t);t=l.append(i.matchFragment(l).fillBefore(V.empty,!0))}return t}function h4(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let s=a4(t.doc,e,r.type);s!=null&&(e=n=s)}t.replaceRange(e,n,new G(V.from(r),0,0))}function p4(t,e,n){let r=t.doc.resolve(e),s=t.doc.resolve(n),i=nN(r,s);for(let l=0;l<i.length;l++){let u=i[l],d=l==i.length-1;if(d&&u==0||r.node(u).type.contentMatch.validEnd)return t.delete(r.start(u),s.end(u));if(u>0&&(d||r.node(u-1).canReplace(r.index(u-1),s.indexAfter(u-1))))return t.delete(r.before(u),s.after(u))}for(let l=1;l<=r.depth&&l<=s.depth;l++)if(e-r.start(l)==r.depth-l&&n>r.end(l)&&s.end(l)-n!=s.depth-l)return t.delete(r.before(l),n);t.delete(e,n)}function nN(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let s=r;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&n.push(s)}return n}class gl extends Ht{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return tt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return tt.fromReplace(e,this.pos,this.pos+1,new G(V.from(s),0,n.isLeaf?0:1))}getMap(){return Mn.empty}invert(e){return new gl(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new gl(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new gl(n.pos,n.attr,n.value)}}Ht.jsonID("attr",gl);class Cu extends Ht{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return tt.ok(r)}getMap(){return Mn.empty}invert(e){return new Cu(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Cu(n.attr,n.value)}}Ht.jsonID("docAttr",Cu);let Nl=class extends Error{};Nl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Nl.prototype=Object.create(Error.prototype);Nl.prototype.constructor=Nl;Nl.prototype.name="TransformError";class rN{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new pl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Nl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=G.empty){let s=Nv(this.doc,e,n,r);return s&&this.step(s),this}replaceWith(e,n,r){return this.replace(e,n,new G(V.from(r),0,0))}delete(e,n){return this.replace(e,n,G.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return f4(this,e,n,r),this}replaceRangeWith(e,n,r){return h4(this,e,n,r),this}deleteRange(e,n){return p4(this,e,n),this}lift(e,n){return ZD(this,e,n),this}join(e,n=1){return l4(this,e,n),this}wrap(e,n){return n4(this,e,n),this}setBlockType(e,n=e,r,s=null){return r4(this,e,n,r,s),this}setNodeMarkup(e,n,r=null,s){return i4(this,e,n,r,s),this}setNodeAttribute(e,n,r){return this.step(new gl(e,n,r)),this}setDocAttribute(e,n){return this.step(new Cu(e,n)),this}addNodeMark(e,n){return this.step(new qs(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Me)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new Tl(e,n)),this}split(e,n=1,r){return o4(this,e,n,r),this}addMark(e,n,r){return KD(this,e,n,r),this}removeMark(e,n,r){return GD(this,e,n,r),this}clearIncompatible(e,n,r){return YD(this,e,n,r),this}}const Mg=Object.create(null);class pe{constructor(e,n,r){this.\$anchor=e,this.\$head=n,this.ranges=r||[new m4(e.min(n),e.max(n))]}get anchor(){return this.\$anchor.pos}get head(){return this.\$head.pos}get from(){return this.\$from.pos}get to(){return this.\$to.pos}get \$from(){return this.ranges[0].\$from}get \$to(){return this.ranges[0].\$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].\$from.pos!=e[n].\$to.pos)return!1;return!0}content(){return this.\$from.doc.slice(this.from,this.to,!0)}replace(e,n=G.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{\$from:d,\$to:f}=l[u],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),u?G.empty:n),u==0&&Rb(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{\$from:l,\$to:u}=s[i],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(u.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),Rb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new me(e):Wo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let l=n<0?Wo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Wo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new yr(e.node(0))}static atStart(e){return Wo(e,e,0,0,1)||new yr(e)}static atEnd(e){return Wo(e,e,e.content.size,e.childCount,-1)||new yr(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Mg[n.type];if(!r)throw new RangeError(\`No selection type \${n.type} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Mg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Mg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return me.between(this.\$anchor,this.\$head).getBookmark()}}pe.prototype.visible=!0;class m4{constructor(e,n){this.\$from=e,this.\$to=n}}let Lb=!1;function zb(t){!Lb&&!t.parent.inlineContent&&(Lb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class me extends pe{constructor(e,n=e){zb(e),zb(n),super(e,n)}get \$cursor(){return this.\$anchor.pos==this.\$head.pos?this.\$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return pe.near(r);let s=e.resolve(n.map(this.anchor));return new me(s.parent.inlineContent?s:r,r)}replace(e,n=G.empty){if(super.replace(e,n),n==G.empty){let r=this.\$from.marksAcross(this.\$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof me&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new \$h(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new me(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=pe.findFrom(n,r,!0)||pe.findFrom(n,-r,!0);if(i)n=i.\$head;else return pe.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(pe.findFrom(e,-r,!0)||pe.findFrom(e,r,!0)).\$anchor,e.pos<n.pos!=s<0&&(e=n))),new me(e,n)}}pe.jsonID("text",me);class \$h{constructor(e,n){this.anchor=e,this.head=n}map(e){return new \$h(e.map(this.anchor),e.map(this.head))}resolve(e){return me.between(e.resolve(this.anchor),e.resolve(this.head))}}class le extends pe{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?pe.near(i):new le(i)}content(){return new G(V.from(this.node),0,0)}eq(e){return e instanceof le&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Cv(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new le(e.resolve(n.anchor))}static create(e,n){return new le(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}le.prototype.visible=!1;pe.jsonID("node",le);class Cv{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new \$h(r,r):new Cv(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&le.isSelectable(r)?new le(n):pe.near(n)}}class yr extends pe{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=G.empty){if(n==G.empty){e.delete(0,e.doc.content.size);let r=pe.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new yr(e)}map(e){return new yr(e)}eq(e){return e instanceof yr}getBookmark(){return g4}}pe.jsonID("all",yr);const g4={map(){return this},resolve(t){return new yr(t)}};function Wo(t,e,n,r,s,i=!1){if(e.inlineContent)return me.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let u=e.child(l);if(u.isAtom){if(!i&&le.isSelectable(u))return le.create(t,n-(s<0?u.nodeSize:0))}else{let d=Wo(t,u,n+s,s<0?u.childCount:0,s,i);if(d)return d}n+=u.nodeSize*s}return null}function Rb(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof Mt||s instanceof gt))return;let i=t.mapping.maps[r],l;i.forEach((u,d,f,p)=>{l==null&&(l=p)}),t.setSelection(pe.near(t.doc.resolve(l),n))}const Bb=1,bd=2,\$b=4;class y4 extends rN{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.\$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Bb)&~bd,this.storedMarks=null,this}get selectionSet(){return(this.updated&Bb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=bd,this}ensureMarks(e){return Me.sameSet(this.storedMarks||this.selection.\$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.\$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.\$head.marks()))}get storedMarksSet(){return(this.updated&bd)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~bd,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.\$from.marks():r.\$from.marksAcross(r.\$to)||Me.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let s=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let i=this.storedMarks;if(!i){let l=this.doc.resolve(n);i=r==n?l.marks():l.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,s.text(e,i)),this.selection.empty||this.setSelection(pe.near(this.selection.\$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=\$b,this}get scrolledIntoView(){return(this.updated&\$b)>0}}function Fb(t,e){return!e||!t?t:t.bind(e)}class Va{constructor(e,n,r){this.name=e,this.init=Fb(n.init,r),this.apply=Fb(n.apply,r)}}const v4=[new Va("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Va("selection",{init(t,e){return t.selection||pe.atStart(e.doc)},apply(t){return t.selection}}),new Va("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.\$cursor?t.storedMarks:null}}),new Va("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Tg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=v4.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new Va(r.key,r.spec.state,r))})}}class ol{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let s=this.config.plugins[r];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),s=null;for(;;){let i=!1;for(let l=0;l<this.config.plugins.length;l++){let u=this.config.plugins[l];if(u.spec.appendTransaction){let d=s?s[l].n:0,f=s?s[l].state:this,p=d<n.length&&u.spec.appendTransaction.call(u,d?n.slice(d):n,f,r);if(p&&r.filterTransaction(p,l)){if(p.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<l?{state:r,n:n.length}:{state:this,n:0})}n.push(p),r=r.applyInner(p),i=!0}s&&(s[l]={state:r,n:n.length})}}if(!i)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new ol(this.config),r=this.config.fields;for(let s=0;s<r.length;s++){let i=r[s];n[i.name]=i.apply(e,this[i.name],this,n)}return n}get tr(){return new y4(this)}static create(e){let n=new Tg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new ol(n);for(let s=0;s<n.fields.length;s++)r[n.fields[s].name]=n.fields[s].init(e,r);return r}reconfigure(e){let n=new Tg(this.schema,e.plugins),r=n.fields,s=new ol(n);for(let i=0;i<r.length;i++){let l=r[i].name;s[l]=this.hasOwnProperty(l)?this[l]:r[i].init(e,s)}return s}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields \`doc\` and \`selection\` are reserved");let s=e[r],i=s.spec.state;i&&i.toJSON&&(n[r]=i.toJSON.call(s,this[s.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new Tg(e.schema,e.plugins),i=new ol(s);return s.fields.forEach(l=>{if(l.name=="doc")i.doc=Yi.fromJSON(e.schema,n.doc);else if(l.name=="selection")i.selection=pe.fromJSON(i.doc,n.selection);else if(l.name=="storedMarks")n.storedMarks&&(i.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let u in r){let d=r[u],f=d.spec.state;if(d.key==l.name&&f&&f.fromJSON&&Object.prototype.hasOwnProperty.call(n,u)){i[l.name]=f.fromJSON.call(d,e,n[u],i);return}}i[l.name]=l.init(e,i)}}),i}}function sN(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=sN(s,e,{})),n[r]=s}return n}class Zt{constructor(e){this.spec=e,this.props={},e.props&&sN(e.props,this,this.props),this.key=e.key?e.key.key:iN("plugin")}getState(e){return e[this.key]}}const Ng=Object.create(null);function iN(t){return t in Ng?t+"\$"+ ++Ng[t]:(Ng[t]=0,t+"\$")}class Yn{constructor(e="key"){this.key=iN(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Jt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Ou=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let _b=null;const Zr=function(t,e,n){let r=_b||(_b=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},lo=function(t,e,n,r){return n&&(Hb(t,e,n,r,-1)||Hb(t,e,n,r,1))},k4=/^(img|br|input|textarea|hr)\$/i;function Hb(t,e,n,r,s){for(;;){if(t==n&&e==r)return!0;if(e==(s<0?0:Dr(t))){let i=t.parentNode;if(!i||i.nodeType!=1||Ov(t)||k4.test(t.nodeName)||t.contentEditable=="false")return!1;e=Jt(t)+(s<0?0:1),t=i}else if(t.nodeType==1){if(t=t.childNodes[e+(s<0?-1:0)],t.contentEditable=="false")return!1;e=s<0?Dr(t):0}else return!1}}function Dr(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function w4(t,e,n){for(let r=e==0,s=e==Dr(t);r||s;){if(t==n)return!0;let i=Jt(t);if(t=t.parentNode,!t)return!1;r=r&&i==0,s=s&&i==Dr(t)}}function Ov(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Fh=function(t){return t.focusNode&&lo(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function zi(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function S4(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function b4(t,e,n){if(t.caretPositionFromPoint)try{let r=t.caretPositionFromPoint(e,n);if(r)return{node:r.offsetNode,offset:r.offset}}catch{}if(t.caretRangeFromPoint){let r=t.caretRangeFromPoint(e,n);if(r)return{node:r.startContainer,offset:r.startOffset}}}const Fr=typeof navigator<"u"?navigator:null,Vb=typeof document<"u"?document:null,yi=Fr&&Fr.userAgent||"",t0=/Edge\/(\d+)/.exec(yi),oN=/MSIE \d/.exec(yi),n0=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(yi),hn=!!(oN||n0||t0),si=oN?document.documentMode:n0?+n0[1]:t0?+t0[1]:0,kr=!hn&&/gecko\/(\d+)/i.test(yi);kr&&+(/Firefox\/(\d+)/.exec(yi)||[0,0])[1];const r0=!hn&&/Chrome\/(\d+)/.exec(yi),\$t=!!r0,x4=r0?+r0[1]:0,qt=!hn&&!!Fr&&/Apple Computer/.test(Fr.vendor),Cl=qt&&(/Mobile\/\w+/.test(yi)||!!Fr&&Fr.maxTouchPoints>2),jn=Cl||(Fr?/Mac/.test(Fr.platform):!1),E4=Fr?/Win/.test(Fr.platform):!1,dr=/Android \d/.test(yi),ju=!!Vb&&"webkitFontSmoothing"in Vb.documentElement.style,M4=ju?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function T4(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Gr(t,e){return typeof t=="number"?t:t[e]}function N4(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function jb(t,e,n){let r=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let l=n||t.dom;l;l=Ou(l)){if(l.nodeType!=1)continue;let u=l,d=u==i.body,f=d?T4(i):N4(u),p=0,m=0;if(e.top<f.top+Gr(r,"top")?m=-(f.top-e.top+Gr(s,"top")):e.bottom>f.bottom-Gr(r,"bottom")&&(m=e.bottom-e.top>f.bottom-f.top?e.top+Gr(s,"top")-f.top:e.bottom-f.bottom+Gr(s,"bottom")),e.left<f.left+Gr(r,"left")?p=-(f.left-e.left+Gr(s,"left")):e.right>f.right-Gr(r,"right")&&(p=e.right-f.right+Gr(s,"right")),p||m)if(d)i.defaultView.scrollBy(p,m);else{let y=u.scrollLeft,k=u.scrollTop;m&&(u.scrollTop+=m),p&&(u.scrollLeft+=p);let w=u.scrollLeft-y,b=u.scrollTop-k;e={left:e.left-w,top:e.top-b,right:e.right-w,bottom:e.bottom-b}}if(d||/^(fixed|sticky)\$/.test(getComputedStyle(l).position))break}}function C4(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,s;for(let i=(e.left+e.right)/2,l=n+1;l<Math.min(innerHeight,e.bottom);l+=5){let u=t.root.elementFromPoint(i,l);if(!u||u==t.dom||!t.dom.contains(u))continue;let d=u.getBoundingClientRect();if(d.top>=n-20){r=u,s=d.top;break}}return{refDOM:r,refTop:s,stack:lN(t.dom)}}function lN(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Ou(r));return e}function O4({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;aN(n,r==0?0:r-e)}function aN(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:s,left:i}=t[n];r.scrollTop!=s+e&&(r.scrollTop=s+e),r.scrollLeft!=i&&(r.scrollLeft=i)}}let Ho=null;function I4(t){if(t.setActive)return t.setActive();if(Ho)return t.focus(Ho);let e=lN(t);t.focus(Ho==null?{get preventScroll(){return Ho={preventScroll:!0},!0}}:void 0),Ho||(Ho=!1,aN(e,0))}function uN(t,e){let n,r=2e8,s,i=0,l=e.top,u=e.top,d,f;for(let p=t.firstChild,m=0;p;p=p.nextSibling,m++){let y;if(p.nodeType==1)y=p.getClientRects();else if(p.nodeType==3)y=Zr(p).getClientRects();else continue;for(let k=0;k<y.length;k++){let w=y[k];if(w.top<=l&&w.bottom>=u){l=Math.max(w.bottom,l),u=Math.min(w.top,u);let b=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(b<r){n=p,r=b,s=b&&n.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,p.nodeType==1&&b&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!d&&w.left<=e.left&&w.right>=e.left&&(d=p,f={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!n&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!n&&d&&(n=d,s=f,r=0),n&&n.nodeType==3?A4(n,s):!n||r&&n.nodeType==1?{node:t,offset:i}:uN(n,s)}function A4(t,e){let n=t.nodeValue.length,r=document.createRange();for(let s=0;s<n;s++){r.setEnd(t,s+1),r.setStart(t,s);let i=Ls(r,1);if(i.top!=i.bottom&&Iv(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function Iv(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function P4(t,e){let n=t.parentNode;return n&&/^li\$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function D4(t,e,n){let{node:r,offset:s}=uN(e,n),i=-1;if(r.nodeType==1&&!r.firstChild){let l=r.getBoundingClientRect();i=l.left!=l.right&&n.left>(l.left+l.right)/2?1:-1}return t.docView.posFromDOM(r,s,i)}function L4(t,e,n,r){let s=-1;for(let i=e,l=!1;i!=t.dom;){let u=t.docView.nearestDesc(i,!0);if(!u)return null;if(u.dom.nodeType==1&&(u.node.isBlock&&u.parent&&!l||!u.contentDOM)){let d=u.dom.getBoundingClientRect();if(u.node.isBlock&&u.parent&&!l&&(l=!0,d.left>r.left||d.top>r.top?s=u.posBefore:(d.right<r.left||d.bottom<r.top)&&(s=u.posAfter)),!u.contentDOM&&s<0&&!u.node.isText)return(u.node.isBlock?r.top<(d.top+d.bottom)/2:r.left<(d.left+d.right)/2)?u.posBefore:u.posAfter}i=u.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,n,-1)}function cN(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let s=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),i=s;;){let l=t.childNodes[i];if(l.nodeType==1){let u=l.getClientRects();for(let d=0;d<u.length;d++){let f=u[d];if(Iv(e,f))return cN(l,e,f)}}if((i=(i+1)%r)==s)break}return t}function z4(t,e){let n=t.dom.ownerDocument,r,s=0,i=b4(n,e.left,e.top);i&&({node:r,offset:s}=i);let l=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),u;if(!l||!t.dom.contains(l.nodeType!=1?l.parentNode:l)){let f=t.dom.getBoundingClientRect();if(!Iv(e,f)||(l=cN(t.dom,e,f),!l))return null}if(qt)for(let f=l;r&&f;f=Ou(f))f.draggable&&(r=void 0);if(l=P4(l,e),r){if(kr&&r.nodeType==1&&(s=Math.min(s,r.childNodes.length),s<r.childNodes.length)){let p=r.childNodes[s],m;p.nodeName=="IMG"&&(m=p.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let f;ju&&s&&r.nodeType==1&&(f=r.childNodes[s-1]).nodeType==1&&f.contentEditable=="false"&&f.getBoundingClientRect().top>=e.top&&s--,r==t.dom&&s==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?u=t.state.doc.content.size:(s==0||r.nodeType!=1||r.childNodes[s-1].nodeName!="BR")&&(u=L4(t,r,s,e))}u==null&&(u=D4(t,l,e));let d=t.docView.nearestDesc(l,!0);return{pos:u,inside:d?d.posAtStart-d.border:-1}}function Wb(t){return t.top<t.bottom||t.left<t.right}function Ls(t,e){let n=t.getClientRects();if(n.length){let r=n[e<0?0:n.length-1];if(Wb(r))return r}return Array.prototype.find.call(n,Wb)||t.getBoundingClientRect()}const R4=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function dN(t,e,n){let{node:r,offset:s,atom:i}=t.docView.domFromPos(e,n<0?-1:1),l=ju||kr;if(r.nodeType==3)if(l&&(R4.test(r.nodeValue)||(n<0?!s:s==r.nodeValue.length))){let u=Ls(Zr(r,s,s),n);if(kr&&s&&/\s/.test(r.nodeValue[s-1])&&s<r.nodeValue.length){let d=Ls(Zr(r,s-1,s-1),-1);if(d.top==u.top){let f=Ls(Zr(r,s,s+1),-1);if(f.top!=u.top)return za(f,f.left<d.left)}}return u}else{let u=s,d=s,f=n<0?1:-1;return n<0&&!s?(d++,f=-1):n>=0&&s==r.nodeValue.length?(u--,f=1):n<0?u--:d++,za(Ls(Zr(r,u,d),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(n<0||s==Dr(r))){let u=r.childNodes[s-1];if(u.nodeType==1)return Cg(u.getBoundingClientRect(),!1)}if(i==null&&s<Dr(r)){let u=r.childNodes[s];if(u.nodeType==1)return Cg(u.getBoundingClientRect(),!0)}return Cg(r.getBoundingClientRect(),n>=0)}if(i==null&&s&&(n<0||s==Dr(r))){let u=r.childNodes[s-1],d=u.nodeType==3?Zr(u,Dr(u)-(l?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(d)return za(Ls(d,1),!1)}if(i==null&&s<Dr(r)){let u=r.childNodes[s];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let d=u?u.nodeType==3?Zr(u,0,l?0:1):u.nodeType==1?u:null:null;if(d)return za(Ls(d,-1),!0)}return za(Ls(r.nodeType==3?Zr(r):r,-n),n>=0)}function za(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Cg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function fN(t,e,n){let r=t.state,s=t.root.activeElement;r!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),s!=t.dom&&s&&s.focus()}}function B4(t,e,n){let r=e.selection,s=n=="up"?r.\$from:r.\$to;return fN(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,n=="up"?-1:1);for(;;){let u=t.docView.nearestDesc(i,!0);if(!u)break;if(u.node.isBlock){i=u.contentDOM||u.dom;break}i=u.dom.parentNode}let l=dN(t,s.pos,1);for(let u=i.firstChild;u;u=u.nextSibling){let d;if(u.nodeType==1)d=u.getClientRects();else if(u.nodeType==3)d=Zr(u,0,u.nodeValue.length).getClientRects();else continue;for(let f=0;f<d.length;f++){let p=d[f];if(p.bottom>p.top+1&&(n=="up"?l.top-p.top>(p.bottom-l.top)*2:p.bottom-l.bottom>(l.bottom-p.top)*2))return!1}}return!0})}const \$4=/[\u0590-\u08ac]/;function F4(t,e,n){let{\$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let s=r.parentOffset,i=!s,l=s==r.parent.content.size,u=t.domSelection();return!\$4.test(r.parent.textContent)||!u.modify?n=="left"||n=="backward"?i:l:fN(t,e,()=>{let{focusNode:d,focusOffset:f,anchorNode:p,anchorOffset:m}=t.domSelectionRange(),y=u.caretBidiLevel;u.modify("move",n,"character");let k=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:w,focusOffset:b}=t.domSelectionRange(),T=w&&!k.contains(w.nodeType==1?w:w.parentNode)||d==w&&f==b;try{u.collapse(p,m),d&&(d!=p||f!=m)&&u.extend&&u.extend(d,f)}catch{}return y!=null&&(u.caretBidiLevel=y),T})}let Ub=null,Jb=null,Qb=!1;function _4(t,e,n){return Ub==e&&Jb==n?Qb:(Ub=e,Jb=n,Qb=n=="up"||n=="down"?B4(t,e,n):F4(t,e,n))}const qn=0,qb=1,Fi=2,_r=3;class Wu{constructor(e,n,r,s){this.parent=e,this.children=n,this.dom=r,this.contentDOM=s,this.dirty=qn,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let s=this.children[n];if(s==e)return r;r+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let i,l;if(e==this.contentDOM)i=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(l)+l.size:this.posAtStart}else{let i,l;if(e==this.contentDOM)i=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((l=i.pmViewDesc)&&l.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(l):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=n>Jt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&n==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),l;if(i&&(!n||i.node))if(r&&(l=i.nodeDOM)&&!(l.nodeType==1?l.contains(e.nodeType==1?e:e.parentNode):l==e))r=!1;else return i}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let s=this.children[n],i=r+s.size;if(r==e&&i!=r){for(;!s.border&&s.children.length;)s=s.children[0];return s}if(e<i)return s.descAt(e-r-s.border);r=i}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,s=0;for(let i=0;r<this.children.length;r++){let l=this.children[r],u=i+l.size;if(u>e||l instanceof pN){s=e-i;break}i=u}if(s)return this.children[r].domFromPos(s-this.children[r].border,n);for(let i;r&&!(i=this.children[r-1]).size&&i instanceof hN&&i.side>=0;r--);if(n<=0){let i,l=!0;for(;i=r?this.children[r-1]:null,!(!i||i.dom.parentNode==this.contentDOM);r--,l=!1);return i&&n&&l&&!i.border&&!i.domAtom?i.domFromPos(i.size,n):{node:this.contentDOM,offset:i?Jt(i.dom)+1:0}}else{let i,l=!0;for(;i=r<this.children.length?this.children[r]:null,!(!i||i.dom.parentNode==this.contentDOM);r++,l=!1);return i&&l&&!i.border&&!i.domAtom?i.domFromPos(0,n):{node:this.contentDOM,offset:i?Jt(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let l=r,u=0;;u++){let d=this.children[u],f=l+d.size;if(s==-1&&e<=f){let p=l+d.border;if(e>=p&&n<=f-d.border&&d.node&&d.contentDOM&&this.contentDOM.contains(d.contentDOM))return d.parseRange(e,n,p);e=l;for(let m=u;m>0;m--){let y=this.children[m-1];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(1)){s=Jt(y.dom)+1;break}e-=y.size}s==-1&&(s=0)}if(s>-1&&(f>n||u==this.children.length-1)){n=f;for(let p=u+1;p<this.children.length;p++){let m=this.children[p];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Jt(m.dom);break}n+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}l=f}return{node:this.contentDOM,from:e,to:n,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,s=!1){let i=Math.min(e,n),l=Math.max(e,n);for(let y=0,k=0;y<this.children.length;y++){let w=this.children[y],b=k+w.size;if(i>k&&l<b)return w.setSelection(e-k-w.border,n-k-w.border,r,s);k=b}let u=this.domFromPos(e,e?-1:1),d=n==e?u:this.domFromPos(n,n?-1:1),f=r.getSelection(),p=!1;if((kr||qt)&&e==n){let{node:y,offset:k}=u;if(y.nodeType==3){if(p=!!(k&&y.nodeValue[k-1]==\`
\`),p&&k==y.nodeValue.length)for(let w=y,b;w;w=w.parentNode){if(b=w.nextSibling){b.nodeName=="BR"&&(u=d={node:b.parentNode,offset:Jt(b)+1});break}let T=w.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let w=y.childNodes[k-1];p=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(kr&&f.focusNode&&f.focusNode!=d.node&&f.focusNode.nodeType==1){let y=f.focusNode.childNodes[f.focusOffset];y&&y.contentEditable=="false"&&(s=!0)}if(!(s||p&&qt)&&lo(u.node,u.offset,f.anchorNode,f.anchorOffset)&&lo(d.node,d.offset,f.focusNode,f.focusOffset))return;let m=!1;if((f.extend||e==n)&&!p){f.collapse(u.node,u.offset);try{e!=n&&f.extend(d.node,d.offset),m=!0}catch{}}if(!m){if(e>n){let k=u;u=d,d=k}let y=document.createRange();y.setEnd(d.node,d.offset),y.setStart(u.node,u.offset),f.removeAllRanges(),f.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,s=0;s<this.children.length;s++){let i=this.children[s],l=r+i.size;if(r==l?e<=l&&n>=r:e<l&&n>r){let u=r+i.border,d=l-i.border;if(e>=u&&n<=d){this.dirty=e==r||n==l?Fi:qb,e==u&&n==d&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=_r:i.markDirty(e-u,n-u);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Fi:_r}r=l}this.dirty=Fi}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Fi:qb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class hN extends Wu{constructor(e,n,r,s){let i,l=n.type.toDOM;if(typeof l=="function"&&(l=l(r,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!n.type.spec.raw){if(l.nodeType!=1){let u=document.createElement("span");u.appendChild(l),l=u}l.contentEditable="false",l.classList.add("ProseMirror-widget")}super(e,[],l,null),this.widget=n,this.widget=n,i=this}matchesWidget(e){return this.dirty==qn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class H4 extends Wu{constructor(e,n,r,s){super(e,[],n,null),this.textDOM=r,this.text=s}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ao extends Wu{constructor(e,n,r,s){super(e,[],r,s),this.mark=n}static create(e,n,r,s){let i=s.nodeViews[n.type.name],l=i&&i(n,s,r);return(!l||!l.dom)&&(l=Lr.renderSpec(document,n.type.spec.toDOM(n,r))),new ao(e,n,l.dom,l.contentDOM||l.dom)}parseRule(){return this.dirty&_r||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=_r&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=qn){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=qn}}slice(e,n,r){let s=ao.create(this.parent,this.mark,!0,r),i=this.children,l=this.size;n<l&&(i=o0(i,n,l,r)),e>0&&(i=o0(i,0,e,r));for(let u=0;u<i.length;u++)i[u].parent=s;return s.children=i,s}}class ii extends Wu{constructor(e,n,r,s,i,l,u,d,f){super(e,[],i,l),this.node=n,this.outerDeco=r,this.innerDeco=s,this.nodeDOM=u}static create(e,n,r,s,i,l){let u=i.nodeViews[n.type.name],d,f=u&&u(n,i,()=>{if(!d)return l;if(d.parent)return d.parent.posBeforeChild(d)},r,s),p=f&&f.dom,m=f&&f.contentDOM;if(n.isText){if(!p)p=document.createTextNode(n.text);else if(p.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else p||({dom:p,contentDOM:m}=Lr.renderSpec(document,n.type.spec.toDOM(n)));!m&&!n.isText&&p.nodeName!="BR"&&(p.hasAttribute("contenteditable")||(p.contentEditable="false"),n.type.spec.draggable&&(p.draggable=!0));let y=p;return p=yN(p,r,n),f?d=new V4(e,n,r,s,p,m||null,y,f,i,l+1):n.isText?new _h(e,n,r,s,p,y,i):new ii(e,n,r,s,p,m||null,y,i,l+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>V.empty)}return e}matchesNode(e,n,r){return this.dirty==qn&&e.eq(this.node)&&i0(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,s=n,i=e.composing?this.localCompositionInfo(e,n):null,l=i&&i.pos>-1?i:null,u=i&&i.pos<0,d=new W4(this,l&&l.node,e);Q4(this.node,this.innerDeco,(f,p,m)=>{f.spec.marks?d.syncToMarks(f.spec.marks,r,e):f.type.side>=0&&!m&&d.syncToMarks(p==this.node.childCount?Me.none:this.node.child(p).marks,r,e),d.placeWidget(f,e,s)},(f,p,m,y)=>{d.syncToMarks(f.marks,r,e);let k;d.findNodeMatch(f,p,m,y)||u&&e.state.selection.from>s&&e.state.selection.to<s+f.nodeSize&&(k=d.findIndexWithChild(i.node))>-1&&d.updateNodeAt(f,p,m,k,e)||d.updateNextNode(f,p,m,e,y,s)||d.addNode(f,p,m,e,s),s+=f.nodeSize}),d.syncToMarks([],r,e),this.node.isTextblock&&d.addTextblockHacks(),d.destroyRest(),(d.changed||this.dirty==Fi)&&(l&&this.protectLocalComposition(e,l),mN(this.contentDOM,this.children,e),Cl&&q4(this.dom))}localCompositionInfo(e,n){let{from:r,to:s}=e.state.selection;if(!(e.state.selection instanceof me)||r<n||s>n+this.node.content.size)return null;let i=e.domSelectionRange(),l=K4(i.focusNode,i.focusOffset);if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let u=l.nodeValue,d=G4(this.node.content,u,r-n,s-n);return d<0?null:{node:l,pos:d,text:u}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:s}){if(this.getDesc(n))return;let i=n;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let l=new H4(this,i,n,s);e.input.compositionNodes.push(l),this.children=o0(this.children,r,r+s.length,e,l)}update(e,n,r,s){return this.dirty==_r||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,s),!0)}updateInner(e,n,r,s){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=qn}updateOuterDeco(e){if(i0(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=gN(this.dom,this.nodeDOM,s0(this.outerDeco,this.node,n),s0(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Kb(t,e,n,r,s){yN(r,e,t);let i=new ii(void 0,t,e,n,r,r,r,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class _h extends ii{constructor(e,n,r,s,i,l,u){super(e,n,r,s,i,null,l,u,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,s){return this.dirty==_r||this.dirty!=qn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=qn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=qn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let s=this.node.cut(e,n),i=document.createTextNode(s.text);return new _h(this.parent,s,this.outerDeco,this.innerDeco,i,i,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=_r)}get domAtom(){return!1}}class pN extends Wu{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==qn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class V4 extends ii{constructor(e,n,r,s,i,l,u,d,f,p){super(e,n,r,s,i,l,u,f,p),this.spec=d}update(e,n,r,s){if(this.dirty==_r)return!1;if(this.spec.update){let i=this.spec.update(e,n,r);return i&&this.updateInner(e,n,r,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,s){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function mN(t,e,n){let r=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let l=e[i],u=l.dom;if(u.parentNode==t){for(;u!=r;)r=Gb(r),s=!0;r=r.nextSibling}else s=!0,t.insertBefore(u,r);if(l instanceof ao){let d=r?r.previousSibling:t.lastChild;mN(l.contentDOM,l.children,n),r=d?d.nextSibling:t.firstChild}}for(;r;)r=Gb(r),s=!0;s&&n.trackWrites==t&&(n.trackWrites=null)}const nu=function(t){t&&(this.nodeName=t)};nu.prototype=Object.create(null);const _i=[new nu];function s0(t,e,n){if(t.length==0)return _i;let r=n?_i[0]:new nu,s=[r];for(let i=0;i<t.length;i++){let l=t[i].type.attrs;if(l){l.nodeName&&s.push(r=new nu(l.nodeName));for(let u in l){let d=l[u];d!=null&&(n&&s.length==1&&s.push(r=new nu(e.isInline?"span":"div")),u=="class"?r.class=(r.class?r.class+" ":"")+d:u=="style"?r.style=(r.style?r.style+";":"")+d:u!="nodeName"&&(r[u]=d))}}}return s}function gN(t,e,n,r){if(n==_i&&r==_i)return e;let s=e;for(let i=0;i<r.length;i++){let l=r[i],u=n[i];if(i){let d;u&&u.nodeName==l.nodeName&&s!=t&&(d=s.parentNode)&&d.nodeName.toLowerCase()==l.nodeName||(d=document.createElement(l.nodeName),d.pmIsDeco=!0,d.appendChild(s),u=_i[0]),s=d}j4(s,u||_i[0],l)}return s}function j4(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],s=n.class?n.class.split(" ").filter(Boolean):[];for(let i=0;i<r.length;i++)s.indexOf(r[i])==-1&&t.classList.remove(r[i]);for(let i=0;i<s.length;i++)r.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=r.exec(e.style);)t.style.removeProperty(s[1])}n.style&&(t.style.cssText+=n.style)}}function yN(t,e,n){return gN(t,t,_i,s0(e,n,t.nodeType!=1))}function i0(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Gb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class W4{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=U4(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let s=0,i=this.stack.length>>1,l=Math.min(i,e.length);for(;s<l&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=qn,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let u=-1;for(let d=this.index;d<Math.min(this.index+3,this.top.children.length);d++){let f=this.top.children[d];if(f.matchesMark(e[i])&&!this.isLocked(f.dom)){u=d;break}}if(u>-1)u>this.index&&(this.changed=!0,this.destroyBetween(this.index,u)),this.top=this.top.children[this.index];else{let d=ao.create(this.top,e[i],n,r);this.top.children.splice(this.index,0,d),this.top=d,this.changed=!0}this.index=0,i++}}findNodeMatch(e,n,r,s){let i=-1,l;if(s>=this.preMatch.index&&(l=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&l.matchesNode(e,n,r))i=this.top.children.indexOf(l,this.index);else for(let u=this.index,d=Math.min(this.top.children.length,u+5);u<d;u++){let f=this.top.children[u];if(f.matchesNode(e,n,r)&&!this.preMatch.matched.has(f)){i=u;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,n,r,s,i){let l=this.top.children[s];return l.dirty==_r&&l.dom==l.contentDOM&&(l.dirty=Fi),l.update(e,n,r,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==r)return s}return-1}e=n}}updateNextNode(e,n,r,s,i,l){for(let u=this.index;u<this.top.children.length;u++){let d=this.top.children[u];if(d instanceof ii){let f=this.preMatch.matched.get(d);if(f!=null&&f!=i)return!1;let p=d.dom,m,y=this.isLocked(p)&&!(e.isText&&d.node&&d.node.isText&&d.nodeDOM.nodeValue==e.text&&d.dirty!=_r&&i0(n,d.outerDeco));if(!y&&d.update(e,n,r,s))return this.destroyBetween(this.index,u),d.dom!=p&&(this.changed=!0),this.index++,!0;if(!y&&(m=this.recreateWrapper(d,e,n,r,s,l)))return this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Fi,m.updateChildren(s,l+1),m.dirty=qn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,r,s,i,l){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content))return null;let u=ii.create(this.top,n,r,s,i,l);if(u.contentDOM){u.children=e.children,e.children=[];for(let d of u.children)d.parent=u}return e.destroy(),u}addNode(e,n,r,s,i){let l=ii.create(this.top,e,n,r,s,i);l.contentDOM&&l.updateChildren(s,i+1),this.top.children.splice(this.index++,0,l),this.changed=!0}placeWidget(e,n,r){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new hN(this.top,e,n,r);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ao;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof _h)||/\n\$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s\$/.test(e.node.text))&&((qt||\$t)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let s=new pN(this.top,[],r,null);n!=this.top?n.children.push(s):n.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function U4(t,e){let n=e,r=n.children.length,s=t.childCount,i=new Map,l=[];e:for(;s>0;){let u;for(;;)if(r){let f=n.children[r-1];if(f instanceof ao)n=f,r=f.children.length;else{u=f,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let d=u.node;if(d){if(d!=t.child(s-1))break;--s,i.set(u,s),l.push(u)}}return{index:s,matched:i,matches:l.reverse()}}function J4(t,e){return t.type.side-e.type.side}function Q4(t,e,n,r){let s=e.locals(t),i=0;if(s.length==0){for(let f=0;f<t.childCount;f++){let p=t.child(f);r(p,s,e.forChild(i,p),f),i+=p.nodeSize}return}let l=0,u=[],d=null;for(let f=0;;){let p,m;for(;l<s.length&&s[l].to==i;){let T=s[l++];T.widget&&(p?(m||(m=[p])).push(T):p=T)}if(p)if(m){m.sort(J4);for(let T=0;T<m.length;T++)n(m[T],f,!!d)}else n(p,f,!!d);let y,k;if(d)k=-1,y=d,d=null;else if(f<t.childCount)k=f,y=t.child(f++);else break;for(let T=0;T<u.length;T++)u[T].to<=i&&u.splice(T--,1);for(;l<s.length&&s[l].from<=i&&s[l].to>i;)u.push(s[l++]);let w=i+y.nodeSize;if(y.isText){let T=w;l<s.length&&s[l].from<T&&(T=s[l].from);for(let x=0;x<u.length;x++)u[x].to<T&&(T=u[x].to);T<w&&(d=y.cut(T-i),y=y.cut(0,T-i),w=T,k=-1)}else for(;l<s.length&&s[l].to<w;)l++;let b=y.isInline&&!y.isLeaf?u.filter(T=>!T.inline):u.slice();r(y,b,e.forChild(i,y),k),i=w}}function q4(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function K4(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Dr(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function G4(t,e,n,r){for(let s=0,i=0;s<t.childCount&&i<=r;){let l=t.child(s++),u=i;if(i+=l.nodeSize,!l.isText)continue;let d=l.text;for(;s<t.childCount;){let f=t.child(s++);if(i+=f.nodeSize,!f.isText)break;d+=f.text}if(i>=n){if(i>=r&&d.slice(r-e.length-u,r-u)==e)return r-e.length;let f=u<r?d.lastIndexOf(e,r-u-1):-1;if(f>=0&&f+e.length+u>=n)return u+f;if(n==r&&d.length>=r+e.length-u&&d.slice(r-u,r-u+e.length)==e)return r}}return-1}function o0(t,e,n,r,s){let i=[];for(let l=0,u=0;l<t.length;l++){let d=t[l],f=u,p=u+=d.size;f>=n||p<=e?i.push(d):(f<e&&i.push(d.slice(0,e-f,r)),s&&(i.push(s),s=void 0),p>n&&i.push(d.slice(n-f,d.size,r)))}return i}function Av(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let s=t.docView.nearestDesc(n.focusNode),i=s&&s.size==0,l=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(l<0)return null;let u=r.resolve(l),d,f;if(Fh(n)){for(d=u;s&&!s.node;)s=s.parent;let p=s.node;if(s&&p.isAtom&&le.isSelectable(p)&&s.parent&&!(p.isInline&&w4(n.focusNode,n.focusOffset,s.dom))){let m=s.posBefore;f=new le(l==m?u:r.resolve(m))}}else{let p=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(p<0)return null;d=r.resolve(p)}if(!f){let p=e=="pointer"||t.state.selection.head<u.pos&&!i?1:-1;f=Pv(t,d,u,p)}return f}function vN(t){return t.editable?t.hasFocus():wN(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function ss(t,e=!1){let n=t.state.selection;if(kN(t,n),!!vN(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&\$t){let r=t.domSelectionRange(),s=t.domObserver.currentSelection;if(r.anchorNode&&s.anchorNode&&lo(r.anchorNode,r.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)X4(t);else{let{anchor:r,head:s}=n,i,l;Yb&&!(n instanceof me)&&(n.\$from.parent.inlineContent||(i=Xb(t,n.from)),!n.empty&&!n.\$from.parent.inlineContent&&(l=Xb(t,n.to))),t.docView.setSelection(r,s,t.root,e),Yb&&(i&&Zb(i),l&&Zb(l)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Y4(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Yb=qt||\$t&&x4<63;function Xb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),s=r<n.childNodes.length?n.childNodes[r]:null,i=r?n.childNodes[r-1]:null;if(qt&&s&&s.contentEditable=="false")return Og(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return Og(s);if(i)return Og(i)}}function Og(t){return t.contentEditable="true",qt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function Zb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Y4(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,s=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!vN(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function X4(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,s=r.nodeName=="IMG";s?n.setEnd(r.parentNode,Jt(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!s&&!t.state.selection.visible&&hn&&si<=11&&(r.disabled=!0,r.disabled=!1)}function kN(t,e){if(e instanceof le){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(ex(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else ex(t)}function ex(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Pv(t,e,n,r){return t.someProp("createSelectionBetween",s=>s(t,e,n))||me.between(e,n,r)}function tx(t){return t.editable&&!t.hasFocus()?!1:wN(t)}function wN(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Z4(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return lo(e.node,e.offset,n.anchorNode,n.anchorOffset)}function l0(t,e){let{\$anchor:n,\$head:r}=t.selection,s=e>0?n.max(r):n.min(r),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&pe.findFrom(i,e)}function Bs(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function nx(t,e,n){let r=t.state.selection;if(r instanceof me)if(n.indexOf("s")>-1){let{\$head:s}=r,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let l=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Bs(t,new me(r.\$anchor,l))}else if(r.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=l0(t.state,e);return s&&s instanceof le?Bs(t,s):!1}else if(!(jn&&n.indexOf("m")>-1)){let s=r.\$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,l;if(!i||i.isText)return!1;let u=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(l=t.docView.descAt(u))&&!l.contentDOM?le.isSelectable(i)?Bs(t,new le(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):ju?Bs(t,new me(t.state.doc.resolve(e<0?u:u+i.nodeSize))):!1:!1}}else return!1;else{if(r instanceof le&&r.node.isInline)return Bs(t,new me(e>0?r.\$to:r.\$from));{let s=l0(t.state,e);return s?Bs(t,s):!1}}}function Af(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ru(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Vo(t,e){return e<0?eL(t):tL(t)}function eL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s,i,l=!1;for(kr&&n.nodeType==1&&r<Af(n)&&ru(n.childNodes[r],-1)&&(l=!0);;)if(r>0){if(n.nodeType!=1)break;{let u=n.childNodes[r-1];if(ru(u,-1))s=n,i=--r;else if(u.nodeType==3)n=u,r=n.nodeValue.length;else break}}else{if(SN(n))break;{let u=n.previousSibling;for(;u&&ru(u,-1);)s=n.parentNode,i=Jt(u),u=u.previousSibling;if(u)n=u,r=Af(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}l?a0(t,n,r):s&&a0(t,s,i)}function tL(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let s=Af(n),i,l;for(;;)if(r<s){if(n.nodeType!=1)break;let u=n.childNodes[r];if(ru(u,1))i=n,l=++r;else break}else{if(SN(n))break;{let u=n.nextSibling;for(;u&&ru(u,1);)i=u.parentNode,l=Jt(u)+1,u=u.nextSibling;if(u)n=u,r=0,s=Af(n);else{if(n=n.parentNode,n==t.dom)break;r=s=0}}}i&&a0(t,i,l)}function SN(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function nL(t,e){for(;t&&e==t.childNodes.length&&!Ov(t);)e=Jt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function rL(t,e){for(;t&&!e&&!Ov(t);)e=Jt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function a0(t,e,n){if(e.nodeType!=3){let i,l;(l=nL(e,n))?(e=l,n=0):(i=rL(e,n))&&(e=i,n=i.nodeValue.length)}let r=t.domSelection();if(Fh(r)){let i=document.createRange();i.setEnd(e,n),i.setStart(e,n),r.removeAllRanges(),r.addRange(i)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&ss(t)},50)}function rx(t,e){let n=t.state.doc.resolve(e);if(!(\$t||E4)&&n.parent.inlineContent){let r=t.coordsAtPos(e);if(e>n.start()){let s=t.coordsAtPos(e-1),i=(s.top+s.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(s.left-r.left)>1)return s.left<r.left?"ltr":"rtl"}if(e<n.end()){let s=t.coordsAtPos(e+1),i=(s.top+s.bottom)/2;if(i>r.top&&i<r.bottom&&Math.abs(s.left-r.left)>1)return s.left>r.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function sx(t,e,n){let r=t.state.selection;if(r instanceof me&&!r.empty||n.indexOf("s")>-1||jn&&n.indexOf("m")>-1)return!1;let{\$from:s,\$to:i}=r;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let l=l0(t.state,e);if(l&&l instanceof le)return Bs(t,l)}if(!s.parent.inlineContent){let l=e<0?s:i,u=r instanceof yr?pe.near(l,e):pe.findFrom(l,e);return u?Bs(t,u):!1}return!1}function ix(t,e){if(!(t.state.selection instanceof me))return!0;let{\$head:n,\$anchor:r,empty:s}=t.state.selection;if(!n.sameParent(r))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(i&&!i.isText){let l=t.state.tr;return e<0?l.delete(n.pos-i.nodeSize,n.pos):l.delete(n.pos,n.pos+i.nodeSize),t.dispatch(l),!0}return!1}function ox(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function sL(t){if(!qt||t.state.selection.\$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;ox(t,r,"true"),setTimeout(()=>ox(t,r,"false"),20)}return!1}function iL(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oL(t,e){let n=e.keyCode,r=iL(e);if(n==8||jn&&n==72&&r=="c")return ix(t,-1)||Vo(t,-1);if(n==46&&!e.shiftKey||jn&&n==68&&r=="c")return ix(t,1)||Vo(t,1);if(n==13||n==27)return!0;if(n==37||jn&&n==66&&r=="c"){let s=n==37?rx(t,t.state.selection.from)=="ltr"?-1:1:-1;return nx(t,s,r)||Vo(t,s)}else if(n==39||jn&&n==70&&r=="c"){let s=n==39?rx(t,t.state.selection.from)=="ltr"?1:-1:1;return nx(t,s,r)||Vo(t,s)}else{if(n==38||jn&&n==80&&r=="c")return sx(t,-1,r)||Vo(t,-1);if(n==40||jn&&n==78&&r=="c")return sL(t)||sx(t,1,r)||Vo(t,1);if(r==(jn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function bN(t,e){t.someProp("transformCopied",k=>{e=k(e,t)});let n=[],{content:r,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&r.childCount==1&&r.firstChild.childCount==1;){s--,i--;let k=r.firstChild;n.push(k.type.name,k.attrs!=k.type.defaultAttrs?k.attrs:null),r=k.content}let l=t.someProp("clipboardSerializer")||Lr.fromSchema(t.state.schema),u=CN(),d=u.createElement("div");d.appendChild(l.serializeFragment(r,{document:u}));let f=d.firstChild,p,m=0;for(;f&&f.nodeType==1&&(p=NN[f.nodeName.toLowerCase()]);){for(let k=p.length-1;k>=0;k--){let w=u.createElement(p[k]);for(;d.firstChild;)w.appendChild(d.firstChild);d.appendChild(w),m++}f=d.firstChild}f&&f.nodeType==1&&f.setAttribute("data-pm-slice",\`\${s} \${i}\${m?\` -\${m}\`:""} \${JSON.stringify(n)}\`);let y=t.someProp("clipboardTextSerializer",k=>k(e,t))||e.content.textBetween(0,e.content.size,\`

\`);return{dom:d,text:y}}function xN(t,e,n,r,s){let i=s.parent.type.spec.code,l,u;if(!n&&!e)return null;let d=e&&(r||i||!n);if(d){if(t.someProp("transformPastedText",y=>{e=y(e,i||r,t)}),i)return e?new G(V.from(t.state.schema.text(e.replace(/\r\n?/g,\`
\`))),0,0):G.empty;let m=t.someProp("clipboardTextParser",y=>y(e,s,r,t));if(m)u=m;else{let y=s.marks(),{schema:k}=t.state,w=Lr.fromSchema(k);l=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(b=>{let T=l.appendChild(document.createElement("p"));b&&T.appendChild(w.serializeNode(k.text(b,y)))})}}else t.someProp("transformPastedHTML",m=>{n=m(n,t)}),l=uL(n),ju&&cL(l);let f=l&&l.querySelector("[data-pm-slice]"),p=f&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(f.getAttribute("data-pm-slice")||"");if(p&&p[3])for(let m=+p[3];m>0;m--){let y=l.firstChild;for(;y&&y.nodeType!=1;)y=y.nextSibling;if(!y)break;l=y}if(u||(u=(t.someProp("clipboardParser")||t.someProp("domParser")||Ev.fromSchema(t.state.schema)).parseSlice(l,{preserveWhitespace:!!(d||p),context:s,ruleFromNode(m){return m.nodeName=="BR"&&!m.nextSibling&&m.parentNode&&!lL.test(m.parentNode.nodeName)?{ignore:!0}:null}})),p)u=dL(lx(u,+p[1],+p[2]),p[4]);else if(u=G.maxOpen(aL(u.content,s),!0),u.openStart||u.openEnd){let m=0,y=0;for(let k=u.content.firstChild;m<u.openStart&&!k.type.spec.isolating;m++,k=k.firstChild);for(let k=u.content.lastChild;y<u.openEnd&&!k.type.spec.isolating;y++,k=k.lastChild);u=lx(u,m,y)}return t.someProp("transformPasted",m=>{u=m(u,t)}),u}const lL=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)\$/i;function aL(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.index(n)),s,i=[];if(t.forEach(l=>{if(!i)return;let u=r.findWrapping(l.type),d;if(!u)return i=null;if(d=i.length&&s.length&&MN(u,s,l,i[i.length-1],0))i[i.length-1]=d;else{i.length&&(i[i.length-1]=TN(i[i.length-1],s.length));let f=EN(l,u);i.push(f),r=r.matchType(f.type),s=u}}),i)return V.from(i)}return t}function EN(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,V.from(t));return t}function MN(t,e,n,r,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=MN(t,e,n,r.lastChild,s+1);if(i)return r.copy(r.content.replaceChild(r.childCount-1,i));if(r.contentMatchAt(r.childCount).matchType(s==t.length-1?n.type:t[s+1]))return r.copy(r.content.append(V.from(EN(n,t,s+1))))}}function TN(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,TN(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(V.empty,!0);return t.copy(n.append(r))}function u0(t,e,n,r,s,i){let l=e<0?t.firstChild:t.lastChild,u=l.content;return t.childCount>1&&(i=0),s<r-1&&(u=u0(u,e,n,r,s+1,i)),s>=n&&(u=e<0?l.contentMatchAt(0).fillBefore(u,i<=s).append(u):u.append(l.contentMatchAt(l.childCount).fillBefore(V.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,l.copy(u))}function lx(t,e,n){return e<t.openStart&&(t=new G(u0(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new G(u0(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const NN={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let ax=null;function CN(){return ax||(ax=document.implementation.createHTMLDocument("title"))}function uL(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=CN().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),s;if((s=r&&NN[r[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),n.innerHTML=t,s)for(let i=0;i<s.length;i++)n=n.querySelector(s[i])||n;return n}function cL(t){let e=t.querySelectorAll(\$t?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function dL(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:l}=t;for(let u=r.length-2;u>=0;u-=2){let d=n.nodes[r[u]];if(!d||d.hasRequiredAttrs())break;s=V.from(d.create(r[u+1],s)),i++,l++}return new G(s,i,l)}const Kt={},Gt={},fL={touchstart:!0,touchmove:!0};class hL{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function pL(t){for(let e in Kt){let n=Kt[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{gL(t,r)&&!Dv(t,r)&&(t.editable||!(r.type in Gt))&&n(t,r)},fL[e]?{passive:!0}:void 0)}qt&&t.dom.addEventListener("input",()=>null),c0(t)}function Ks(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function mL(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function c0(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Dv(t,r))})}function Dv(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function gL(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function yL(t,e){!Dv(t,e)&&Kt[e.type]&&(t.editable||!(e.type in Gt))&&Kt[e.type](t,e)}Gt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!IN(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(dr&&\$t&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),Cl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",s=>s(t,zi(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||oL(t,n)?n.preventDefault():Ks(t,"key")};Gt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Gt.keypress=(t,e)=>{let n=e;if(IN(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||jn&&n.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof me)||!r.\$from.sameParent(r.\$to)){let s=String.fromCharCode(n.charCode);!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",i=>i(t,r.\$from.pos,r.\$to.pos,s))&&t.dispatch(t.state.tr.insertText(s).scrollIntoView()),n.preventDefault()}};function Hh(t){return{left:t.clientX,top:t.clientY}}function vL(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function Lv(t,e,n,r,s){if(r==-1)return!1;let i=t.state.doc.resolve(r);for(let l=i.depth+1;l>0;l--)if(t.someProp(e,u=>l>i.depth?u(t,n,i.nodeAfter,i.before(l),s,!0):u(t,n,i.node(l),i.before(l),s,!1)))return!0;return!1}function yl(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);r.setMeta("pointer",!0),t.dispatch(r)}function kL(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&le.isSelectable(r)?(yl(t,new le(n)),!0):!1}function wL(t,e){if(e==-1)return!1;let n=t.state.selection,r,s;n instanceof le&&(r=n.node);let i=t.state.doc.resolve(e);for(let l=i.depth+1;l>0;l--){let u=l>i.depth?i.nodeAfter:i.node(l);if(le.isSelectable(u)){r&&n.\$from.depth>0&&l>=n.\$from.depth&&i.before(n.\$from.depth+1)==n.\$from.pos?s=i.before(n.\$from.depth):s=i.before(l);break}}return s!=null?(yl(t,le.create(t.state.doc,s)),!0):!1}function SL(t,e,n,r,s){return Lv(t,"handleClickOn",e,n,r)||t.someProp("handleClick",i=>i(t,e,r))||(s?wL(t,n):kL(t,n))}function bL(t,e,n,r){return Lv(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",s=>s(t,e,r))}function xL(t,e,n,r){return Lv(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",s=>s(t,e,r))||EL(t,n,r)}function EL(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(yl(t,me.create(r,0,r.content.size)),!0):!1;let s=r.resolve(e);for(let i=s.depth+1;i>0;i--){let l=i>s.depth?s.nodeAfter:s.node(i),u=s.before(i);if(l.inlineContent)yl(t,me.create(r,u+1,u+1+l.content.size));else if(le.isSelectable(l))yl(t,le.create(r,u));else continue;return!0}}function zv(t){return Pf(t)}const ON=jn?"metaKey":"ctrlKey";Kt.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=zv(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&vL(n,t.input.lastClick)&&!n[ON]&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:n.clientX,y:n.clientY,type:i};let l=t.posAtCoords(Hh(n));l&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new ML(t,l,n,!!r)):(i=="doubleClick"?bL:xL)(t,l.pos,l.inside,n)?n.preventDefault():Ks(t,"pointer"))};class ML{constructor(e,n,r,s){this.view=e,this.pos=n,this.event=r,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[ON],this.allowDefault=r.shiftKey;let i,l;if(n.inside>-1)i=e.state.doc.nodeAt(n.inside),l=n.inside;else{let p=e.state.doc.resolve(n.pos);i=p.parent,l=p.depth?p.before():0}const u=s?null:r.target,d=u?e.docView.nearestDesc(u,!0):null;this.target=d?d.dom:null;let{selection:f}=e.state;(r.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||f instanceof le&&f.from<=l&&f.to>l)&&(this.mightDrag={node:i,pos:l,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&kr&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Ks(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>ss(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Hh(e))),this.updateAllowDefault(e),this.allowDefault||!n?Ks(this.view,"pointer"):SL(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qt&&this.mightDrag&&!this.mightDrag.node.isAtom||\$t&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(yl(this.view,pe.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):Ks(this.view,"pointer")}move(e){this.updateAllowDefault(e),Ks(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Kt.touchstart=t=>{t.input.lastTouch=Date.now(),zv(t),Ks(t,"pointer")};Kt.touchmove=t=>{t.input.lastTouch=Date.now(),Ks(t,"pointer")};Kt.contextmenu=t=>zv(t);function IN(t,e){return t.composing?!0:qt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const TL=dr?5e3:-1;Gt.compositionstart=Gt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.\$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),Pf(t,!0),t.markCursor=null;else if(Pf(t),kr&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let s=r.focusNode,i=r.focusOffset;s&&s.nodeType==1&&i!=0;){let l=i<0?s.lastChild:s.childNodes[i-1];if(!l)break;if(l.nodeType==3){t.domSelection().collapse(l,l.nodeValue.length);break}else s=l,i=-1}}t.input.composing=!0}AN(t,TL)};Gt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,AN(t,20))};function AN(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Pf(t),e))}function PN(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=NL());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function NL(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Pf(t,e=!1){if(!(dr&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),PN(t),e||t.docView&&t.docView.dirty){let n=Av(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function CL(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(s),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const Iu=hn&&si<15||Cl&&M4<604;Kt.copy=Gt.cut=(t,e)=>{let n=e,r=t.state.selection,s=n.type=="cut";if(r.empty)return;let i=Iu?null:n.clipboardData,l=r.content(),{dom:u,text:d}=bN(t,l);i?(n.preventDefault(),i.clearData(),i.setData("text/html",u.innerHTML),i.setData("text/plain",d)):CL(t,u),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function OL(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function IL(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.\$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Au(t,r.value,null,s,e):Au(t,r.textContent,r.innerHTML,s,e)},50)}function Au(t,e,n,r,s){let i=xN(t,e,n,r,t.state.selection.\$from);if(t.someProp("handlePaste",d=>d(t,s,i||G.empty)))return!0;if(!i)return!1;let l=OL(i),u=l?t.state.tr.replaceSelectionWith(l,r):t.state.tr.replaceSelection(i);return t.dispatch(u.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function DN(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Gt.paste=(t,e)=>{let n=e;if(t.composing&&!dr)return;let r=Iu?null:n.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;r&&Au(t,DN(r),r.getData("text/html"),s,n)?n.preventDefault():IL(t,n)};class LN{constructor(e,n,r){this.slice=e,this.move=n,this.node=r}}const zN=jn?"altKey":"ctrlKey";Kt.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Hh(n)),l;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof le?s.to-1:s.to))){if(r&&r.mightDrag)l=le.create(t.state.doc,r.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let p=t.docView.nearestDesc(n.target,!0);p&&p.node.type.spec.draggable&&p!=t.docView&&(l=le.create(t.state.doc,p.posBefore))}}let u=(l||t.state.selection).content(),{dom:d,text:f}=bN(t,u);n.dataTransfer.clearData(),n.dataTransfer.setData(Iu?"Text":"text/html",d.innerHTML),n.dataTransfer.effectAllowed="copyMove",Iu||n.dataTransfer.setData("text/plain",f),t.dragging=new LN(u,!n[zN],l)};Kt.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Gt.dragover=Gt.dragenter=(t,e)=>e.preventDefault();Gt.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let s=t.posAtCoords(Hh(n));if(!s)return;let i=t.state.doc.resolve(s.pos),l=r&&r.slice;l?t.someProp("transformPasted",w=>{l=w(l,t)}):l=xN(t,DN(n.dataTransfer),Iu?null:n.dataTransfer.getData("text/html"),!1,i);let u=!!(r&&!n[zN]);if(t.someProp("handleDrop",w=>w(t,n,l||G.empty,u))){n.preventDefault();return}if(!l)return;n.preventDefault();let d=l?XT(t.state.doc,i.pos,l):i.pos;d==null&&(d=i.pos);let f=t.state.tr;if(u){let{node:w}=r;w?w.replace(f):f.deleteSelection()}let p=f.mapping.map(d),m=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=f.doc;if(m?f.replaceRangeWith(p,p,l.content.firstChild):f.replaceRange(p,p,l),f.doc.eq(y))return;let k=f.doc.resolve(p);if(m&&le.isSelectable(l.content.firstChild)&&k.nodeAfter&&k.nodeAfter.sameMarkup(l.content.firstChild))f.setSelection(new le(k));else{let w=f.mapping.map(d);f.mapping.maps[f.mapping.maps.length-1].forEach((b,T,x,E)=>w=E),f.setSelection(Pv(t,k,f.doc.resolve(w)))}t.focus(),t.dispatch(f.setMeta("uiEvent","drop"))};Kt.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&ss(t)},20))};Kt.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Kt.beforeinput=(t,e)=>{if(\$t&&dr&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,zi(8,"Backspace")))))return;let{\$cursor:r}=t.state.selection;r&&r.pos>0&&t.dispatch(t.state.tr.delete(r.pos-1,r.pos).scrollIntoView())},50)}};for(let t in Gt)Kt[t]=Gt[t];function Pu(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class Df{constructor(e,n){this.toDOM=e,this.spec=n||Xi,this.side=this.spec.side||0}map(e,n,r,s){let{pos:i,deleted:l}=e.mapResult(n.from+s,this.side<0?-1:1);return l?null:new On(i-r,i-r,this)}valid(){return!0}eq(e){return this==e||e instanceof Df&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Pu(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class oi{constructor(e,n){this.attrs=e,this.spec=n||Xi}map(e,n,r,s){let i=e.map(n.from+s,this.spec.inclusiveStart?-1:1)-r,l=e.map(n.to+s,this.spec.inclusiveEnd?1:-1)-r;return i>=l?null:new On(i,l,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof oi&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}static is(e){return e.type instanceof oi}destroy(){}}class Rv{constructor(e,n){this.attrs=e,this.spec=n||Xi}map(e,n,r,s){let i=e.mapResult(n.from+s,1);if(i.deleted)return null;let l=e.mapResult(n.to+s,-1);return l.deleted||l.pos<=i.pos?null:new On(i.pos-r,l.pos-r,this)}valid(e,n){let{index:r,offset:s}=e.content.findIndex(n.from),i;return s==n.from&&!(i=e.child(r)).isText&&s+i.nodeSize==n.to}eq(e){return this==e||e instanceof Rv&&Pu(this.attrs,e.attrs)&&Pu(this.spec,e.spec)}destroy(){}}class On{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new On(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new On(e,e,new Df(n,r))}static inline(e,n,r,s){return new On(e,n,new oi(r,s))}static node(e,n,r,s){return new On(e,n,new Rv(r,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof oi}get widget(){return this.type instanceof Df}}const Uo=[],Xi={};class qe{constructor(e,n){this.local=e.length?e:Uo,this.children=n.length?n:Uo}static create(e,n){return n.length?Lf(n,e,0,Xi):Rt}find(e,n,r){let s=[];return this.findInner(e??0,n??1e9,s,0,r),s}findInner(e,n,r,s,i){for(let l=0;l<this.local.length;l++){let u=this.local[l];u.from<=n&&u.to>=e&&(!i||i(u.spec))&&r.push(u.copy(u.from+s,u.to+s))}for(let l=0;l<this.children.length;l+=3)if(this.children[l]<n&&this.children[l+1]>e){let u=this.children[l]+1;this.children[l+2].findInner(e-u,n-u,r,s+u,i)}}map(e,n,r){return this==Rt||e.maps.length==0?this:this.mapInner(e,n,0,0,r||Xi)}mapInner(e,n,r,s,i){let l;for(let u=0;u<this.local.length;u++){let d=this.local[u].map(e,r,s);d&&d.type.valid(n,d)?(l||(l=[])).push(d):i.onRemove&&i.onRemove(this.local[u].spec)}return this.children.length?AL(this.children,l||[],e,n,r,s,i):l?new qe(l.sort(Zi),Uo):Rt}add(e,n){return n.length?this==Rt?qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let s,i=0;e.forEach((u,d)=>{let f=d+r,p;if(p=BN(n,u,f)){for(s||(s=this.children.slice());i<s.length&&s[i]<d;)i+=3;s[i]==d?s[i+2]=s[i+2].addInner(u,p,f+1):s.splice(i,0,d,d+u.nodeSize,Lf(p,u,f+1,Xi)),i+=3}});let l=RN(i?\$N(n):n,-r);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||l.splice(u--,1);return new qe(l.length?this.local.concat(l).sort(Zi):this.local,s||this.children)}remove(e){return e.length==0||this==Rt?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,s=this.local;for(let i=0;i<r.length;i+=3){let l,u=r[i]+n,d=r[i+1]+n;for(let p=0,m;p<e.length;p++)(m=e[p])&&m.from>u&&m.to<d&&(e[p]=null,(l||(l=[])).push(m));if(!l)continue;r==this.children&&(r=this.children.slice());let f=r[i+2].removeInner(l,u+1);f!=Rt?r[i+2]=f:(r.splice(i,3),i-=3)}if(s.length){for(let i=0,l;i<e.length;i++)if(l=e[i])for(let u=0;u<s.length;u++)s[u].eq(l,n)&&(s==this.local&&(s=this.local.slice()),s.splice(u--,1))}return r==this.children&&s==this.local?this:s.length||r.length?new qe(s,r):Rt}forChild(e,n){if(this==Rt)return this;if(n.isLeaf)return qe.empty;let r,s;for(let u=0;u<this.children.length;u+=3)if(this.children[u]>=e){this.children[u]==e&&(r=this.children[u+2]);break}let i=e+1,l=i+n.content.size;for(let u=0;u<this.local.length;u++){let d=this.local[u];if(d.from<l&&d.to>i&&d.type instanceof oi){let f=Math.max(i,d.from)-i,p=Math.min(l,d.to)-i;f<p&&(s||(s=[])).push(d.copy(f,p))}}if(s){let u=new qe(s.sort(Zi),Uo);return r?new js([u,r]):u}return r||Rt}eq(e){if(this==e)return!0;if(!(e instanceof qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Bv(this.localsInner(e))}localsInner(e){if(this==Rt)return Uo;if(e.inlineContent||!this.local.some(oi.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof oi||n.push(this.local[r]);return n}}qe.empty=new qe([],[]);qe.removeOverlap=Bv;const Rt=qe.empty;class js{constructor(e){this.members=e}map(e,n){const r=this.members.map(s=>s.map(e,n,Xi));return js.from(r)}forChild(e,n){if(n.isLeaf)return qe.empty;let r=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,n);i!=Rt&&(i instanceof js?r=r.concat(i.members):r.push(i))}return js.from(r)}eq(e){if(!(e instanceof js)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!n)n=i;else{r&&(n=n.slice(),r=!1);for(let l=0;l<i.length;l++)n.push(i[l])}}return n?Bv(r?n:n.sort(Zi)):Uo}static from(e){switch(e.length){case 0:return Rt;case 1:return e[0];default:return new js(e.every(n=>n instanceof qe)?e:e.reduce((n,r)=>n.concat(r instanceof qe?r:r.members),[]))}}}function AL(t,e,n,r,s,i,l){let u=t.slice();for(let f=0,p=i;f<n.maps.length;f++){let m=0;n.maps[f].forEach((y,k,w,b)=>{let T=b-w-(k-y);for(let x=0;x<u.length;x+=3){let E=u[x+1];if(E<0||y>E+p-m)continue;let N=u[x]+p-m;k>=N?u[x+1]=y<=N?-2:-1:y>=p&&T&&(u[x]+=T,u[x+1]+=T)}m+=T}),p=n.maps[f].map(p,-1)}let d=!1;for(let f=0;f<u.length;f+=3)if(u[f+1]<0){if(u[f+1]==-2){d=!0,u[f+1]=-1;continue}let p=n.map(t[f]+i),m=p-s;if(m<0||m>=r.content.size){d=!0;continue}let y=n.map(t[f+1]+i,-1),k=y-s,{index:w,offset:b}=r.content.findIndex(m),T=r.maybeChild(w);if(T&&b==m&&b+T.nodeSize==k){let x=u[f+2].mapInner(n,T,p+1,t[f]+i+1,l);x!=Rt?(u[f]=m,u[f+1]=k,u[f+2]=x):(u[f+1]=-2,d=!0)}else d=!0}if(d){let f=PL(u,t,e,n,s,i,l),p=Lf(f,r,0,l);e=p.local;for(let m=0;m<u.length;m+=3)u[m+1]<0&&(u.splice(m,3),m-=3);for(let m=0,y=0;m<p.children.length;m+=3){let k=p.children[m];for(;y<u.length&&u[y]<k;)y+=3;u.splice(y,0,p.children[m],p.children[m+1],p.children[m+2])}}return new qe(e.sort(Zi),u)}function RN(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let s=t[r];n.push(new On(s.from+e,s.to+e,s.type))}return n}function PL(t,e,n,r,s,i,l){function u(d,f){for(let p=0;p<d.local.length;p++){let m=d.local[p].map(r,s,f);m?n.push(m):l.onRemove&&l.onRemove(d.local[p].spec)}for(let p=0;p<d.children.length;p+=3)u(d.children[p+2],d.children[p]+f+1)}for(let d=0;d<t.length;d+=3)t[d+1]==-1&&u(t[d+2],e[d]+i+1);return n}function BN(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,s=null;for(let i=0,l;i<t.length;i++)(l=t[i])&&l.from>n&&l.to<r&&((s||(s=[])).push(l),t[i]=null);return s}function \$N(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Lf(t,e,n,r){let s=[],i=!1;e.forEach((u,d)=>{let f=BN(t,u,d+n);if(f){i=!0;let p=Lf(f,u,n+d+1,r);p!=Rt&&s.push(d,d+u.nodeSize,p)}});let l=RN(i?\$N(t):t,-n).sort(Zi);for(let u=0;u<l.length;u++)l[u].type.valid(e,l[u])||(r.onRemove&&r.onRemove(l[u].spec),l.splice(u--,1));return l.length||s.length?new qe(l,s):Rt}function Zi(t,e){return t.from-e.from||t.to-e.to}function Bv(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let s=n+1;s<e.length;s++){let i=e[s];if(i.from==r.from){i.to!=r.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,r.to),ux(e,s+1,i.copy(r.to,i.to)));continue}else{i.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,i.from),ux(e,s,r.copy(i.from,r.to)));break}}}return e}function ux(t,e,n){for(;e<t.length&&Zi(n,t[e])>0;)e++;t.splice(e,0,n)}function Ig(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Rt&&e.push(r)}),t.cursorWrapper&&e.push(qe.create(t.state.doc,[t.cursorWrapper.deco])),js.from(e)}const DL={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},LL=hn&&si<=11;class zL{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class RL{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new zL,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let s=0;s<r.length;s++)this.queue.push(r[s]);hn&&si<=11&&r.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),LL&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,DL)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(tx(this.view)){if(this.suppressingSelectionUpdates)return ss(this.view);if(hn&&si<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&lo(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let i=e.focusNode;i;i=Ou(i))n.add(i);for(let i=e.anchorNode;i;i=Ou(i))if(n.has(i)){r=i;break}let s=r&&this.view.docView.nearestDesc(r);if(s&&s.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let r=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&tx(e)&&!this.ignoreSelectionChange(r),i=-1,l=-1,u=!1,d=[];if(e.editable)for(let p=0;p<n.length;p++){let m=this.registerMutation(n[p],d);m&&(i=i<0?m.from:Math.min(m.from,i),l=l<0?m.to:Math.max(m.to,l),m.typeOver&&(u=!0))}if(kr&&d.length>1){let p=d.filter(m=>m.nodeName=="BR");if(p.length==2){let m=p[0],y=p[1];m.parentNode&&m.parentNode.parentNode==y.parentNode?y.remove():m.remove()}}let f=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Fh(r)&&(f=Av(e))&&f.eq(pe.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,ss(e),this.currentSelection.set(r),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,l),BL(e)),this.handleDOMChange(i,l,u,d),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||ss(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let p=0;p<e.addedNodes.length;p++)n.push(e.addedNodes[p]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let s=e.previousSibling,i=e.nextSibling;if(hn&&si<=11&&e.addedNodes.length)for(let p=0;p<e.addedNodes.length;p++){let{previousSibling:m,nextSibling:y}=e.addedNodes[p];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(i=y)}let l=s&&s.parentNode==e.target?Jt(s)+1:0,u=r.localPosFromDOM(e.target,l,-1),d=i&&i.parentNode==e.target?Jt(i):e.target.childNodes.length,f=r.localPosFromDOM(e.target,d,1);return{from:u,to:f}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let cx=new WeakMap,dx=!1;function BL(t){if(!cx.has(t)&&(cx.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=kr,dx)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),dx=!0}}function \$L(t){let e;function n(d){d.preventDefault(),d.stopImmediatePropagation(),e=d.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,s=e.startOffset,i=e.endContainer,l=e.endOffset,u=t.domAtPos(t.state.selection.anchor);return lo(u.node,u.offset,i,l)&&([r,s,i,l]=[i,l,r,s]),{anchorNode:r,anchorOffset:s,focusNode:i,focusOffset:l}}function FL(t,e,n){let{node:r,fromOffset:s,toOffset:i,from:l,to:u}=t.docView.parseRange(e,n),d=t.domSelectionRange(),f,p=d.anchorNode;if(p&&t.dom.contains(p.nodeType==1?p:p.parentNode)&&(f=[{node:p,offset:d.anchorOffset}],Fh(d)||f.push({node:d.focusNode,offset:d.focusOffset})),\$t&&t.input.lastKeyCode===8)for(let T=i;T>s;T--){let x=r.childNodes[T-1],E=x.pmViewDesc;if(x.nodeName=="BR"&&!E){i=T;break}if(!E||E.size)break}let m=t.state.doc,y=t.someProp("domParser")||Ev.fromSchema(t.state.schema),k=m.resolve(l),w=null,b=y.parse(r,{topNode:k.parent,topMatch:k.parent.contentMatchAt(k.index()),topOpen:!0,from:s,to:i,preserveWhitespace:k.parent.type.whitespace=="pre"?"full":!0,findPositions:f,ruleFromNode:_L,context:k});if(f&&f[0].pos!=null){let T=f[0].pos,x=f[1]&&f[1].pos;x==null&&(x=T),w={anchor:T+l,head:x+l}}return{doc:b,sel:w,from:l,to:u}}function _L(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(qt&&/^(ul|ol)\$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||qt&&/^(tr|table)\$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const HL=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)\$/i;function VL(t,e,n,r,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let K=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,se=Av(t,K);if(se&&!t.state.selection.eq(se)){if(\$t&&dr&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",ct=>ct(t,zi(13,"Enter"))))return;let Ce=t.state.tr.setSelection(se);K=="pointer"?Ce.setMeta("pointer",!0):K=="key"&&Ce.scrollIntoView(),i&&Ce.setMeta("composition",i),t.dispatch(Ce)}return}let l=t.state.doc.resolve(e),u=l.sharedDepth(n);e=l.before(u+1),n=t.state.doc.resolve(n).after(u+1);let d=t.state.selection,f=FL(t,e,n),p=t.state.doc,m=p.slice(f.from,f.to),y,k;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(y=t.state.selection.to,k="end"):(y=t.state.selection.from,k="start"),t.input.lastKeyCode=null;let w=UL(m.content,f.doc.content,f.from,y,k);if((Cl&&t.input.lastIOSEnter>Date.now()-225||dr)&&s.some(K=>K.nodeType==1&&!HL.test(K.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",K=>K(t,zi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(r&&d instanceof me&&!d.empty&&d.\$head.sameParent(d.\$anchor)&&!t.composing&&!(f.sel&&f.sel.anchor!=f.sel.head))w={start:d.from,endA:d.to,endB:d.to};else{if(f.sel){let K=fx(t,t.state.doc,f.sel);if(K&&!K.eq(t.state.selection)){let se=t.state.tr.setSelection(K);i&&se.setMeta("composition",i),t.dispatch(se)}}return}if(\$t&&t.cursorWrapper&&f.sel&&f.sel.anchor==t.cursorWrapper.deco.from&&f.sel.head==f.sel.anchor){let K=w.endB-w.start;f.sel={anchor:f.sel.anchor+K,head:f.sel.anchor+K}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof me&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=f.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=f.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),hn&&si<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>f.from&&f.doc.textBetween(w.start-f.from-1,w.start-f.from+1)==" "&&(w.start--,w.endA--,w.endB--);let b=f.doc.resolveNoCache(w.start-f.from),T=f.doc.resolveNoCache(w.endB-f.from),x=p.resolve(w.start),E=b.sameParent(T)&&b.parent.inlineContent&&x.end()>=w.endA,N;if((Cl&&t.input.lastIOSEnter>Date.now()-225&&(!E||s.some(K=>K.nodeName=="DIV"||K.nodeName=="P"))||!E&&b.pos<f.doc.content.size&&!b.sameParent(T)&&(N=pe.findFrom(f.doc.resolve(b.pos+1),1,!0))&&N.head==T.pos)&&t.someProp("handleKeyDown",K=>K(t,zi(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&WL(p,w.start,w.endA,b,T)&&t.someProp("handleKeyDown",K=>K(t,zi(8,"Backspace")))){dr&&\$t&&t.domObserver.suppressSelectionUpdates();return}\$t&&dr&&w.endB==w.start&&(t.input.lastAndroidDelete=Date.now()),dr&&!E&&b.start()!=T.start()&&T.parentOffset==0&&b.depth==T.depth&&f.sel&&f.sel.anchor==f.sel.head&&f.sel.head==w.endA&&(w.endB-=2,T=f.doc.resolveNoCache(w.endB-f.from),setTimeout(()=>{t.someProp("handleKeyDown",function(K){return K(t,zi(13,"Enter"))})},20));let D=w.start,R=w.endA,L,B,J;if(E){if(b.pos==T.pos)hn&&si<=11&&b.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>ss(t),20)),L=t.state.tr.delete(D,R),B=p.resolve(w.start).marksAcross(p.resolve(w.endA));else if(w.endA==w.endB&&(J=jL(b.parent.content.cut(b.parentOffset,T.parentOffset),x.parent.content.cut(x.parentOffset,w.endA-x.start()))))L=t.state.tr,J.type=="add"?L.addMark(D,R,J.mark):L.removeMark(D,R,J.mark);else if(b.parent.child(b.index()).isText&&b.index()==T.index()-(T.textOffset?0:1)){let K=b.parent.textBetween(b.parentOffset,T.parentOffset);if(t.someProp("handleTextInput",se=>se(t,D,R,K)))return;L=t.state.tr.insertText(K,D,R)}}if(L||(L=t.state.tr.replace(D,R,f.doc.slice(w.start-f.from,w.endB-f.from))),f.sel){let K=fx(t,L.doc,f.sel);K&&!(\$t&&dr&&t.composing&&K.empty&&(w.start!=w.endB||t.input.lastAndroidDelete<Date.now()-100)&&(K.head==D||K.head==L.mapping.map(R)-1)||hn&&K.empty&&K.head==D)&&L.setSelection(K)}B&&L.ensureMarks(B),i&&L.setMeta("composition",i),t.dispatch(L.scrollIntoView())}function fx(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Pv(t,e.resolve(n.anchor),e.resolve(n.head))}function jL(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,s=n,i=r,l,u,d;for(let p=0;p<r.length;p++)s=r[p].removeFromSet(s);for(let p=0;p<n.length;p++)i=n[p].removeFromSet(i);if(s.length==1&&i.length==0)u=s[0],l="add",d=p=>p.mark(u.addToSet(p.marks));else if(s.length==0&&i.length==1)u=i[0],l="remove",d=p=>p.mark(u.removeFromSet(p.marks));else return null;let f=[];for(let p=0;p<e.childCount;p++)f.push(d(e.child(p)));if(V.from(f).eq(t))return{mark:u,type:l}}function WL(t,e,n,r,s){if(!r.parent.isTextblock||n-e<=s.pos-r.pos||Ag(r,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let l=t.resolve(Ag(i,!0,!0));return!l.parent.isTextblock||l.pos>n||Ag(l,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(l.parent.content)}function Ag(t,e,n){let r=t.depth,s=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,s++,e=!1;if(n){let i=t.node(r).maybeChild(t.indexAfter(r));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function UL(t,e,n,r,s){let i=t.findDiffStart(e,n);if(i==null)return null;let{a:l,b:u}=t.findDiffEnd(e,n+t.size,n+e.size);if(s=="end"){let d=Math.max(0,i-Math.min(l,u));r-=l+d-i}if(l<i&&t.size<e.size){let d=r<=i&&r>=l?i-r:0;i-=d,i&&i<e.size&&hx(e.textBetween(i-1,i+1))&&(i+=d?1:-1),u=i+(u-l),l=i}else if(u<i){let d=r<=i&&r>=u?i-r:0;i-=d,i&&i<t.size&&hx(t.textBetween(i-1,i+1))&&(i+=d?1:-1),l=i+(l-u),u=i}return{start:i,endA:l,endB:u}}function hx(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class JL{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new hL,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(vx),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=gx(this),mx(this),this.nodeViews=yx(this),this.docView=Kb(this.state.doc,px(this),Ig(this),this.dom,this),this.domObserver=new RL(this,(r,s,i,l)=>VL(this,r,s,i,l)),this.domObserver.start(),pL(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&c0(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(vx),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var r;let s=this.state,i=!1,l=!1;e.storedMarks&&this.composing&&(PN(this),l=!0),this.state=e;let u=s.plugins!=e.plugins||this._props.plugins!=n.plugins;if(u||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let k=yx(this);qL(k,this.nodeViews)&&(this.nodeViews=k,i=!0)}(u||n.handleDOMEvents!=this._props.handleDOMEvents)&&c0(this),this.editable=gx(this),mx(this);let d=Ig(this),f=px(this),p=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,f,d);(m||!e.selection.eq(s.selection))&&(l=!0);let y=p=="preserve"&&l&&this.dom.style.overflowAnchor==null&&C4(this);if(l){this.domObserver.stop();let k=m&&(hn||\$t)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&QL(s.selection,e.selection);if(m){let w=\$t?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,f,d,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Kb(e.doc,f,d,this.dom,this)),w&&!this.trackWrites&&(k=!0)}k||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Z4(this))?ss(this,k):(kN(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((r=this.dragging)===null||r===void 0)&&r.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),p=="reset"?this.dom.scrollTop=0:p=="to selection"?this.scrollToSelection():y&&O4(y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof le){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&jb(this,n.getBoundingClientRect(),e)}else jb(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}updateDraggedNode(e,n){let r=e.node,s=-1;if(this.state.doc.nodeAt(r.from)==r.node)s=r.from;else{let i=r.from+(this.state.doc.content.size-n.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==r.node&&(s=i)}this.dragging=new LN(e.slice,e.move,s<0?void 0:le.create(this.state.doc,s))}someProp(e,n){let r=this._props&&this._props[e],s;if(r!=null&&(s=n?n(r):r))return s;for(let l=0;l<this.directPlugins.length;l++){let u=this.directPlugins[l].props[e];if(u!=null&&(s=n?n(u):u))return s}let i=this.state.plugins;if(i)for(let l=0;l<i.length;l++){let u=i[l].props[e];if(u!=null&&(s=n?n(u):u))return s}}hasFocus(){if(hn){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&I4(this.dom),ss(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return z4(this,e)}coordsAtPos(e,n=1){return dN(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let s=this.docView.posFromDOM(e,n,r);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,n){return _4(this,n||this.state,e)}pasteHTML(e,n){return Au(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Au(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(mL(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Ig(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return yL(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return qt&&this.root.nodeType===11&&S4(this.dom.ownerDocument)==this.dom?\$L(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function px(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"?e.class+=" "+n[r]:r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),e.translate||(e.translate="no"),[On.node(0,t.state.doc.content.size,e)]}function mx(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:On.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function gx(t){return!t.someProp("editable",e=>e(t.state)===!1)}function QL(t,e){let n=Math.min(t.\$anchor.sharedDepth(t.head),e.\$anchor.sharedDepth(e.head));return t.\$anchor.start(n)!=e.\$anchor.start(n)}function yx(t){let e=Object.create(null);function n(r){for(let s in r)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=r[s])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function qL(t,e){let n=0,r=0;for(let s in t){if(t[s]!=e[s])return!0;n++}for(let s in e)r++;return n!=r}function vx(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var ci={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"\`",219:"[",220:"\\",221:"]",222:"'"},zf={48:")",49:"!",50:"@",51:"#",52:"\$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},KL=typeof navigator<"u"&&/Mac/.test(navigator.platform),GL=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Tt=0;Tt<10;Tt++)ci[48+Tt]=ci[96+Tt]=String(Tt);for(var Tt=1;Tt<=24;Tt++)ci[Tt+111]="F"+Tt;for(var Tt=65;Tt<=90;Tt++)ci[Tt]=String.fromCharCode(Tt+32),zf[Tt]=String.fromCharCode(Tt);for(var Pg in ci)zf.hasOwnProperty(Pg)||(zf[Pg]=ci[Pg]);function YL(t){var e=KL&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||GL&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?zf:ci)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const XL=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function ZL(t){let e=t.split(/-(?!\$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u++){let d=e[u];if(/^(cmd|meta|m)\$/i.test(d))l=!0;else if(/^a(lt)?\$/i.test(d))r=!0;else if(/^(c|ctrl|control)\$/i.test(d))s=!0;else if(/^s(hift)?\$/i.test(d))i=!0;else if(/^mod\$/i.test(d))XL?l=!0:s=!0;else throw new Error("Unrecognized modifier name: "+d)}return r&&(n="Alt-"+n),s&&(n="Ctrl-"+n),l&&(n="Meta-"+n),i&&(n="Shift-"+n),n}function ez(t){let e=Object.create(null);for(let n in t)e[ZL(n)]=t[n];return e}function Dg(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function tz(t){return new Zt({props:{handleKeyDown:nz(t)}})}function nz(t){let e=ez(t);return function(n,r){let s=YL(r),i,l=e[Dg(s,r)];if(l&&l(n.state,n.dispatch,n))return!0;if(s.length==1&&s!=" "){if(r.shiftKey){let u=e[Dg(s,r,!1)];if(u&&u(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||s.charCodeAt(0)>127)&&(i=ci[r.keyCode])&&i!=s){let u=e[Dg(i,r)];if(u&&u(n.state,n.dispatch,n))return!0}}return!1}}const rz=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function sz(t,e){let{\$cursor:n}=t.selection;return!n||n.parentOffset>0?null:n}const iz=(t,e,n)=>{let r=sz(t);if(!r)return!1;let s=FN(r);if(!s){let l=r.blockRange(),u=l&&\$l(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&VN(t,s,e))return!0;if(r.parent.content.size==0&&(Ol(i,"end")||le.isSelectable(i))){let l=Nv(t.doc,r.before(),r.after(),G.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Ol(i,"end")?pe.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):le.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1};function Ol(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const oz=(t,e,n)=>{let{\$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(r.parentOffset>0)return!1;i=FN(r)}let l=i&&i.nodeBefore;return!l||!le.isSelectable(l)?!1:(e&&e(t.tr.setSelection(le.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function FN(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function lz(t,e){let{\$cursor:n}=t.selection;return!n||n.parentOffset<n.parent.content.size?null:n}const az=(t,e,n)=>{let r=lz(t);if(!r)return!1;let s=_N(r);if(!s)return!1;let i=s.nodeAfter;if(VN(t,s,e))return!0;if(r.parent.content.size==0&&(Ol(i,"start")||le.isSelectable(i))){let l=Nv(t.doc,r.before(),r.after(),G.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Ol(i,"start")?pe.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):le.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},uz=(t,e,n)=>{let{\$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(r.parentOffset<r.parent.content.size)return!1;i=_N(r)}let l=i&&i.nodeAfter;return!l||!le.isSelectable(l)?!1:(e&&e(t.tr.setSelection(le.create(t.doc,i.pos)).scrollIntoView()),!0)};function _N(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const cz=(t,e)=>{let n=t.selection,r=n instanceof le,s;if(r){if(n.node.isTextblock||!gi(t.doc,n.from))return!1;s=n.from}else if(s=Bh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(le.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},dz=(t,e)=>{let n=t.selection,r;if(n instanceof le){if(n.node.isTextblock||!gi(t.doc,n.to))return!1;r=n.to}else if(r=Bh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},fz=(t,e)=>{let{\$from:n,\$to:r}=t.selection,s=n.blockRange(r),i=s&&\$l(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},hz=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(\`
\`).scrollIntoView()),!0)};function HN(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const pz=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),l=HN(s.contentMatchAt(i));if(!l||!s.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(pe.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},mz=(t,e)=>{let n=t.selection,{\$from:r,\$to:s}=n;if(n instanceof yr||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=HN(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(me.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},gz=(t,e)=>{let{\$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(ml(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&\$l(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},yz=(t,e)=>{let{\$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(le.create(t.doc,s))),!0)};function vz(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||gi(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function VN(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,l;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(vz(t,e,n))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,y=V.empty;for(let b=i.length-1;b>=0;b--)y=V.from(i[b].create(null,y));y=V.from(r.copy(y));let k=t.tr.step(new gt(e.pos-1,m,e.pos,m,new G(y,1,0),i.length,!0)),w=m+2*i.length;gi(k.doc,w)&&k.join(w),n(k.scrollIntoView())}return!0}let d=pe.findFrom(e,1),f=d&&d.\$from.blockRange(d.\$to),p=f&&\$l(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&Ol(s,"start",!0)&&Ol(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let k=s,w=1;for(;!k.isTextblock;k=k.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,k.content)){if(n){let b=V.empty;for(let x=y.length-1;x>=0;x--)b=V.from(y[x].copy(b));let T=t.tr.step(new gt(e.pos-y.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new G(b,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function jN(t){return function(e,n){let r=e.selection,s=t<0?r.\$from:r.\$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(me.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const kz=jN(-1),wz=jN(1);function Sz(t,e=null){return function(n,r){let{\$from:s,\$to:i}=n.selection,l=s.blockRange(i),u=l&&Tv(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function kx(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{\$from:{pos:l},\$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{\$from:{pos:u},\$to:{pos:d}}=n.selection.ranges[l];i.setBlockType(u,d,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function bz(t,e=null){return function(n,r){let{\$from:s,\$to:i}=n.selection,l=s.blockRange(i),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(t)&&l.startIndex==0){if(s.index(l.depth-1)==0)return!1;let p=n.doc.resolve(l.start-2);d=new Nf(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new Nf(s,n.doc.resolve(i.end(l.depth)),l.depth)),u=!0}let f=Tv(d,t,e,l);return f?(r&&r(xz(n.tr,l,f,u,t).scrollIntoView()),!0):!1}}function xz(t,e,n,r,s){let i=V.empty;for(let p=n.length-1;p>=0;p--)i=V.from(n[p].type.create(n[p].attrs,i));t.step(new gt(e.start-(r?2:0),e.end,e.start,e.end,new G(i,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==s&&(l=p+1);let u=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&ml(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return t}function Ez(t){return function(e,n){let{\$from:r,\$to:s}=e.selection,i=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?Mz(e,n,t,i):Tz(e,n,i):!0:!1}}function Mz(t,e,n,r){let s=t.tr,i=r.end,l=r.\$to.end(r.depth);i<l&&(s.step(new gt(i-1,l,i,l,new G(V.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new Nf(s.doc.resolve(r.\$from.pos),s.doc.resolve(l),r.depth));const u=\$l(r);if(u==null)return!1;s.lift(r,u);let d=s.mapping.map(i,-1)-1;return gi(s.doc,d)&&s.join(d),e(s.scrollIntoView()),!0}function Tz(t,e,n){let r=t.tr,s=n.parent;for(let k=n.end,w=n.endIndex-1,b=n.startIndex;w>b;w--)k-=s.child(w).nodeSize,r.delete(k-1,k+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(u?0:1),p+1,l.content.append(d?V.empty:V.from(s))))return!1;let m=i.pos,y=m+l.nodeSize;return r.step(new gt(m-(u?1:0),y+(d?1:0),m+1,y-1,new G((u?V.empty:V.from(s.copy(V.empty))).append(d?V.empty:V.from(s.copy(V.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function Nz(t){return function(e,n){let{\$from:r,\$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==u.type,p=V.from(f?t.create():null),m=new G(V.from(t.create(null,V.from(u.type.create(null,p)))),f?3:1,0),y=i.start,k=i.end;n(e.tr.step(new gt(y-(f?3:1),k,y,k,m,1,!0)).scrollIntoView())}return!0}}function Vh(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class jh{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...f)=>{const p=d(...f)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),p}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(f),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,k])=>[y,(...w)=>{const b=this.buildProps(f,n),T=k(...w)(b);return u.push(T),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([u,d])=>[u,(...f)=>d(...f)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u={tr:e,editor:s,view:l,state:Vh({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(u)]))}};return u}}class Cz{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(s=>s.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(s=>s!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function te(t,e,n){return t.config[e]===void 0&&t.parent?te(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?te(t.parent,e,n):null}):t.config[e]}function Wh(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function WN(t){const e=[],{nodeExtensions:n,markExtensions:r}=Wh(t),s=[...n,...r],i={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=te(l,"addGlobalAttributes",u);d&&d().forEach(f=>{f.types.forEach(p=>{Object.entries(f.attributes).forEach(([m,y])=>{e.push({type:p,name:m,attribute:{...i,...y}})})})})}),s.forEach(l=>{const u={name:l.name,options:l.options,storage:l.storage},d=te(l,"addAttributes",u);if(!d)return;const f=d();Object.entries(f).forEach(([p,m])=>{const y={...i,...m};typeof(y==null?void 0:y.default)=="function"&&(y.default=y.default()),y!=null&&y.isRequired&&(y==null?void 0:y.default)===void 0&&delete y.default,e.push({type:l.name,name:p,attribute:y})})}),e}function kt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(\`There is no node type named '\${t}'. Maybe you forgot to add the extension?\`);return e.nodes[t]}return t}function Re(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const l=i?i.split(" "):[],u=r[s]?r[s].split(" "):[],d=l.filter(f=>!u.includes(f));r[s]=[...u,...d].join(" ")}else s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function d0(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>Re(n,r),{})}function UN(t){return typeof t=="function"}function he(t,e=void 0,...n){return UN(t)?e?t.bind(e)(...n):t(...n):t}function Oz(t={}){return Object.keys(t).length===0&&t.constructor===Object}function Iz(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+\$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function wx(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const s=e.reduce((i,l)=>{const u=l.attribute.parseHTML?l.attribute.parseHTML(n):Iz(n.getAttribute(l.name));return u==null?i:{...i,[l.name]:u}},{});return{...r,...s}}}}function Sx(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&Oz(n)?!1:n!=null))}function Az(t,e){var n;const r=WN(t),{nodeExtensions:s,markExtensions:i}=Wh(t),l=(n=s.find(f=>te(f,"topNode")))===null||n===void 0?void 0:n.name,u=Object.fromEntries(s.map(f=>{const p=r.filter(x=>x.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((x,E)=>{const N=te(E,"extendNodeSchema",m);return{...x,...N?N(f):{}}},{}),k=Sx({...y,content:he(te(f,"content",m)),marks:he(te(f,"marks",m)),group:he(te(f,"group",m)),inline:he(te(f,"inline",m)),atom:he(te(f,"atom",m)),selectable:he(te(f,"selectable",m)),draggable:he(te(f,"draggable",m)),code:he(te(f,"code",m)),defining:he(te(f,"defining",m)),isolating:he(te(f,"isolating",m)),attrs:Object.fromEntries(p.map(x=>{var E;return[x.name,{default:(E=x==null?void 0:x.attribute)===null||E===void 0?void 0:E.default}]}))}),w=he(te(f,"parseHTML",m));w&&(k.parseDOM=w.map(x=>wx(x,p)));const b=te(f,"renderHTML",m);b&&(k.toDOM=x=>b({node:x,HTMLAttributes:d0(x,p)}));const T=te(f,"renderText",m);return T&&(k.toText=T),[f.name,k]})),d=Object.fromEntries(i.map(f=>{const p=r.filter(T=>T.type===f.name),m={name:f.name,options:f.options,storage:f.storage,editor:e},y=t.reduce((T,x)=>{const E=te(x,"extendMarkSchema",m);return{...T,...E?E(f):{}}},{}),k=Sx({...y,inclusive:he(te(f,"inclusive",m)),excludes:he(te(f,"excludes",m)),group:he(te(f,"group",m)),spanning:he(te(f,"spanning",m)),code:he(te(f,"code",m)),attrs:Object.fromEntries(p.map(T=>{var x;return[T.name,{default:(x=T==null?void 0:T.attribute)===null||x===void 0?void 0:x.default}]}))}),w=he(te(f,"parseHTML",m));w&&(k.parseDOM=w.map(T=>wx(T,p)));const b=te(f,"renderHTML",m);return b&&(k.toDOM=T=>b({mark:T,HTMLAttributes:d0(T,p)})),[f.name,k]}));return new _D({topNode:l,nodes:u,marks:d})}function Lg(t,e){return e.nodes[t]||e.marks[t]||null}function bx(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const Pz=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(s,i,l,u)=>{var d,f;const p=((f=(d=s.type.spec).toText)===null||f===void 0?void 0:f.call(d,{node:s,pos:i,parent:l,index:u}))||s.textContent||"%leaf%";n+=p.slice(0,Math.max(0,r-i))}),n};function \$v(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class Uh{constructor(e){this.find=e.find,this.handler=e.handler}}const Dz=(t,e)=>{if(\$v(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function zg(t){var e;const{editor:n,from:r,to:s,text:i,rules:l,plugin:u}=t,{view:d}=n;if(d.composing)return!1;const f=d.state.doc.resolve(r);if(f.parent.type.spec.code||!((e=f.nodeBefore||f.nodeAfter)===null||e===void 0)&&e.marks.find(y=>y.type.spec.code))return!1;let p=!1;const m=Pz(f)+i;return l.forEach(y=>{if(p)return;const k=Dz(m,y.find);if(!k)return;const w=d.state.tr,b=Vh({state:d.state,transaction:w}),T={from:r-(k[0].length-i.length),to:s},{commands:x,chain:E,can:N}=new jh({editor:n,state:b});y.handler({state:b,range:T,match:k,commands:x,chain:E,can:N})===null||!w.steps.length||(w.setMeta(u,{transform:w,from:r,to:s,text:i}),d.dispatch(w),p=!0)}),p}function Lz(t){const{editor:e,rules:n}=t,r=new Zt({state:{init(){return null},apply(s,i){return s.getMeta(r)||(s.selectionSet||s.docChanged?null:i)}},props:{handleTextInput(s,i,l,u){return zg({editor:e,from:i,to:l,text:u,rules:n,plugin:r})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{\$cursor:i}=s.state.selection;i&&zg({editor:e,from:i.pos,to:i.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{\$cursor:l}=s.state.selection;return l?zg({editor:e,from:l.pos,to:l.pos,text:\`
\`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function zz(t){return typeof t=="number"}class Rz{constructor(e){this.find=e.find,this.handler=e.handler}}const Bz=(t,e,n)=>{if(\$v(e))return[...t.matchAll(e)];const r=e(t,n);return r?r.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function \$z(t){const{editor:e,state:n,from:r,to:s,rule:i,pasteEvent:l,dropEvent:u}=t,{commands:d,chain:f,can:p}=new jh({editor:e,state:n}),m=[];return n.doc.nodesBetween(r,s,(y,k)=>{if(!y.isTextblock||y.type.spec.code)return;const w=Math.max(r,k),b=Math.min(s,k+y.content.size),T=y.textBetween(w-k,b-k,void 0,"");Bz(T,i.find,l).forEach(x=>{if(x.index===void 0)return;const E=w+x.index+1,N=E+x[0].length,D={from:n.tr.mapping.map(E),to:n.tr.mapping.map(N)},R=i.handler({state:n,range:D,match:x,commands:d,chain:f,can:p,pasteEvent:l,dropEvent:u});m.push(R)})}),m.every(y=>y!==null)}function Fz(t){const{editor:e,rules:n}=t;let r=null,s=!1,i=!1,l=new ClipboardEvent("paste"),u=new DragEvent("drop");return n.map(d=>new Zt({view(f){const p=m=>{var y;r=!((y=f.dom.parentElement)===null||y===void 0)&&y.contains(m.target)?f.dom.parentElement:null};return window.addEventListener("dragstart",p),{destroy(){window.removeEventListener("dragstart",p)}}},props:{handleDOMEvents:{drop:(f,p)=>(i=r===f.dom.parentElement,u=p,!1),paste:(f,p)=>{var m;const y=(m=p.clipboardData)===null||m===void 0?void 0:m.getData("text/html");return l=p,s=!!(y!=null&&y.includes("data-pm-slice")),!1}}},appendTransaction:(f,p,m)=>{const y=f[0],k=y.getMeta("uiEvent")==="paste"&&!s,w=y.getMeta("uiEvent")==="drop"&&!i;if(!k&&!w)return;const b=p.doc.content.findDiffStart(m.doc.content),T=p.doc.content.findDiffEnd(m.doc.content);if(!zz(b)||!T||b===T.b)return;const x=m.tr,E=Vh({state:m,transaction:x});if(!(!\$z({editor:e,state:E,from:Math.max(b-1,0),to:T.b-1,rule:d,pasteEvent:l,dropEvent:u})||!x.steps.length))return u=new DragEvent("drop"),l=new ClipboardEvent("paste"),x}}))}function _z(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class ll{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=ll.resolve(e),this.schema=Az(this.extensions,n),this.extensions.forEach(r=>{var s;this.editor.extensionStorage[r.name]=r.storage;const i={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:Lg(r.name,this.schema)};r.type==="mark"&&(!((s=he(te(r,"keepOnSplit",i)))!==null&&s!==void 0)||s)&&this.splittableMarks.push(r.name);const l=te(r,"onBeforeCreate",i);l&&this.editor.on("beforeCreate",l);const u=te(r,"onCreate",i);u&&this.editor.on("create",u);const d=te(r,"onUpdate",i);d&&this.editor.on("update",d);const f=te(r,"onSelectionUpdate",i);f&&this.editor.on("selectionUpdate",f);const p=te(r,"onTransaction",i);p&&this.editor.on("transaction",p);const m=te(r,"onFocus",i);m&&this.editor.on("focus",m);const y=te(r,"onBlur",i);y&&this.editor.on("blur",y);const k=te(r,"onDestroy",i);k&&this.editor.on("destroy",k)})}static resolve(e){const n=ll.sort(ll.flatten(e)),r=_z(n.map(s=>s.name));return r.length&&console.warn(\`[tiptap warn]: Duplicate extension names found: [\${r.map(s=>\`'\${s}'\`).join(", ")}]. This can lead to issues.\`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},s=te(n,"addExtensions",r);return s?[n,...this.flatten(s())]:n}).flat(10)}static sort(e){return e.sort((n,r)=>{const s=te(n,"priority")||100,i=te(r,"priority")||100;return s>i?-1:s<i?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:Lg(n.name,this.schema)},s=te(n,"addCommands",r);return s?{...e,...s()}:e},{})}get plugins(){const{editor:e}=this,n=ll.sort([...this.extensions].reverse()),r=[],s=[],i=n.map(l=>{const u={name:l.name,options:l.options,storage:l.storage,editor:e,type:Lg(l.name,this.schema)},d=[],f=te(l,"addKeyboardShortcuts",u);let p={};if(l.type==="mark"&&l.config.exitable&&(p.ArrowRight=()=>gn.handleExit({editor:e,mark:l})),f){const b=Object.fromEntries(Object.entries(f()).map(([T,x])=>[T,()=>x({editor:e})]));p={...p,...b}}const m=tz(p);d.push(m);const y=te(l,"addInputRules",u);bx(l,e.options.enableInputRules)&&y&&r.push(...y());const k=te(l,"addPasteRules",u);bx(l,e.options.enablePasteRules)&&k&&s.push(...k());const w=te(l,"addProseMirrorPlugins",u);if(w){const b=w();d.push(...b)}return d}).flat();return[Lz({editor:e,rules:r}),...Fz({editor:e,rules:s}),...i]}get attributes(){return WN(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=Wh(this.extensions);return Object.fromEntries(n.filter(r=>!!te(r,"addNodeView")).map(r=>{const s=this.attributes.filter(d=>d.type===r.name),i={name:r.name,options:r.options,storage:r.storage,editor:e,type:kt(r.name,this.schema)},l=te(r,"addNodeView",i);if(!l)return[];const u=(d,f,p,m)=>{const y=d0(d,s);return l()({editor:e,node:d,getPos:p,decorations:m,HTMLAttributes:y,extension:r})};return[r.name,u]}))}}function Hz(t){return Object.prototype.toString.call(t).slice(8,-1)}function Rg(t){return Hz(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Jh(t,e){const n={...t};return Rg(t)&&Rg(e)&&Object.keys(e).forEach(r=>{Rg(e[r])?r in t?n[r]=Jh(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class mn{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new mn(e)}configure(e={}){const n=this.extend();return n.options=Jh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new mn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}}function JN(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=\`

\`,textSerializers:l={}}=n||{};let u="",d=!0;return t.nodesBetween(r,s,(f,p,m,y)=>{var k;const w=l==null?void 0:l[f.type.name];w?(f.isBlock&&!d&&(u+=i,d=!0),m&&(u+=w({node:f,pos:p,parent:m,index:y,range:e}))):f.isText?(u+=(k=f==null?void 0:f.text)===null||k===void 0?void 0:k.slice(Math.max(r,p)-p,s-p),d=!1):f.isBlock&&!d&&(u+=i,d=!0)}),u}function QN(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const Vz=mn.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Zt({key:new Yn("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,l=Math.min(...i.map(f=>f.\$from.pos)),u=Math.max(...i.map(f=>f.\$to.pos)),d=QN(n);return JN(r,{from:l,to:u},{textSerializers:d})}}})]}}),jz=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),Wz=(t=!1)=>({commands:e})=>e.setContent("",t),Uz=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({\$from:i,\$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+u.nodeSize)),k=m.blockRange(y);if(!k)return;const w=\$l(k);if(u.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(k.start,b)}(w||w===0)&&e.lift(k,w)})}),!0},Jz=t=>e=>t(e),Qz=()=>({state:t,dispatch:e})=>mz(t,e),qz=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new me(r.doc.resolve(l-1))),!0},Kz=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.\$anchor.node();if(r.content.size>0)return!1;const s=t.selection.\$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const l=s.before(i),u=s.after(i);t.delete(l,u).scrollIntoView()}return!0}return!1},Gz=t=>({tr:e,state:n,dispatch:r})=>{const s=kt(t,n.schema),i=e.selection.\$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s){if(r){const u=i.before(l),d=i.after(l);e.delete(u,d).scrollIntoView()}return!0}return!1},Yz=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},Xz=()=>({state:t,dispatch:e})=>rz(t,e),Zz=()=>({commands:t})=>t.keyboardShortcut("Enter"),eR=()=>({state:t,dispatch:e})=>pz(t,e);function Rf(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:\$v(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function f0(t,e,n={}){return t.find(r=>r.type===e&&Rf(r.attrs,n))}function tR(t,e,n={}){return!!f0(t,e,n)}function Fv(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=f0([...r.node.marks],e,n);if(!s)return;let i=r.index,l=t.start()+r.offset,u=i+1,d=l+r.node.nodeSize;for(f0([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,l-=t.parent.child(i).nodeSize;for(;u<t.parent.childCount&&tR([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function vi(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(\`There is no mark type named '\${t}'. Maybe you forgot to add the extension?\`);return e.marks[t]}return t}const nR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=vi(t,r.schema),{doc:l,selection:u}=n,{\$from:d,from:f,to:p}=u;if(s){const m=Fv(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=me.create(l,m.from,m.to);n.setSelection(y)}}return!0},rR=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function qN(t){return t instanceof me}function Hi(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function KN(t,e=null){if(!e)return null;const n=pe.atStart(t),r=pe.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?me.create(t,Hi(0,s,i),Hi(t.content.size,s,i)):me.create(t,Hi(e,s,i),Hi(e,s,i))}function _v(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const sR=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{_v()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!qN(n.state.selection))return l(),!0;const u=KN(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return i&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},iR=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),oR=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),h0=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&!/\S/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&h0(r)}return t};function xx(t){const e=\`<body>\${t}</body>\`,n=new window.DOMParser().parseFromString(e,"text/html").body;return h0(n),h0(n)}function Bf(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?V.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Bf("",e,n)}if(typeof t=="string"){const r=Ev.fromSchema(e);return n.slice?r.parseSlice(xx(t),n.parseOptions).content:r.parse(xx(t),n.parseOptions)}return Bf("",e,n)}function lR(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof Mt||s instanceof gt))return;const i=t.mapping.maps[r];let l=0;i.forEach((u,d,f,p)=>{l===0&&(l=p)}),t.setSelection(pe.near(t.doc.resolve(l),n))}const aR=t=>t.toString().startsWith("<"),uR=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,...n};const l=Bf(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(l.toString()==="<>")return!0;let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((aR(l)?l:[l]).forEach(m=>{m.check(),f=f?m.isText&&m.marks.length===0:!1,p=p?m.isBlock:!1}),u===d&&p){const{parent:m}=r.doc.resolve(u);m.isTextblock&&!m.type.spec.code&&!m.childCount&&(u-=1,d+=1)}f?Array.isArray(e)?r.insertText(e.map(m=>m.text||"").join(""),u,d):typeof e=="object"&&e&&e.text?r.insertText(e.text,u,d):r.insertText(e,u,d):r.replaceWith(u,d,l),n.updateSelection&&lR(r,r.steps.length-1,-1)}return!0},cR=()=>({state:t,dispatch:e})=>cz(t,e),dR=()=>({state:t,dispatch:e})=>dz(t,e),fR=()=>({state:t,dispatch:e})=>iz(t,e),hR=()=>({state:t,dispatch:e})=>az(t,e),pR=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Bh(e.doc,e.selection.\$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},mR=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Bh(t.doc,t.selection.\$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}};function Hv(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function gR(t){const e=t.split(/-(?!\$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)\$/i.test(d))l=!0;else if(/^a(lt)?\$/i.test(d))r=!0;else if(/^(c|ctrl|control)\$/i.test(d))s=!0;else if(/^s(hift)?\$/i.test(d))i=!0;else if(/^mod\$/i.test(d))_v()||Hv()?l=!0:s=!0;else throw new Error(\`Unrecognized modifier name: \${d}\`)}return r&&(n=\`Alt-\${n}\`),s&&(n=\`Ctrl-\${n}\`),l&&(n=\`Meta-\${n}\`),i&&(n=\`Shift-\${n}\`),n}const yR=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=gR(t).split(/-(?!\$)/),l=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,u))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function Du(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,l=e?kt(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(p,m)=>{if(p.isText)return;const y=Math.max(r,m),k=Math.min(s,m+p.nodeSize);u.push({node:p,from:y,to:k})});const d=s-r,f=u.filter(p=>l?l.name===p.node.type.name:!0).filter(p=>Rf(p.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((p,m)=>p+m.to-m.from,0)>=d}const vR=(t,e={})=>({state:n,dispatch:r})=>{const s=kt(t,n.schema);return Du(n,s,e)?fz(n,r):!1},kR=()=>({state:t,dispatch:e})=>gz(t,e),wR=t=>({state:e,dispatch:n})=>{const r=kt(t,e.schema);return Ez(r)(e,n)},SR=()=>({state:t,dispatch:e})=>hz(t,e);function Qh(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Ex(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const bR=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=Qh(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=kt(t,r.schema)),u==="mark"&&(l=vi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.\$from.pos,d.\$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,Ex(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(Ex(m.attrs,e)))})})}),!0):!1},xR=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),ER=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),MR=()=>({state:t,dispatch:e})=>oz(t,e),TR=()=>({state:t,dispatch:e})=>uz(t,e),NR=()=>({state:t,dispatch:e})=>yz(t,e),CR=()=>({state:t,dispatch:e})=>wz(t,e),OR=()=>({state:t,dispatch:e})=>kz(t,e);function GN(t,e,n={}){return Bf(t,e,{slice:!1,parseOptions:n})}const IR=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:l}=r,u=GN(t,s.schema,n);return i&&r.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!e),!0};function Uu(t,e){const n=vi(e,t.schema),{from:r,to:s,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.\$head.marks())):t.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function AR(t,e){const n=new rN(t);return e.forEach(r=>{r.steps.forEach(s=>{n.step(s)})}),n}function PR(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function DR(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(s,i)=>{n(s)&&r.push({node:s,pos:i})}),r}function LR(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function Vv(t){return e=>LR(e.\$from,t)}function zR(t,e){const n=Lr.fromSchema(e).serializeFragment(t),r=document.implementation.createHTMLDocument().createElement("div");return r.appendChild(n),r.innerHTML}function RR(t,e){const n={from:0,to:t.content.size};return JN(t,n,e)}function BR(t,e){const n=kt(e,t.schema),{from:r,to:s}=t.selection,i=[];t.doc.nodesBetween(r,s,u=>{i.push(u)});const l=i.reverse().find(u=>u.type.name===n.name);return l?{...l.attrs}:{}}function YN(t,e){const n=Qh(typeof e=="string"?e:e.name,t.schema);return n==="node"?BR(t,e):n==="mark"?Uu(t,e):{}}function \$R(t,e=JSON.stringify){const n={};return t.filter(r=>{const s=e(r);return Object.prototype.hasOwnProperty.call(n,s)?!1:n[s]=!0})}function FR(t){const e=\$R(t);return e.length===1?e:e.filter((n,r)=>!e.filter((s,i)=>i!==r).some(s=>n.oldRange.from>=s.oldRange.from&&n.oldRange.to<=s.oldRange.to&&n.newRange.from>=s.newRange.from&&n.newRange.to<=s.newRange.to))}function _R(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((s,i)=>{const l=[];if(s.ranges.length)s.forEach((u,d)=>{l.push({from:u,to:d})});else{const{from:u,to:d}=n[i];if(u===void 0||d===void 0)return;l.push({from:u,to:d})}l.forEach(({from:u,to:d})=>{const f=e.slice(i).map(u,-1),p=e.slice(i).map(d),m=e.invert().map(f,-1),y=e.invert().map(p);r.push({oldRange:{from:m,to:y},newRange:{from:f,to:p}})})}),FR(r)}function jv(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(s=>{const i=n.resolve(t-1),l=Fv(i,s.type);l&&r.push({mark:s,...l})}):n.nodesBetween(t,e,(s,i)=>{!s||s.nodeSize===void 0||r.push(...s.marks.map(l=>({from:i,to:i+s.nodeSize,mark:l})))}),r}function Ud(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function p0(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?vi(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.\$from.marks()).filter(p=>i?i.name===p.type.name:!0).find(p=>Rf(p.attrs,n,{strict:!1}));let l=0;const u=[];if(s.forEach(({\$from:p,\$to:m})=>{const y=p.pos,k=m.pos;t.doc.nodesBetween(y,k,(w,b)=>{if(!w.isText&&!w.marks.length)return;const T=Math.max(y,b),x=Math.min(k,b+w.nodeSize),E=x-T;l+=E,u.push(...w.marks.map(N=>({mark:N,from:T,to:x})))})}),l===0)return!1;const d=u.filter(p=>i?i.name===p.mark.type.name:!0).filter(p=>Rf(p.mark.attrs,n,{strict:!1})).reduce((p,m)=>p+m.to-m.from,0),f=u.filter(p=>i?p.mark.type!==i&&p.mark.type.excludes(i):!0).reduce((p,m)=>p+m.to-m.from,0);return(d>0?d+f:d)>=l}function HR(t,e,n={}){if(!e)return Du(t,null,n)||p0(t,null,n);const r=Qh(e,t.schema);return r==="node"?Du(t,e,n):r==="mark"?p0(t,e,n):!1}function Mx(t,e){const{nodeExtensions:n}=Wh(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=he(te(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function VR(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function jR(t,e,n){var r;const{selection:s}=e;let i=null;if(qN(s)&&(i=s.\$cursor),i){const u=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(u)||!u.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({\$from:u,\$to:d})=>{let f=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const k=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(b=>b.type.excludes(n));f=k&&w}return!f}),f})}const WR=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:l,ranges:u}=i,d=vi(t,r.schema);if(s)if(l){const f=Uu(r,d);n.addStoredMark(d.create({...f,...e}))}else u.forEach(f=>{const p=f.\$from.pos,m=f.\$to.pos;r.doc.nodesBetween(p,m,(y,k)=>{const w=Math.max(k,p),b=Math.min(k+y.nodeSize,m);y.marks.find(T=>T.type===d)?y.marks.forEach(T=>{d===T.type&&n.addMark(w,b,d.create({...T.attrs,...e}))}):n.addMark(w,b,d.create(e))})});return jR(r,n,d)},UR=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),JR=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=kt(t,n.schema);return i.isTextblock?s().command(({commands:l})=>kx(i,e)(n)?!0:l.clearNodes()).command(({state:l})=>kx(i,e)(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},QR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Hi(t,0,r.content.size),i=le.create(r,s);e.setSelection(i)}return!0},qR=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,l=me.atStart(r).from,u=me.atEnd(r).to,d=Hi(s,l,u),f=Hi(i,l,u),p=me.create(r,d,f);e.setSelection(p)}return!0},KR=t=>({state:e,dispatch:n})=>{const r=kt(t,e.schema);return Nz(r)(e,n)};function Tx(t,e){const n=t.storedMarks||t.selection.\$to.parentOffset&&t.selection.\$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const GR=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:l}=e,{\$from:u,\$to:d}=i,f=s.extensionManager.attributes,p=Ud(f,u.node().type.name,u.node().attrs);if(i instanceof le&&i.node.isBlock)return!u.parentOffset||!ml(l,u.pos)?!1:(r&&(t&&Tx(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(r){const m=d.parentOffset===d.parent.content.size;i instanceof me&&e.deleteSelection();const y=u.depth===0?void 0:PR(u.node(-1).contentMatchAt(u.indexAfter(-1)));let k=m&&y?[{type:y,attrs:p}]:void 0,w=ml(e.doc,e.mapping.map(u.pos),1,k);if(!k&&!w&&ml(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,k=y?[{type:y,attrs:p}]:void 0),w&&(e.split(e.mapping.map(u.pos),1,k),y&&!m&&!u.parentOffset&&u.parent.type!==y)){const b=e.mapping.map(u.before()),T=e.doc.resolve(b);u.node(-1).canReplaceWith(T.index(),T.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&Tx(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},YR=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const l=kt(t,n.schema),{\$from:u,\$to:d}=n.selection,f=n.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const m=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let T=V.empty;const x=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-x;B>=u.depth-3;B-=1)T=V.from(u.node(B).copy(T));const E=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,N=Ud(m,u.node().type.name,u.node().attrs),D=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(N))||void 0;T=T.append(V.from(l.createAndFill(null,D)||void 0));const R=u.before(u.depth-(x-1));e.replace(R,u.after(-E),new G(T,4-x,0));let L=-1;e.doc.nodesBetween(R,e.doc.content.size,(B,J)=>{if(L>-1)return!1;B.isTextblock&&B.content.size===0&&(L=J+1)}),L>-1&&e.setSelection(me.near(e.doc.resolve(L))),e.scrollIntoView()}return!0}const y=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,k=Ud(m,p.type.name,p.attrs),w=Ud(m,u.node().type.name,u.node().attrs);e.delete(u.pos,d.pos);const b=y?[{type:l,attrs:k},{type:y,attrs:w}]:[{type:l,attrs:k}];if(!ml(e.doc,u.pos,2))return!1;if(r){const{selection:T,storedMarks:x}=n,{splittableMarks:E}=s.extensionManager,N=x||T.\$to.parentOffset&&T.\$from.marks();if(e.split(u.pos,2,b).scrollIntoView(),!N||!r)return!0;const D=N.filter(R=>E.includes(R.type.name));e.ensureMarks(D)}return!0},Bg=(t,e)=>{const n=Vv(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&gi(t.doc,n.pos)&&t.join(n.pos),!0},\$g=(t,e)=>{const n=Vv(i=>i.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&gi(t.doc,r)&&t.join(r),!0},XR=(t,e,n,r={})=>({editor:s,tr:i,state:l,dispatch:u,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,k=kt(t,l.schema),w=kt(e,l.schema),{selection:b,storedMarks:T}=l,{\$from:x,\$to:E}=b,N=x.blockRange(E),D=T||b.\$to.parentOffset&&b.\$from.marks();if(!N)return!1;const R=Vv(L=>Mx(L.type.name,m))(b);if(N.depth>=1&&R&&N.depth-R.depth<=1){if(R.node.type===k)return f.liftListItem(w);if(Mx(R.node.type.name,m)&&k.validContent(R.node.content)&&u)return d().command(()=>(i.setNodeMarkup(R.pos,k),!0)).command(()=>Bg(i,k)).command(()=>\$g(i,k)).run()}return!n||!D||!u?d().command(()=>p().wrapInList(k,r)?!0:f.clearNodes()).wrapInList(k,r).command(()=>Bg(i,k)).command(()=>\$g(i,k)).run():d().command(()=>{const L=p().wrapInList(k,r),B=D.filter(J=>y.includes(J.type.name));return i.ensureMarks(B),L?!0:f.clearNodes()}).wrapInList(k,r).command(()=>Bg(i,k)).command(()=>\$g(i,k)).run()},ZR=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,l=vi(t,r.schema);return p0(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:i}):s.setMark(l,e)},eB=(t,e,n={})=>({state:r,commands:s})=>{const i=kt(t,r.schema),l=kt(e,r.schema);return Du(r,i,n)?s.setNode(l):s.setNode(i,n)},tB=(t,e={})=>({state:n,commands:r})=>{const s=kt(t,n.schema);return Du(n,s,e)?r.lift(s):r.wrapIn(s,e)},nB=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const l=t.tr,u=i.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(i.text){const d=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else l.delete(i.from,i.to)}return!0}}return!1},rB=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.\$from.pos,i.\$to.pos)}),!0},sB=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=vi(t,r.schema),{\$from:f,empty:p,ranges:m}=u;if(!s)return!0;if(p&&l){let{from:y,to:k}=u;const w=(i=f.marks().find(T=>T.type===d))===null||i===void 0?void 0:i.attrs,b=Fv(f,d,w);b&&(y=b.from,k=b.to),n.removeMark(y,k,d)}else m.forEach(y=>{n.removeMark(y.\$from.pos,y.\$to.pos,d)});return n.removeStoredMark(d),!0},iB=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=Qh(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=kt(t,r.schema)),u==="mark"&&(l=vi(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.\$from.pos,p=d.\$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{i&&i===m.type&&n.setNodeMarkup(y,void 0,{...m.attrs,...e}),l&&m.marks.length&&m.marks.forEach(k=>{if(l===k.type){const w=Math.max(y,f),b=Math.min(y+m.nodeSize,p);n.addMark(w,b,l.create({...k.attrs,...e}))}})})}),!0):!1},oB=(t,e={})=>({state:n,dispatch:r})=>{const s=kt(t,n.schema);return Sz(s,e)(n,r)},lB=(t,e={})=>({state:n,dispatch:r})=>{const s=kt(t,n.schema);return bz(s,e)(n,r)};var aB=Object.freeze({__proto__:null,blur:jz,clearContent:Wz,clearNodes:Uz,command:Jz,createParagraphNear:Qz,cut:qz,deleteCurrentNode:Kz,deleteNode:Gz,deleteRange:Yz,deleteSelection:Xz,enter:Zz,exitCode:eR,extendMarkRange:nR,first:rR,focus:sR,forEach:iR,insertContent:oR,insertContentAt:uR,joinUp:cR,joinDown:dR,joinBackward:fR,joinForward:hR,joinItemBackward:pR,joinItemForward:mR,keyboardShortcut:yR,lift:vR,liftEmptyBlock:kR,liftListItem:wR,newlineInCode:SR,resetAttributes:bR,scrollIntoView:xR,selectAll:ER,selectNodeBackward:MR,selectNodeForward:TR,selectParentNode:NR,selectTextblockEnd:CR,selectTextblockStart:OR,setContent:IR,setMark:WR,setMeta:UR,setNode:JR,setNodeSelection:QR,setTextSelection:qR,sinkListItem:KR,splitBlock:GR,splitListItem:YR,toggleList:XR,toggleMark:ZR,toggleNode:eB,toggleWrap:tB,undoInputRule:nB,unsetAllMarks:rB,unsetMark:sB,updateAttributes:iB,wrapIn:oB,wrapInList:lB});const uB=mn.create({name:"commands",addCommands(){return{...aB}}}),cB=mn.create({name:"editable",addProseMirrorPlugins(){return[new Zt({key:new Yn("editable"),props:{editable:()=>this.editor.options.editable}})]}}),dB=mn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Zt({key:new Yn("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),fB=mn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:i})=>[()=>i.undoInputRule(),()=>i.command(({tr:l})=>{const{selection:u,doc:d}=l,{empty:f,\$anchor:p}=u,{pos:m,parent:y}=p,k=p.parent.isTextblock?l.doc.resolve(m-1):p,w=k.parent.type.spec.isolating,b=p.pos-p.parentOffset,T=w&&k.parent.childCount===1?b===p.pos:pe.atStart(d).from===m;return!f||!T||!y.type.isTextblock||y.textContent.length?!1:i.clearNodes()}),()=>i.deleteSelection(),()=>i.joinBackward(),()=>i.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:i})=>[()=>i.deleteSelection(),()=>i.deleteCurrentNode(),()=>i.joinForward(),()=>i.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:i})=>[()=>i.newlineInCode(),()=>i.createParagraphNear(),()=>i.liftEmptyBlock(),()=>i.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},r={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return _v()||Hv()?s:r},addProseMirrorPlugins(){return[new Zt({key:new Yn("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(m=>m.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:r,from:s,to:i}=e.selection,l=pe.atStart(e.doc).from,u=pe.atEnd(e.doc).to;if(r||!(s===l&&i===u)||n.doc.textBetween(0,n.doc.content.size," "," ").length!==0)return;const d=n.tr,f=Vh({state:n,transaction:d}),{commands:p}=new jh({editor:this.editor,state:f});if(p.clearNodes(),!!d.steps.length)return d}})]}}),hB=mn.create({name:"tabindex",addProseMirrorPlugins(){return[new Zt({key:new Yn("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var pB=Object.freeze({__proto__:null,ClipboardTextSerializer:Vz,Commands:uB,Editable:cB,FocusEvents:dB,Keymap:fB,Tabindex:hB});const mB=\`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}\`;function gB(t,e,n){const r=document.querySelector("style[data-tiptap-style]");if(r!==null)return r;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}let yB=class extends Cz{constructor(t={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=gB(mB,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(t,e){const n=UN(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],r=this.state.reconfigure({plugins:n});this.view.updateState(r)}unregisterPlugin(t){if(this.isDestroyed)return;const e=typeof t=="string"?\`\${t}\$\`:t.key,n=this.state.reconfigure({plugins:this.state.plugins.filter(r=>!r.key.startsWith(e))});this.view.updateState(n)}createExtensionManager(){const t=[...this.options.enableCoreExtensions?Object.values(pB):[],...this.options.extensions].filter(e=>["extension","node","mark"].includes(e==null?void 0:e.type));this.extensionManager=new ll(t,this)}createCommandManager(){this.commandManager=new jh({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const t=GN(this.options.content,this.schema,this.options.parseOptions),e=KN(t,this.options.autofocus);this.view=new JL(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:ol.create({doc:t,selection:e||void 0})});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.createNodeViews(),this.prependClass();const r=this.view.dom;r.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=\`tiptap \${this.view.dom.className}\`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(i=>{var l;return(l=this.capturedTransaction)===null||l===void 0?void 0:l.step(i)});return}const e=this.state.apply(t),n=!this.state.selection.eq(e.selection);this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const r=t.getMeta("focus"),s=t.getMeta("blur");r&&this.emit("focus",{editor:this,event:r.event,transaction:t}),s&&this.emit("blur",{editor:this,event:s.event,transaction:t}),!(!t.docChanged||t.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:t})}getAttributes(t){return YN(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,r=typeof t=="string"?e:t;return HR(this.state,n,r)}getJSON(){return this.state.doc.toJSON()}getHTML(){return zR(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=\`

\`,textSerializers:n={}}=t||{};return RR(this.state.doc,{blockSeparator:e,textSerializers:{...QN(this.schema),...n}})}get isEmpty(){return VR(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var t;return!(!((t=this.view)===null||t===void 0)&&t.docView)}};function uo(t){return new Uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=he(t.getAttributes,void 0,r);if(s===!1||s===null)return null;const{tr:i}=e,l=r[r.length-1],u=r[0];if(l){const d=u.search(/\S/),f=n.from+u.indexOf(l),p=f+l.length;if(jv(n.from,n.to,e.doc).filter(y=>y.mark.type.excluded.find(k=>k===t.type&&k!==y.mark.type)).filter(y=>y.to>f).length)return null;p<n.to&&i.delete(p,n.to),f>n.from&&i.delete(n.from+d,f);const m=n.from+d+l.length;i.addMark(n.from+d,m,t.type.create(s||{})),i.removeStoredMark(t.type)}}})}function vB(t){return new Uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=he(t.getAttributes,void 0,r)||{},{tr:i}=e,l=n.from;let u=n.to;const d=t.type.create(s);if(r[1]){const f=r[0].lastIndexOf(r[1]);let p=l+f;p>u?p=u:u=p+r[1].length;const m=r[0][r[0].length-1];i.insertText(m,l+r[0].length-1),i.replaceWith(p,u,d)}else r[0]&&i.insert(l-1,t.type.create(s)).delete(i.mapping.map(l),i.mapping.map(u));i.scrollIntoView()}})}function kB(t){return new Uh({find:t.find,handler:({state:e,range:n,match:r})=>{const s=e.doc.resolve(n.from),i=he(t.getAttributes,void 0,r)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,i)}})}function Il(t){return new Uh({find:t.find,handler:({state:e,range:n,match:r,chain:s})=>{const i=he(t.getAttributes,void 0,r)||{},l=e.tr.delete(n.from,n.to),u=l.doc.resolve(n.from).blockRange(),d=u&&Tv(u,t.type,i);if(!d)return null;if(l.wrap(u,d),t.keepMarks&&t.editor){const{selection:p,storedMarks:m}=e,{splittableMarks:y}=t.editor.extensionManager,k=m||p.\$to.parentOffset&&p.\$from.marks();if(k){const w=k.filter(b=>y.includes(b.type.name));l.ensureMarks(w)}}if(t.keepAttributes){const p=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(p,i).run()}const f=l.doc.resolve(n.from-1).nodeBefore;f&&f.type===t.type&&gi(l.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,f))&&l.join(n.from-1)}})}class gn{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new gn(e)}configure(e={}){const n=this.extend();return n.options=Jh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new gn(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,s=e.state.selection.\$from;if(s.pos===s.end()){const i=s.marks();if(!i.find(u=>(u==null?void 0:u.type.name)===n.name))return!1;const l=i.find(u=>(u==null?void 0:u.type.name)===n.name);return l&&r.removeStoredMark(l),r.insertText(" ",s.pos),e.view.dispatch(r),!0}return!1}}class Ot{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=he(te(this,"addOptions",{name:this.name}))),this.storage=he(te(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ot(e)}configure(e={}){const n=this.extend();return n.options=Jh(this.options,e),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ot(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=he(te(n,"addOptions",{name:n.name})),n.storage=he(te(n,"addStorage",{name:n.name,options:n.options})),n}}function di(t){return new Rz({find:t.find,handler:({state:e,range:n,match:r,pasteEvent:s})=>{const i=he(t.getAttributes,void 0,r,s);if(i===!1||i===null)return null;const{tr:l}=e,u=r[r.length-1],d=r[0];let f=n.to;if(u){const p=d.search(/\S/),m=n.from+d.indexOf(u),y=m+u.length;if(jv(n.from,n.to,e.doc).filter(k=>k.mark.type.excluded.find(w=>w===t.type&&w!==k.mark.type)).filter(k=>k.to>m).length)return null;y<n.to&&l.delete(y,n.to),m>n.from&&l.delete(n.from+p,m),f=n.from+p+u.length,l.addMark(n.from+p,f,t.type.create(i||{})),l.removeStoredMark(t.type)}}})}var XN={exports:{}},on={},Nx={exports:{}},Cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ox;function wB(){return Ox||(Ox=1,function(t){function e(z,W){var F=z.length;z.push(W);e:for(;0<F;){var ae=F-1>>>1,de=z[ae];if(0<s(de,W))z[ae]=W,z[F]=de,F=ae;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var W=z[0],F=z.pop();if(F!==W){z[0]=F;e:for(var ae=0,de=z.length,yn=de>>>1;ae<yn;){var st=2*(ae+1)-1,Hr=z[st],it=st+1,Zn=z[it];if(0>s(Hr,F))it<de&&0>s(Zn,Hr)?(z[ae]=Zn,z[it]=F,ae=it):(z[ae]=Hr,z[st]=F,ae=st);else if(it<de&&0>s(Zn,F))z[ae]=Zn,z[it]=F,ae=it;else break e}}return W}function s(z,W){var F=z.sortIndex-W.sortIndex;return F!==0?F:z.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,u=l.now();t.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,m=null,y=3,k=!1,w=!1,b=!1,T=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(z){for(var W=n(f);W!==null;){if(W.callback===null)r(f);else if(W.startTime<=z)r(f),W.sortIndex=W.expirationTime,e(d,W);else break;W=n(f)}}function D(z){if(b=!1,N(z),!w)if(n(d)!==null)w=!0,Ke(R);else{var W=n(f);W!==null&&wt(D,W.startTime-z)}}function R(z,W){w=!1,b&&(b=!1,x(J),J=-1),k=!0;var F=y;try{for(N(W),m=n(d);m!==null&&(!(m.expirationTime>W)||z&&!Ce());){var ae=m.callback;if(typeof ae=="function"){m.callback=null,y=m.priorityLevel;var de=ae(m.expirationTime<=W);W=t.unstable_now(),typeof de=="function"?m.callback=de:m===n(d)&&r(d),N(W)}else r(d);m=n(d)}if(m!==null)var yn=!0;else{var st=n(f);st!==null&&wt(D,st.startTime-W),yn=!1}return yn}finally{m=null,y=F,k=!1}}var L=!1,B=null,J=-1,K=5,se=-1;function Ce(){return!(t.unstable_now()-se<K)}function ct(){if(B!==null){var z=t.unstable_now();se=z;var W=!0;try{W=B(!0,z)}finally{W?rt():(L=!1,B=null)}}else L=!1}var rt;if(typeof E=="function")rt=function(){E(ct)};else if(typeof MessageChannel<"u"){var Ln=new MessageChannel,Xn=Ln.port2;Ln.port1.onmessage=ct,rt=function(){Xn.postMessage(null)}}else rt=function(){T(ct,0)};function Ke(z){B=z,L||(L=!0,rt())}function wt(z,W){J=T(function(){z(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){w||k||(w=!0,Ke(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(z){switch(y){case 1:case 2:case 3:var W=3;break;default:W=y}var F=y;y=W;try{return z()}finally{y=F}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var F=y;y=z;try{return W()}finally{y=F}},t.unstable_scheduleCallback=function(z,W,F){var ae=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ae+F:ae):F=ae,z){case 1:var de=-1;break;case 2:de=250;break;case 5:de=1073741823;break;case 4:de=1e4;break;default:de=5e3}return de=F+de,z={id:p++,callback:W,priorityLevel:z,startTime:F,expirationTime:de,sortIndex:-1},F>ae?(z.sortIndex=F,e(f,z),n(d)===null&&z===n(f)&&(b?(x(J),J=-1):b=!0,wt(D,F-ae))):(z.sortIndex=de,e(d,z),w||k||(w=!0,Ke(R))),z},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(z){var W=y;return function(){var F=y;y=W;try{return z.apply(this,arguments)}finally{y=F}}}}(Cx)),Cx}var Ix;function SB(){return Ix||(Ix=1,Nx.exports=wB()),Nx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax;function bB(){if(Ax)return on;Ax=1;var t=ke,e=SB();function n(o){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+o,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+o+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function i(o,a){l(o,a),l(o+"Capture",a)}function l(o,a){for(s[o]=a,o=0;o<a.length;o++)r.add(a[o])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*\$/,p={},m={};function y(o){return d.call(m,o)?!0:d.call(p,o)?!1:f.test(o)?m[o]=!0:(p[o]=!0,!1)}function k(o,a,c,h){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function w(o,a,c,h){if(a===null||typeof a>"u"||k(o,a,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function b(o,a,c,h,g,v,S){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=h,this.attributeNamespace=g,this.mustUseProperty=c,this.propertyName=o,this.type=a,this.sanitizeURL=v,this.removeEmptyString=S}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){T[o]=new b(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var a=o[0];T[a]=new b(a,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){T[o]=new b(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){T[o]=new b(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){T[o]=new b(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){T[o]=new b(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){T[o]=new b(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){T[o]=new b(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){T[o]=new b(o,5,!1,o.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function E(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var a=o.replace(x,E);T[a]=new b(a,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){T[o]=new b(o,1,!1,o.toLowerCase(),null,!1,!1)}),T.xlinkHref=new b("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){T[o]=new b(o,1,!1,o.toLowerCase(),null,!0,!0)});function N(o,a,c,h){var g=T.hasOwnProperty(a)?T[a]:null;(g!==null?g.type!==0:h||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(w(a,c,g,h)&&(c=null),h||g===null?y(a)&&(c===null?o.removeAttribute(a):o.setAttribute(a,""+c)):g.mustUseProperty?o[g.propertyName]=c===null?g.type===3?!1:"":c:(a=g.attributeName,h=g.attributeNamespace,c===null?o.removeAttribute(a):(g=g.type,c=g===3||g===4&&c===!0?"":""+c,h?o.setAttributeNS(h,a,c):o.setAttribute(a,c))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,R=Symbol.for("react.element"),L=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),Ce=Symbol.for("react.context"),ct=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),Ln=Symbol.for("react.suspense_list"),Xn=Symbol.for("react.memo"),Ke=Symbol.for("react.lazy"),wt=Symbol.for("react.offscreen"),z=Symbol.iterator;function W(o){return o===null||typeof o!="object"?null:(o=z&&o[z]||o["@@iterator"],typeof o=="function"?o:null)}var F=Object.assign,ae;function de(o){if(ae===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);ae=a&&a[1]||""}return\`
\`+ae+o}var yn=!1;function st(o,a){if(!o||yn)return"";yn=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(P){var h=P}Reflect.construct(o,[],a)}else{try{a.call()}catch(P){h=P}o.call(a.prototype)}else{try{throw Error()}catch(P){h=P}o()}}catch(P){if(P&&h&&typeof P.stack=="string"){for(var g=P.stack.split(\`
\`),v=h.stack.split(\`
\`),S=g.length-1,M=v.length-1;1<=S&&0<=M&&g[S]!==v[M];)M--;for(;1<=S&&0<=M;S--,M--)if(g[S]!==v[M]){if(S!==1||M!==1)do if(S--,M--,0>M||g[S]!==v[M]){var C=\`
\`+g[S].replace(" at new "," at ");return o.displayName&&C.includes("<anonymous>")&&(C=C.replace("<anonymous>",o.displayName)),C}while(1<=S&&0<=M);break}}}finally{yn=!1,Error.prepareStackTrace=c}return(o=o?o.displayName||o.name:"")?de(o):""}function Hr(o){switch(o.tag){case 5:return de(o.type);case 16:return de("Lazy");case 13:return de("Suspense");case 19:return de("SuspenseList");case 0:case 2:case 15:return o=st(o.type,!1),o;case 11:return o=st(o.type.render,!1),o;case 1:return o=st(o.type,!0),o;default:return""}}function it(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case B:return"Fragment";case L:return"Portal";case K:return"Profiler";case J:return"StrictMode";case rt:return"Suspense";case Ln:return"SuspenseList"}if(typeof o=="object")switch(o.\$\$typeof){case Ce:return(o.displayName||"Context")+".Consumer";case se:return(o._context.displayName||"Context")+".Provider";case ct:var a=o.render;return o=o.displayName,o||(o=a.displayName||a.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Xn:return a=o.displayName||null,a!==null?a:it(o.type)||"Memo";case Ke:a=o._payload,o=o._init;try{return it(o(a))}catch{}}return null}function Zn(o){var a=o.type;switch(o.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=a.render,o=o.displayName||o.name||"",a.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return it(a);case 8:return a===J?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fs(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function d1(o){var a=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ZC(o){var a=d1(o)?"checked":"value",c=Object.getOwnPropertyDescriptor(o.constructor.prototype,a),h=""+o[a];if(!o.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var g=c.get,v=c.set;return Object.defineProperty(o,a,{configurable:!0,get:function(){return g.call(this)},set:function(S){h=""+S,v.call(this,S)}}),Object.defineProperty(o,a,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){o._valueTracker=null,delete o[a]}}}}function Ju(o){o._valueTracker||(o._valueTracker=ZC(o))}function f1(o){if(!o)return!1;var a=o._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return o&&(h=d1(o)?o.checked?"true":"false":o.value),o=h,o!==c?(a.setValue(o),!0):!1}function Qu(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Zh(o,a){var c=a.checked;return F({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??o._wrapperState.initialChecked})}function h1(o,a){var c=a.defaultValue==null?"":a.defaultValue,h=a.checked!=null?a.checked:a.defaultChecked;c=fs(a.value!=null?a.value:c),o._wrapperState={initialChecked:h,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function p1(o,a){a=a.checked,a!=null&&N(o,"checked",a,!1)}function ep(o,a){p1(o,a);var c=fs(a.value),h=a.type;if(c!=null)h==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+c):o.value!==""+c&&(o.value=""+c);else if(h==="submit"||h==="reset"){o.removeAttribute("value");return}a.hasOwnProperty("value")?tp(o,a.type,c):a.hasOwnProperty("defaultValue")&&tp(o,a.type,fs(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(o.defaultChecked=!!a.defaultChecked)}function m1(o,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var h=a.type;if(!(h!=="submit"&&h!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+o._wrapperState.initialValue,c||a===o.value||(o.value=a),o.defaultValue=a}c=o.name,c!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,c!==""&&(o.name=c)}function tp(o,a,c){(a!=="number"||Qu(o.ownerDocument)!==o)&&(c==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+c&&(o.defaultValue=""+c))}var Hl=Array.isArray;function mo(o,a,c,h){if(o=o.options,a){a={};for(var g=0;g<c.length;g++)a["\$"+c[g]]=!0;for(c=0;c<o.length;c++)g=a.hasOwnProperty("\$"+o[c].value),o[c].selected!==g&&(o[c].selected=g),g&&h&&(o[c].defaultSelected=!0)}else{for(c=""+fs(c),a=null,g=0;g<o.length;g++){if(o[g].value===c){o[g].selected=!0,h&&(o[g].defaultSelected=!0);return}a!==null||o[g].disabled||(a=o[g])}a!==null&&(a.selected=!0)}}function np(o,a){if(a.dangerouslySetInnerHTML!=null)throw Error(n(91));return F({},a,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function g1(o,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(n(92));if(Hl(c)){if(1<c.length)throw Error(n(93));c=c[0]}a=c}a==null&&(a=""),c=a}o._wrapperState={initialValue:fs(c)}}function y1(o,a){var c=fs(a.value),h=fs(a.defaultValue);c!=null&&(c=""+c,c!==o.value&&(o.value=c),a.defaultValue==null&&o.defaultValue!==c&&(o.defaultValue=c)),h!=null&&(o.defaultValue=""+h)}function v1(o){var a=o.textContent;a===o._wrapperState.initialValue&&a!==""&&a!==null&&(o.value=a)}function k1(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rp(o,a){return o==null||o==="http://www.w3.org/1999/xhtml"?k1(a):o==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var qu,w1=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,h,g){MSApp.execUnsafeLocalFunction(function(){return o(a,c,h,g)})}:o}(function(o,a){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=a;else{for(qu=qu||document.createElement("div"),qu.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=qu.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;a.firstChild;)o.appendChild(a.firstChild)}});function Vl(o,a){if(a){var c=o.firstChild;if(c&&c===o.lastChild&&c.nodeType===3){c.nodeValue=a;return}}o.textContent=a}var jl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eO=["Webkit","ms","Moz","O"];Object.keys(jl).forEach(function(o){eO.forEach(function(a){a=a+o.charAt(0).toUpperCase()+o.substring(1),jl[a]=jl[o]})});function S1(o,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||jl.hasOwnProperty(o)&&jl[o]?(""+a).trim():a+"px"}function b1(o,a){o=o.style;for(var c in a)if(a.hasOwnProperty(c)){var h=c.indexOf("--")===0,g=S1(c,a[c],h);c==="float"&&(c="cssFloat"),h?o.setProperty(c,g):o[c]=g}}var tO=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sp(o,a){if(a){if(tO[o]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(n(137,o));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(n(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(n(61))}if(a.style!=null&&typeof a.style!="object")throw Error(n(62))}}function ip(o,a){if(o.indexOf("-")===-1)return typeof a.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var op=null;function lp(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var ap=null,go=null,yo=null;function x1(o){if(o=da(o)){if(typeof ap!="function")throw Error(n(280));var a=o.stateNode;a&&(a=yc(a),ap(o.stateNode,o.type,a))}}function E1(o){go?yo?yo.push(o):yo=[o]:go=o}function M1(){if(go){var o=go,a=yo;if(yo=go=null,x1(o),a)for(o=0;o<a.length;o++)x1(a[o])}}function T1(o,a){return o(a)}function N1(){}var up=!1;function C1(o,a,c){if(up)return o(a,c);up=!0;try{return T1(o,a,c)}finally{up=!1,(go!==null||yo!==null)&&(N1(),M1())}}function Wl(o,a){var c=o.stateNode;if(c===null)return null;var h=yc(c);if(h===null)return null;c=h[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(o=o.type,h=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!h;break e;default:o=!1}if(o)return null;if(c&&typeof c!="function")throw Error(n(231,a,typeof c));return c}var cp=!1;if(u)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){cp=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{cp=!1}function nO(o,a,c,h,g,v,S,M,C){var P=Array.prototype.slice.call(arguments,3);try{a.apply(c,P)}catch(_){this.onError(_)}}var Jl=!1,Ku=null,Gu=!1,dp=null,rO={onError:function(o){Jl=!0,Ku=o}};function sO(o,a,c,h,g,v,S,M,C){Jl=!1,Ku=null,nO.apply(rO,arguments)}function iO(o,a,c,h,g,v,S,M,C){if(sO.apply(this,arguments),Jl){if(Jl){var P=Ku;Jl=!1,Ku=null}else throw Error(n(198));Gu||(Gu=!0,dp=P)}}function wi(o){var a=o,c=o;if(o.alternate)for(;a.return;)a=a.return;else{o=a;do a=o,a.flags&4098&&(c=a.return),o=a.return;while(o)}return a.tag===3?c:null}function O1(o){if(o.tag===13){var a=o.memoizedState;if(a===null&&(o=o.alternate,o!==null&&(a=o.memoizedState)),a!==null)return a.dehydrated}return null}function I1(o){if(wi(o)!==o)throw Error(n(188))}function oO(o){var a=o.alternate;if(!a){if(a=wi(o),a===null)throw Error(n(188));return a!==o?null:o}for(var c=o,h=a;;){var g=c.return;if(g===null)break;var v=g.alternate;if(v===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===c)return I1(g),o;if(v===h)return I1(g),a;v=v.sibling}throw Error(n(188))}if(c.return!==h.return)c=g,h=v;else{for(var S=!1,M=g.child;M;){if(M===c){S=!0,c=g,h=v;break}if(M===h){S=!0,h=g,c=v;break}M=M.sibling}if(!S){for(M=v.child;M;){if(M===c){S=!0,c=v,h=g;break}if(M===h){S=!0,h=v,c=g;break}M=M.sibling}if(!S)throw Error(n(189))}}if(c.alternate!==h)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?o:a}function A1(o){return o=oO(o),o!==null?P1(o):null}function P1(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var a=P1(o);if(a!==null)return a;o=o.sibling}return null}var D1=e.unstable_scheduleCallback,L1=e.unstable_cancelCallback,lO=e.unstable_shouldYield,aO=e.unstable_requestPaint,Ge=e.unstable_now,uO=e.unstable_getCurrentPriorityLevel,fp=e.unstable_ImmediatePriority,z1=e.unstable_UserBlockingPriority,Yu=e.unstable_NormalPriority,cO=e.unstable_LowPriority,R1=e.unstable_IdlePriority,Xu=null,wr=null;function dO(o){if(wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(Xu,o,void 0,(o.current.flags&128)===128)}catch{}}var er=Math.clz32?Math.clz32:pO,fO=Math.log,hO=Math.LN2;function pO(o){return o>>>=0,o===0?32:31-(fO(o)/hO|0)|0}var Zu=64,ec=4194304;function Ql(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function tc(o,a){var c=o.pendingLanes;if(c===0)return 0;var h=0,g=o.suspendedLanes,v=o.pingedLanes,S=c&268435455;if(S!==0){var M=S&~g;M!==0?h=Ql(M):(v&=S,v!==0&&(h=Ql(v)))}else S=c&~g,S!==0?h=Ql(S):v!==0&&(h=Ql(v));if(h===0)return 0;if(a!==0&&a!==h&&!(a&g)&&(g=h&-h,v=a&-a,g>=v||g===16&&(v&4194240)!==0))return a;if(h&4&&(h|=c&16),a=o.entangledLanes,a!==0)for(o=o.entanglements,a&=h;0<a;)c=31-er(a),g=1<<c,h|=o[c],a&=~g;return h}function mO(o,a){switch(o){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gO(o,a){for(var c=o.suspendedLanes,h=o.pingedLanes,g=o.expirationTimes,v=o.pendingLanes;0<v;){var S=31-er(v),M=1<<S,C=g[S];C===-1?(!(M&c)||M&h)&&(g[S]=mO(M,a)):C<=a&&(o.expiredLanes|=M),v&=~M}}function hp(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function B1(){var o=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),o}function pp(o){for(var a=[],c=0;31>c;c++)a.push(o);return a}function ql(o,a,c){o.pendingLanes|=a,a!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,a=31-er(a),o[a]=c}function yO(o,a){var c=o.pendingLanes&~a;o.pendingLanes=a,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=a,o.mutableReadLanes&=a,o.entangledLanes&=a,a=o.entanglements;var h=o.eventTimes;for(o=o.expirationTimes;0<c;){var g=31-er(c),v=1<<g;a[g]=0,h[g]=-1,o[g]=-1,c&=~v}}function mp(o,a){var c=o.entangledLanes|=a;for(o=o.entanglements;c;){var h=31-er(c),g=1<<h;g&a|o[h]&a&&(o[h]|=a),c&=~g}}var be=0;function \$1(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var F1,gp,_1,H1,V1,yp=!1,nc=[],hs=null,ps=null,ms=null,Kl=new Map,Gl=new Map,gs=[],vO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function j1(o,a){switch(o){case"focusin":case"focusout":hs=null;break;case"dragenter":case"dragleave":ps=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Kl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gl.delete(a.pointerId)}}function Yl(o,a,c,h,g,v){return o===null||o.nativeEvent!==v?(o={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[g]},a!==null&&(a=da(a),a!==null&&gp(a)),o):(o.eventSystemFlags|=h,a=o.targetContainers,g!==null&&a.indexOf(g)===-1&&a.push(g),o)}function kO(o,a,c,h,g){switch(a){case"focusin":return hs=Yl(hs,o,a,c,h,g),!0;case"dragenter":return ps=Yl(ps,o,a,c,h,g),!0;case"mouseover":return ms=Yl(ms,o,a,c,h,g),!0;case"pointerover":var v=g.pointerId;return Kl.set(v,Yl(Kl.get(v)||null,o,a,c,h,g)),!0;case"gotpointercapture":return v=g.pointerId,Gl.set(v,Yl(Gl.get(v)||null,o,a,c,h,g)),!0}return!1}function W1(o){var a=Si(o.target);if(a!==null){var c=wi(a);if(c!==null){if(a=c.tag,a===13){if(a=O1(c),a!==null){o.blockedOn=a,V1(o.priority,function(){_1(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){o.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}o.blockedOn=null}function rc(o){if(o.blockedOn!==null)return!1;for(var a=o.targetContainers;0<a.length;){var c=kp(o.domEventName,o.eventSystemFlags,a[0],o.nativeEvent);if(c===null){c=o.nativeEvent;var h=new c.constructor(c.type,c);op=h,c.target.dispatchEvent(h),op=null}else return a=da(c),a!==null&&gp(a),o.blockedOn=c,!1;a.shift()}return!0}function U1(o,a,c){rc(o)&&c.delete(a)}function wO(){yp=!1,hs!==null&&rc(hs)&&(hs=null),ps!==null&&rc(ps)&&(ps=null),ms!==null&&rc(ms)&&(ms=null),Kl.forEach(U1),Gl.forEach(U1)}function Xl(o,a){o.blockedOn===a&&(o.blockedOn=null,yp||(yp=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wO)))}function Zl(o){function a(g){return Xl(g,o)}if(0<nc.length){Xl(nc[0],o);for(var c=1;c<nc.length;c++){var h=nc[c];h.blockedOn===o&&(h.blockedOn=null)}}for(hs!==null&&Xl(hs,o),ps!==null&&Xl(ps,o),ms!==null&&Xl(ms,o),Kl.forEach(a),Gl.forEach(a),c=0;c<gs.length;c++)h=gs[c],h.blockedOn===o&&(h.blockedOn=null);for(;0<gs.length&&(c=gs[0],c.blockedOn===null);)W1(c),c.blockedOn===null&&gs.shift()}var vo=D.ReactCurrentBatchConfig,sc=!0;function SO(o,a,c,h){var g=be,v=vo.transition;vo.transition=null;try{be=1,vp(o,a,c,h)}finally{be=g,vo.transition=v}}function bO(o,a,c,h){var g=be,v=vo.transition;vo.transition=null;try{be=4,vp(o,a,c,h)}finally{be=g,vo.transition=v}}function vp(o,a,c,h){if(sc){var g=kp(o,a,c,h);if(g===null)Rp(o,a,h,ic,c),j1(o,h);else if(kO(g,o,a,c,h))h.stopPropagation();else if(j1(o,h),a&4&&-1<vO.indexOf(o)){for(;g!==null;){var v=da(g);if(v!==null&&F1(v),v=kp(o,a,c,h),v===null&&Rp(o,a,h,ic,c),v===g)break;g=v}g!==null&&h.stopPropagation()}else Rp(o,a,h,null,c)}}var ic=null;function kp(o,a,c,h){if(ic=null,o=lp(h),o=Si(o),o!==null)if(a=wi(o),a===null)o=null;else if(c=a.tag,c===13){if(o=O1(a),o!==null)return o;o=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;o=null}else a!==o&&(o=null);return ic=o,null}function J1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(uO()){case fp:return 1;case z1:return 4;case Yu:case cO:return 16;case R1:return 536870912;default:return 16}default:return 16}}var ys=null,wp=null,oc=null;function Q1(){if(oc)return oc;var o,a=wp,c=a.length,h,g="value"in ys?ys.value:ys.textContent,v=g.length;for(o=0;o<c&&a[o]===g[o];o++);var S=c-o;for(h=1;h<=S&&a[c-h]===g[v-h];h++);return oc=g.slice(o,1<h?1-h:void 0)}function lc(o){var a=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&a===13&&(o=13)):o=a,o===10&&(o=13),32<=o||o===13?o:0}function ac(){return!0}function q1(){return!1}function vn(o){function a(c,h,g,v,S){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=v,this.target=S,this.currentTarget=null;for(var M in o)o.hasOwnProperty(M)&&(c=o[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?ac:q1,this.isPropagationStopped=q1,this}return F(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ac)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ac)},persist:function(){},isPersistent:ac}),a}var ko={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sp=vn(ko),ea=F({},ko,{view:0,detail:0}),xO=vn(ea),bp,xp,ta,uc=F({},ea,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mp,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==ta&&(ta&&o.type==="mousemove"?(bp=o.screenX-ta.screenX,xp=o.screenY-ta.screenY):xp=bp=0,ta=o),bp)},movementY:function(o){return"movementY"in o?o.movementY:xp}}),K1=vn(uc),EO=F({},uc,{dataTransfer:0}),MO=vn(EO),TO=F({},ea,{relatedTarget:0}),Ep=vn(TO),NO=F({},ko,{animationName:0,elapsedTime:0,pseudoElement:0}),CO=vn(NO),OO=F({},ko,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),IO=vn(OO),AO=F({},ko,{data:0}),G1=vn(AO),PO={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DO={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},LO={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zO(o){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(o):(o=LO[o])?!!a[o]:!1}function Mp(){return zO}var RO=F({},ea,{key:function(o){if(o.key){var a=PO[o.key]||o.key;if(a!=="Unidentified")return a}return o.type==="keypress"?(o=lc(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?DO[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mp,charCode:function(o){return o.type==="keypress"?lc(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?lc(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),BO=vn(RO),\$O=F({},uc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Y1=vn(\$O),FO=F({},ea,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mp}),_O=vn(FO),HO=F({},ko,{propertyName:0,elapsedTime:0,pseudoElement:0}),VO=vn(HO),jO=F({},uc,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),WO=vn(jO),UO=[9,13,27,32],Tp=u&&"CompositionEvent"in window,na=null;u&&"documentMode"in document&&(na=document.documentMode);var JO=u&&"TextEvent"in window&&!na,X1=u&&(!Tp||na&&8<na&&11>=na),Z1=" ",ek=!1;function tk(o,a){switch(o){case"keyup":return UO.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nk(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var wo=!1;function QO(o,a){switch(o){case"compositionend":return nk(a);case"keypress":return a.which!==32?null:(ek=!0,Z1);case"textInput":return o=a.data,o===Z1&&ek?null:o;default:return null}}function qO(o,a){if(wo)return o==="compositionend"||!Tp&&tk(o,a)?(o=Q1(),oc=wp=ys=null,wo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return X1&&a.locale!=="ko"?null:a.data;default:return null}}var KO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rk(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a==="input"?!!KO[o.type]:a==="textarea"}function sk(o,a,c,h){E1(h),a=pc(a,"onChange"),0<a.length&&(c=new Sp("onChange","change",null,c,h),o.push({event:c,listeners:a}))}var ra=null,sa=null;function GO(o){bk(o,0)}function cc(o){var a=Mo(o);if(f1(a))return o}function YO(o,a){if(o==="change")return a}var ik=!1;if(u){var Np;if(u){var Cp="oninput"in document;if(!Cp){var ok=document.createElement("div");ok.setAttribute("oninput","return;"),Cp=typeof ok.oninput=="function"}Np=Cp}else Np=!1;ik=Np&&(!document.documentMode||9<document.documentMode)}function lk(){ra&&(ra.detachEvent("onpropertychange",ak),sa=ra=null)}function ak(o){if(o.propertyName==="value"&&cc(sa)){var a=[];sk(a,sa,o,lp(o)),C1(GO,a)}}function XO(o,a,c){o==="focusin"?(lk(),ra=a,sa=c,ra.attachEvent("onpropertychange",ak)):o==="focusout"&&lk()}function ZO(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return cc(sa)}function eI(o,a){if(o==="click")return cc(a)}function tI(o,a){if(o==="input"||o==="change")return cc(a)}function nI(o,a){return o===a&&(o!==0||1/o===1/a)||o!==o&&a!==a}var tr=typeof Object.is=="function"?Object.is:nI;function ia(o,a){if(tr(o,a))return!0;if(typeof o!="object"||o===null||typeof a!="object"||a===null)return!1;var c=Object.keys(o),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!d.call(a,g)||!tr(o[g],a[g]))return!1}return!0}function uk(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function ck(o,a){var c=uk(o);o=0;for(var h;c;){if(c.nodeType===3){if(h=o+c.textContent.length,o<=a&&h>=a)return{node:c,offset:a-o};o=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=uk(c)}}function dk(o,a){return o&&a?o===a?!0:o&&o.nodeType===3?!1:a&&a.nodeType===3?dk(o,a.parentNode):"contains"in o?o.contains(a):o.compareDocumentPosition?!!(o.compareDocumentPosition(a)&16):!1:!1}function fk(){for(var o=window,a=Qu();a instanceof o.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)o=a.contentWindow;else break;a=Qu(o.document)}return a}function Op(o){var a=o&&o.nodeName&&o.nodeName.toLowerCase();return a&&(a==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||a==="textarea"||o.contentEditable==="true")}function rI(o){var a=fk(),c=o.focusedElem,h=o.selectionRange;if(a!==c&&c&&c.ownerDocument&&dk(c.ownerDocument.documentElement,c)){if(h!==null&&Op(c)){if(a=h.start,o=h.end,o===void 0&&(o=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(o,c.value.length);else if(o=(a=c.ownerDocument||document)&&a.defaultView||window,o.getSelection){o=o.getSelection();var g=c.textContent.length,v=Math.min(h.start,g);h=h.end===void 0?v:Math.min(h.end,g),!o.extend&&v>h&&(g=h,h=v,v=g),g=ck(c,v);var S=ck(c,h);g&&S&&(o.rangeCount!==1||o.anchorNode!==g.node||o.anchorOffset!==g.offset||o.focusNode!==S.node||o.focusOffset!==S.offset)&&(a=a.createRange(),a.setStart(g.node,g.offset),o.removeAllRanges(),v>h?(o.addRange(a),o.extend(S.node,S.offset)):(a.setEnd(S.node,S.offset),o.addRange(a)))}}for(a=[],o=c;o=o.parentNode;)o.nodeType===1&&a.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)o=a[c],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var sI=u&&"documentMode"in document&&11>=document.documentMode,So=null,Ip=null,oa=null,Ap=!1;function hk(o,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ap||So==null||So!==Qu(h)||(h=So,"selectionStart"in h&&Op(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),oa&&ia(oa,h)||(oa=h,h=pc(Ip,"onSelect"),0<h.length&&(a=new Sp("onSelect","select",null,a,c),o.push({event:a,listeners:h}),a.target=So)))}function dc(o,a){var c={};return c[o.toLowerCase()]=a.toLowerCase(),c["Webkit"+o]="webkit"+a,c["Moz"+o]="moz"+a,c}var bo={animationend:dc("Animation","AnimationEnd"),animationiteration:dc("Animation","AnimationIteration"),animationstart:dc("Animation","AnimationStart"),transitionend:dc("Transition","TransitionEnd")},Pp={},pk={};u&&(pk=document.createElement("div").style,"AnimationEvent"in window||(delete bo.animationend.animation,delete bo.animationiteration.animation,delete bo.animationstart.animation),"TransitionEvent"in window||delete bo.transitionend.transition);function fc(o){if(Pp[o])return Pp[o];if(!bo[o])return o;var a=bo[o],c;for(c in a)if(a.hasOwnProperty(c)&&c in pk)return Pp[o]=a[c];return o}var mk=fc("animationend"),gk=fc("animationiteration"),yk=fc("animationstart"),vk=fc("transitionend"),kk=new Map,wk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function vs(o,a){kk.set(o,a),i(a,[o])}for(var Dp=0;Dp<wk.length;Dp++){var Lp=wk[Dp],iI=Lp.toLowerCase(),oI=Lp[0].toUpperCase()+Lp.slice(1);vs(iI,"on"+oI)}vs(mk,"onAnimationEnd"),vs(gk,"onAnimationIteration"),vs(yk,"onAnimationStart"),vs("dblclick","onDoubleClick"),vs("focusin","onFocus"),vs("focusout","onBlur"),vs(vk,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lI=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function Sk(o,a,c){var h=o.type||"unknown-event";o.currentTarget=c,iO(h,a,void 0,o),o.currentTarget=null}function bk(o,a){a=(a&4)!==0;for(var c=0;c<o.length;c++){var h=o[c],g=h.event;h=h.listeners;e:{var v=void 0;if(a)for(var S=h.length-1;0<=S;S--){var M=h[S],C=M.instance,P=M.currentTarget;if(M=M.listener,C!==v&&g.isPropagationStopped())break e;Sk(g,M,P),v=C}else for(S=0;S<h.length;S++){if(M=h[S],C=M.instance,P=M.currentTarget,M=M.listener,C!==v&&g.isPropagationStopped())break e;Sk(g,M,P),v=C}}}if(Gu)throw o=dp,Gu=!1,dp=null,o}function Pe(o,a){var c=a[Vp];c===void 0&&(c=a[Vp]=new Set);var h=o+"__bubble";c.has(h)||(xk(a,o,2,!1),c.add(h))}function zp(o,a,c){var h=0;a&&(h|=4),xk(c,o,h,a)}var hc="_reactListening"+Math.random().toString(36).slice(2);function aa(o){if(!o[hc]){o[hc]=!0,r.forEach(function(c){c!=="selectionchange"&&(lI.has(c)||zp(c,!1,o),zp(c,!0,o))});var a=o.nodeType===9?o:o.ownerDocument;a===null||a[hc]||(a[hc]=!0,zp("selectionchange",!1,a))}}function xk(o,a,c,h){switch(J1(a)){case 1:var g=SO;break;case 4:g=bO;break;default:g=vp}c=g.bind(null,a,c,o),g=void 0,!cp||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(g=!0),h?g!==void 0?o.addEventListener(a,c,{capture:!0,passive:g}):o.addEventListener(a,c,!0):g!==void 0?o.addEventListener(a,c,{passive:g}):o.addEventListener(a,c,!1)}function Rp(o,a,c,h,g){var v=h;if(!(a&1)&&!(a&2)&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var M=h.stateNode.containerInfo;if(M===g||M.nodeType===8&&M.parentNode===g)break;if(S===4)for(S=h.return;S!==null;){var C=S.tag;if((C===3||C===4)&&(C=S.stateNode.containerInfo,C===g||C.nodeType===8&&C.parentNode===g))return;S=S.return}for(;M!==null;){if(S=Si(M),S===null)return;if(C=S.tag,C===5||C===6){h=v=S;continue e}M=M.parentNode}}h=h.return}C1(function(){var P=v,_=lp(c),H=[];e:{var \$=kk.get(o);if(\$!==void 0){var q=Sp,Z=o;switch(o){case"keypress":if(lc(c)===0)break e;case"keydown":case"keyup":q=BO;break;case"focusin":Z="focus",q=Ep;break;case"focusout":Z="blur",q=Ep;break;case"beforeblur":case"afterblur":q=Ep;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=K1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=MO;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=_O;break;case mk:case gk:case yk:q=CO;break;case vk:q=VO;break;case"scroll":q=xO;break;case"wheel":q=WO;break;case"copy":case"cut":case"paste":q=IO;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Y1}var ee=(a&4)!==0,Ye=!ee&&o==="scroll",I=ee?\$!==null?\$+"Capture":null:\$;ee=[];for(var O=P,A;O!==null;){A=O;var U=A.stateNode;if(A.tag===5&&U!==null&&(A=U,I!==null&&(U=Wl(O,I),U!=null&&ee.push(ua(O,U,A)))),Ye)break;O=O.return}0<ee.length&&(\$=new q(\$,Z,null,c,_),H.push({event:\$,listeners:ee}))}}if(!(a&7)){e:{if(\$=o==="mouseover"||o==="pointerover",q=o==="mouseout"||o==="pointerout",\$&&c!==op&&(Z=c.relatedTarget||c.fromElement)&&(Si(Z)||Z[Vr]))break e;if((q||\$)&&(\$=_.window===_?_:(\$=_.ownerDocument)?\$.defaultView||\$.parentWindow:window,q?(Z=c.relatedTarget||c.toElement,q=P,Z=Z?Si(Z):null,Z!==null&&(Ye=wi(Z),Z!==Ye||Z.tag!==5&&Z.tag!==6)&&(Z=null)):(q=null,Z=P),q!==Z)){if(ee=K1,U="onMouseLeave",I="onMouseEnter",O="mouse",(o==="pointerout"||o==="pointerover")&&(ee=Y1,U="onPointerLeave",I="onPointerEnter",O="pointer"),Ye=q==null?\$:Mo(q),A=Z==null?\$:Mo(Z),\$=new ee(U,O+"leave",q,c,_),\$.target=Ye,\$.relatedTarget=A,U=null,Si(_)===P&&(ee=new ee(I,O+"enter",Z,c,_),ee.target=A,ee.relatedTarget=Ye,U=ee),Ye=U,q&&Z)t:{for(ee=q,I=Z,O=0,A=ee;A;A=xo(A))O++;for(A=0,U=I;U;U=xo(U))A++;for(;0<O-A;)ee=xo(ee),O--;for(;0<A-O;)I=xo(I),A--;for(;O--;){if(ee===I||I!==null&&ee===I.alternate)break t;ee=xo(ee),I=xo(I)}ee=null}else ee=null;q!==null&&Ek(H,\$,q,ee,!1),Z!==null&&Ye!==null&&Ek(H,Ye,Z,ee,!0)}}e:{if(\$=P?Mo(P):window,q=\$.nodeName&&\$.nodeName.toLowerCase(),q==="select"||q==="input"&&\$.type==="file")var ne=YO;else if(rk(\$))if(ik)ne=tI;else{ne=ZO;var ie=XO}else(q=\$.nodeName)&&q.toLowerCase()==="input"&&(\$.type==="checkbox"||\$.type==="radio")&&(ne=eI);if(ne&&(ne=ne(o,P))){sk(H,ne,c,_);break e}ie&&ie(o,\$,P),o==="focusout"&&(ie=\$._wrapperState)&&ie.controlled&&\$.type==="number"&&tp(\$,"number",\$.value)}switch(ie=P?Mo(P):window,o){case"focusin":(rk(ie)||ie.contentEditable==="true")&&(So=ie,Ip=P,oa=null);break;case"focusout":oa=Ip=So=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,hk(H,c,_);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":hk(H,c,_)}var oe;if(Tp)e:{switch(o){case"compositionstart":var ue="onCompositionStart";break e;case"compositionend":ue="onCompositionEnd";break e;case"compositionupdate":ue="onCompositionUpdate";break e}ue=void 0}else wo?tk(o,c)&&(ue="onCompositionEnd"):o==="keydown"&&c.keyCode===229&&(ue="onCompositionStart");ue&&(X1&&c.locale!=="ko"&&(wo||ue!=="onCompositionStart"?ue==="onCompositionEnd"&&wo&&(oe=Q1()):(ys=_,wp="value"in ys?ys.value:ys.textContent,wo=!0)),ie=pc(P,ue),0<ie.length&&(ue=new G1(ue,o,null,c,_),H.push({event:ue,listeners:ie}),oe?ue.data=oe:(oe=nk(c),oe!==null&&(ue.data=oe)))),(oe=JO?QO(o,c):qO(o,c))&&(P=pc(P,"onBeforeInput"),0<P.length&&(_=new G1("onBeforeInput","beforeinput",null,c,_),H.push({event:_,listeners:P}),_.data=oe))}bk(H,a)})}function ua(o,a,c){return{instance:o,listener:a,currentTarget:c}}function pc(o,a){for(var c=a+"Capture",h=[];o!==null;){var g=o,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=Wl(o,c),v!=null&&h.unshift(ua(o,v,g)),v=Wl(o,a),v!=null&&h.push(ua(o,v,g))),o=o.return}return h}function xo(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Ek(o,a,c,h,g){for(var v=a._reactName,S=[];c!==null&&c!==h;){var M=c,C=M.alternate,P=M.stateNode;if(C!==null&&C===h)break;M.tag===5&&P!==null&&(M=P,g?(C=Wl(c,v),C!=null&&S.unshift(ua(c,C,M))):g||(C=Wl(c,v),C!=null&&S.push(ua(c,C,M)))),c=c.return}S.length!==0&&o.push({event:a,listeners:S})}var aI=/\r\n?/g,uI=/\u0000|\uFFFD/g;function Mk(o){return(typeof o=="string"?o:""+o).replace(aI,\`
\`).replace(uI,"")}function mc(o,a,c){if(a=Mk(a),Mk(o)!==a&&c)throw Error(n(425))}function gc(){}var Bp=null,\$p=null;function Fp(o,a){return o==="textarea"||o==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var _p=typeof setTimeout=="function"?setTimeout:void 0,cI=typeof clearTimeout=="function"?clearTimeout:void 0,Tk=typeof Promise=="function"?Promise:void 0,dI=typeof queueMicrotask=="function"?queueMicrotask:typeof Tk<"u"?function(o){return Tk.resolve(null).then(o).catch(fI)}:_p;function fI(o){setTimeout(function(){throw o})}function Hp(o,a){var c=a,h=0;do{var g=c.nextSibling;if(o.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/\$"){if(h===0){o.removeChild(g),Zl(a);return}h--}else c!=="\$"&&c!=="\$?"&&c!=="\$!"||h++;c=g}while(c);Zl(a)}function ks(o){for(;o!=null;o=o.nextSibling){var a=o.nodeType;if(a===1||a===3)break;if(a===8){if(a=o.data,a==="\$"||a==="\$!"||a==="\$?")break;if(a==="/\$")return null}}return o}function Nk(o){o=o.previousSibling;for(var a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="\$"||c==="\$!"||c==="\$?"){if(a===0)return o;a--}else c==="/\$"&&a++}o=o.previousSibling}return null}var Eo=Math.random().toString(36).slice(2),Sr="__reactFiber\$"+Eo,ca="__reactProps\$"+Eo,Vr="__reactContainer\$"+Eo,Vp="__reactEvents\$"+Eo,hI="__reactListeners\$"+Eo,pI="__reactHandles\$"+Eo;function Si(o){var a=o[Sr];if(a)return a;for(var c=o.parentNode;c;){if(a=c[Vr]||c[Sr]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(o=Nk(o);o!==null;){if(c=o[Sr])return c;o=Nk(o)}return a}o=c,c=o.parentNode}return null}function da(o){return o=o[Sr]||o[Vr],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Mo(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(n(33))}function yc(o){return o[ca]||null}var jp=[],To=-1;function ws(o){return{current:o}}function De(o){0>To||(o.current=jp[To],jp[To]=null,To--)}function Oe(o,a){To++,jp[To]=o.current,o.current=a}var Ss={},It=ws(Ss),en=ws(!1),bi=Ss;function No(o,a){var c=o.type.contextTypes;if(!c)return Ss;var h=o.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===a)return h.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in c)g[v]=a[v];return h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=a,o.__reactInternalMemoizedMaskedChildContext=g),g}function tn(o){return o=o.childContextTypes,o!=null}function vc(){De(en),De(It)}function Ck(o,a,c){if(It.current!==Ss)throw Error(n(168));Oe(It,a),Oe(en,c)}function Ok(o,a,c){var h=o.stateNode;if(a=a.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var g in h)if(!(g in a))throw Error(n(108,Zn(o)||"Unknown",g));return F({},c,h)}function kc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Ss,bi=It.current,Oe(It,o),Oe(en,en.current),!0}function Ik(o,a,c){var h=o.stateNode;if(!h)throw Error(n(169));c?(o=Ok(o,a,bi),h.__reactInternalMemoizedMergedChildContext=o,De(en),De(It),Oe(It,o)):De(en),Oe(en,c)}var jr=null,wc=!1,Wp=!1;function Ak(o){jr===null?jr=[o]:jr.push(o)}function mI(o){wc=!0,Ak(o)}function bs(){if(!Wp&&jr!==null){Wp=!0;var o=0,a=be;try{var c=jr;for(be=1;o<c.length;o++){var h=c[o];do h=h(!0);while(h!==null)}jr=null,wc=!1}catch(g){throw jr!==null&&(jr=jr.slice(o+1)),D1(fp,bs),g}finally{be=a,Wp=!1}}return null}var Co=[],Oo=0,Sc=null,bc=0,zn=[],Rn=0,xi=null,Wr=1,Ur="";function Ei(o,a){Co[Oo++]=bc,Co[Oo++]=Sc,Sc=o,bc=a}function Pk(o,a,c){zn[Rn++]=Wr,zn[Rn++]=Ur,zn[Rn++]=xi,xi=o;var h=Wr;o=Ur;var g=32-er(h)-1;h&=~(1<<g),c+=1;var v=32-er(a)+g;if(30<v){var S=g-g%5;v=(h&(1<<S)-1).toString(32),h>>=S,g-=S,Wr=1<<32-er(a)+g|c<<g|h,Ur=v+o}else Wr=1<<v|c<<g|h,Ur=o}function Up(o){o.return!==null&&(Ei(o,1),Pk(o,1,0))}function Jp(o){for(;o===Sc;)Sc=Co[--Oo],Co[Oo]=null,bc=Co[--Oo],Co[Oo]=null;for(;o===xi;)xi=zn[--Rn],zn[Rn]=null,Ur=zn[--Rn],zn[Rn]=null,Wr=zn[--Rn],zn[Rn]=null}var kn=null,wn=null,Be=!1,nr=null;function Dk(o,a){var c=_n(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=o,a=o.deletions,a===null?(o.deletions=[c],o.flags|=16):a.push(c)}function Lk(o,a){switch(o.tag){case 5:var c=o.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(o.stateNode=a,kn=o,wn=ks(a.firstChild),!0):!1;case 6:return a=o.pendingProps===""||a.nodeType!==3?null:a,a!==null?(o.stateNode=a,kn=o,wn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=xi!==null?{id:Wr,overflow:Ur}:null,o.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=_n(18,null,null,0),c.stateNode=a,c.return=o,o.child=c,kn=o,wn=null,!0):!1;default:return!1}}function Qp(o){return(o.mode&1)!==0&&(o.flags&128)===0}function qp(o){if(Be){var a=wn;if(a){var c=a;if(!Lk(o,a)){if(Qp(o))throw Error(n(418));a=ks(c.nextSibling);var h=kn;a&&Lk(o,a)?Dk(h,c):(o.flags=o.flags&-4097|2,Be=!1,kn=o)}}else{if(Qp(o))throw Error(n(418));o.flags=o.flags&-4097|2,Be=!1,kn=o}}}function zk(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;kn=o}function xc(o){if(o!==kn)return!1;if(!Be)return zk(o),Be=!0,!1;var a;if((a=o.tag!==3)&&!(a=o.tag!==5)&&(a=o.type,a=a!=="head"&&a!=="body"&&!Fp(o.type,o.memoizedProps)),a&&(a=wn)){if(Qp(o))throw Rk(),Error(n(418));for(;a;)Dk(o,a),a=ks(a.nextSibling)}if(zk(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));e:{for(o=o.nextSibling,a=0;o;){if(o.nodeType===8){var c=o.data;if(c==="/\$"){if(a===0){wn=ks(o.nextSibling);break e}a--}else c!=="\$"&&c!=="\$!"&&c!=="\$?"||a++}o=o.nextSibling}wn=null}}else wn=kn?ks(o.stateNode.nextSibling):null;return!0}function Rk(){for(var o=wn;o;)o=ks(o.nextSibling)}function Io(){wn=kn=null,Be=!1}function Kp(o){nr===null?nr=[o]:nr.push(o)}var gI=D.ReactCurrentBatchConfig;function rr(o,a){if(o&&o.defaultProps){a=F({},a),o=o.defaultProps;for(var c in o)a[c]===void 0&&(a[c]=o[c]);return a}return a}var Ec=ws(null),Mc=null,Ao=null,Gp=null;function Yp(){Gp=Ao=Mc=null}function Xp(o){var a=Ec.current;De(Ec),o._currentValue=a}function Zp(o,a,c){for(;o!==null;){var h=o.alternate;if((o.childLanes&a)!==a?(o.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),o===c)break;o=o.return}}function Po(o,a){Mc=o,Gp=Ao=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&a&&(nn=!0),o.firstContext=null)}function Bn(o){var a=o._currentValue;if(Gp!==o)if(o={context:o,memoizedValue:a,next:null},Ao===null){if(Mc===null)throw Error(n(308));Ao=o,Mc.dependencies={lanes:0,firstContext:o}}else Ao=Ao.next=o;return a}var Mi=null;function em(o){Mi===null?Mi=[o]:Mi.push(o)}function Bk(o,a,c,h){var g=a.interleaved;return g===null?(c.next=c,em(a)):(c.next=g.next,g.next=c),a.interleaved=c,Jr(o,h)}function Jr(o,a){o.lanes|=a;var c=o.alternate;for(c!==null&&(c.lanes|=a),c=o,o=o.return;o!==null;)o.childLanes|=a,c=o.alternate,c!==null&&(c.childLanes|=a),c=o,o=o.return;return c.tag===3?c.stateNode:null}var xs=!1;function tm(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function \$k(o,a){o=o.updateQueue,a.updateQueue===o&&(a.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Qr(o,a){return{eventTime:o,lane:a,tag:0,payload:null,callback:null,next:null}}function Es(o,a,c){var h=o.updateQueue;if(h===null)return null;if(h=h.shared,ye&2){var g=h.pending;return g===null?a.next=a:(a.next=g.next,g.next=a),h.pending=a,Jr(o,c)}return g=h.interleaved,g===null?(a.next=a,em(h)):(a.next=g.next,g.next=a),h.interleaved=a,Jr(o,c)}function Tc(o,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,mp(o,c)}}function Fk(o,a){var c=o.updateQueue,h=o.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var S={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?g=v=S:v=v.next=S,c=c.next}while(c!==null);v===null?g=v=a:v=v.next=a}else g=v=a;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:h.shared,effects:h.effects},o.updateQueue=c;return}o=c.lastBaseUpdate,o===null?c.firstBaseUpdate=a:o.next=a,c.lastBaseUpdate=a}function Nc(o,a,c,h){var g=o.updateQueue;xs=!1;var v=g.firstBaseUpdate,S=g.lastBaseUpdate,M=g.shared.pending;if(M!==null){g.shared.pending=null;var C=M,P=C.next;C.next=null,S===null?v=P:S.next=P,S=C;var _=o.alternate;_!==null&&(_=_.updateQueue,M=_.lastBaseUpdate,M!==S&&(M===null?_.firstBaseUpdate=P:M.next=P,_.lastBaseUpdate=C))}if(v!==null){var H=g.baseState;S=0,_=P=C=null,M=v;do{var \$=M.lane,q=M.eventTime;if((h&\$)===\$){_!==null&&(_=_.next={eventTime:q,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Z=o,ee=M;switch(\$=a,q=c,ee.tag){case 1:if(Z=ee.payload,typeof Z=="function"){H=Z.call(q,H,\$);break e}H=Z;break e;case 3:Z.flags=Z.flags&-65537|128;case 0:if(Z=ee.payload,\$=typeof Z=="function"?Z.call(q,H,\$):Z,\$==null)break e;H=F({},H,\$);break e;case 2:xs=!0}}M.callback!==null&&M.lane!==0&&(o.flags|=64,\$=g.effects,\$===null?g.effects=[M]:\$.push(M))}else q={eventTime:q,lane:\$,tag:M.tag,payload:M.payload,callback:M.callback,next:null},_===null?(P=_=q,C=H):_=_.next=q,S|=\$;if(M=M.next,M===null){if(M=g.shared.pending,M===null)break;\$=M,M=\$.next,\$.next=null,g.lastBaseUpdate=\$,g.shared.pending=null}}while(!0);if(_===null&&(C=H),g.baseState=C,g.firstBaseUpdate=P,g.lastBaseUpdate=_,a=g.shared.interleaved,a!==null){g=a;do S|=g.lane,g=g.next;while(g!==a)}else v===null&&(g.shared.lanes=0);Ci|=S,o.lanes=S,o.memoizedState=H}}function _k(o,a,c){if(o=a.effects,a.effects=null,o!==null)for(a=0;a<o.length;a++){var h=o[a],g=h.callback;if(g!==null){if(h.callback=null,h=c,typeof g!="function")throw Error(n(191,g));g.call(h)}}}var Hk=new t.Component().refs;function nm(o,a,c,h){a=o.memoizedState,c=c(h,a),c=c==null?a:F({},a,c),o.memoizedState=c,o.lanes===0&&(o.updateQueue.baseState=c)}var Cc={isMounted:function(o){return(o=o._reactInternals)?wi(o)===o:!1},enqueueSetState:function(o,a,c){o=o._reactInternals;var h=Wt(),g=Cs(o),v=Qr(h,g);v.payload=a,c!=null&&(v.callback=c),a=Es(o,v,g),a!==null&&(or(a,o,g,h),Tc(a,o,g))},enqueueReplaceState:function(o,a,c){o=o._reactInternals;var h=Wt(),g=Cs(o),v=Qr(h,g);v.tag=1,v.payload=a,c!=null&&(v.callback=c),a=Es(o,v,g),a!==null&&(or(a,o,g,h),Tc(a,o,g))},enqueueForceUpdate:function(o,a){o=o._reactInternals;var c=Wt(),h=Cs(o),g=Qr(c,h);g.tag=2,a!=null&&(g.callback=a),a=Es(o,g,h),a!==null&&(or(a,o,h,c),Tc(a,o,h))}};function Vk(o,a,c,h,g,v,S){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(h,v,S):a.prototype&&a.prototype.isPureReactComponent?!ia(c,h)||!ia(g,v):!0}function jk(o,a,c){var h=!1,g=Ss,v=a.contextType;return typeof v=="object"&&v!==null?v=Bn(v):(g=tn(a)?bi:It.current,h=a.contextTypes,v=(h=h!=null)?No(o,g):Ss),a=new a(c,v),o.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Cc,o.stateNode=a,a._reactInternals=o,h&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=g,o.__reactInternalMemoizedMaskedChildContext=v),a}function Wk(o,a,c,h){o=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==o&&Cc.enqueueReplaceState(a,a.state,null)}function rm(o,a,c,h){var g=o.stateNode;g.props=c,g.state=o.memoizedState,g.refs=Hk,tm(o);var v=a.contextType;typeof v=="object"&&v!==null?g.context=Bn(v):(v=tn(a)?bi:It.current,g.context=No(o,v)),g.state=o.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(nm(o,a,v,c),g.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(a=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),a!==g.state&&Cc.enqueueReplaceState(g,g.state,null),Nc(o,c,g,h),g.state=o.memoizedState),typeof g.componentDidMount=="function"&&(o.flags|=4194308)}function fa(o,a,c){if(o=c.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(n(309));var h=c.stateNode}if(!h)throw Error(n(147,o));var g=h,v=""+o;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===v?a.ref:(a=function(S){var M=g.refs;M===Hk&&(M=g.refs={}),S===null?delete M[v]:M[v]=S},a._stringRef=v,a)}if(typeof o!="string")throw Error(n(284));if(!c._owner)throw Error(n(290,o))}return o}function Oc(o,a){throw o=Object.prototype.toString.call(a),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":o))}function Uk(o){var a=o._init;return a(o._payload)}function Jk(o){function a(I,O){if(o){var A=I.deletions;A===null?(I.deletions=[O],I.flags|=16):A.push(O)}}function c(I,O){if(!o)return null;for(;O!==null;)a(I,O),O=O.sibling;return null}function h(I,O){for(I=new Map;O!==null;)O.key!==null?I.set(O.key,O):I.set(O.index,O),O=O.sibling;return I}function g(I,O){return I=Is(I,O),I.index=0,I.sibling=null,I}function v(I,O,A){return I.index=A,o?(A=I.alternate,A!==null?(A=A.index,A<O?(I.flags|=2,O):A):(I.flags|=2,O)):(I.flags|=1048576,O)}function S(I){return o&&I.alternate===null&&(I.flags|=2),I}function M(I,O,A,U){return O===null||O.tag!==6?(O=Fm(A,I.mode,U),O.return=I,O):(O=g(O,A),O.return=I,O)}function C(I,O,A,U){var ne=A.type;return ne===B?_(I,O,A.props.children,U,A.key):O!==null&&(O.elementType===ne||typeof ne=="object"&&ne!==null&&ne.\$\$typeof===Ke&&Uk(ne)===O.type)?(U=g(O,A.props),U.ref=fa(I,O,A),U.return=I,U):(U=qc(A.type,A.key,A.props,null,I.mode,U),U.ref=fa(I,O,A),U.return=I,U)}function P(I,O,A,U){return O===null||O.tag!==4||O.stateNode.containerInfo!==A.containerInfo||O.stateNode.implementation!==A.implementation?(O=_m(A,I.mode,U),O.return=I,O):(O=g(O,A.children||[]),O.return=I,O)}function _(I,O,A,U,ne){return O===null||O.tag!==7?(O=Pi(A,I.mode,U,ne),O.return=I,O):(O=g(O,A),O.return=I,O)}function H(I,O,A){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Fm(""+O,I.mode,A),O.return=I,O;if(typeof O=="object"&&O!==null){switch(O.\$\$typeof){case R:return A=qc(O.type,O.key,O.props,null,I.mode,A),A.ref=fa(I,null,O),A.return=I,A;case L:return O=_m(O,I.mode,A),O.return=I,O;case Ke:var U=O._init;return H(I,U(O._payload),A)}if(Hl(O)||W(O))return O=Pi(O,I.mode,A,null),O.return=I,O;Oc(I,O)}return null}function \$(I,O,A,U){var ne=O!==null?O.key:null;if(typeof A=="string"&&A!==""||typeof A=="number")return ne!==null?null:M(I,O,""+A,U);if(typeof A=="object"&&A!==null){switch(A.\$\$typeof){case R:return A.key===ne?C(I,O,A,U):null;case L:return A.key===ne?P(I,O,A,U):null;case Ke:return ne=A._init,\$(I,O,ne(A._payload),U)}if(Hl(A)||W(A))return ne!==null?null:_(I,O,A,U,null);Oc(I,A)}return null}function q(I,O,A,U,ne){if(typeof U=="string"&&U!==""||typeof U=="number")return I=I.get(A)||null,M(O,I,""+U,ne);if(typeof U=="object"&&U!==null){switch(U.\$\$typeof){case R:return I=I.get(U.key===null?A:U.key)||null,C(O,I,U,ne);case L:return I=I.get(U.key===null?A:U.key)||null,P(O,I,U,ne);case Ke:var ie=U._init;return q(I,O,A,ie(U._payload),ne)}if(Hl(U)||W(U))return I=I.get(A)||null,_(O,I,U,ne,null);Oc(O,U)}return null}function Z(I,O,A,U){for(var ne=null,ie=null,oe=O,ue=O=0,ht=null;oe!==null&&ue<A.length;ue++){oe.index>ue?(ht=oe,oe=null):ht=oe.sibling;var Se=\$(I,oe,A[ue],U);if(Se===null){oe===null&&(oe=ht);break}o&&oe&&Se.alternate===null&&a(I,oe),O=v(Se,O,ue),ie===null?ne=Se:ie.sibling=Se,ie=Se,oe=ht}if(ue===A.length)return c(I,oe),Be&&Ei(I,ue),ne;if(oe===null){for(;ue<A.length;ue++)oe=H(I,A[ue],U),oe!==null&&(O=v(oe,O,ue),ie===null?ne=oe:ie.sibling=oe,ie=oe);return Be&&Ei(I,ue),ne}for(oe=h(I,oe);ue<A.length;ue++)ht=q(oe,I,ue,A[ue],U),ht!==null&&(o&&ht.alternate!==null&&oe.delete(ht.key===null?ue:ht.key),O=v(ht,O,ue),ie===null?ne=ht:ie.sibling=ht,ie=ht);return o&&oe.forEach(function(As){return a(I,As)}),Be&&Ei(I,ue),ne}function ee(I,O,A,U){var ne=W(A);if(typeof ne!="function")throw Error(n(150));if(A=ne.call(A),A==null)throw Error(n(151));for(var ie=ne=null,oe=O,ue=O=0,ht=null,Se=A.next();oe!==null&&!Se.done;ue++,Se=A.next()){oe.index>ue?(ht=oe,oe=null):ht=oe.sibling;var As=\$(I,oe,Se.value,U);if(As===null){oe===null&&(oe=ht);break}o&&oe&&As.alternate===null&&a(I,oe),O=v(As,O,ue),ie===null?ne=As:ie.sibling=As,ie=As,oe=ht}if(Se.done)return c(I,oe),Be&&Ei(I,ue),ne;if(oe===null){for(;!Se.done;ue++,Se=A.next())Se=H(I,Se.value,U),Se!==null&&(O=v(Se,O,ue),ie===null?ne=Se:ie.sibling=Se,ie=Se);return Be&&Ei(I,ue),ne}for(oe=h(I,oe);!Se.done;ue++,Se=A.next())Se=q(oe,I,ue,Se.value,U),Se!==null&&(o&&Se.alternate!==null&&oe.delete(Se.key===null?ue:Se.key),O=v(Se,O,ue),ie===null?ne=Se:ie.sibling=Se,ie=Se);return o&&oe.forEach(function(KI){return a(I,KI)}),Be&&Ei(I,ue),ne}function Ye(I,O,A,U){if(typeof A=="object"&&A!==null&&A.type===B&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.\$\$typeof){case R:e:{for(var ne=A.key,ie=O;ie!==null;){if(ie.key===ne){if(ne=A.type,ne===B){if(ie.tag===7){c(I,ie.sibling),O=g(ie,A.props.children),O.return=I,I=O;break e}}else if(ie.elementType===ne||typeof ne=="object"&&ne!==null&&ne.\$\$typeof===Ke&&Uk(ne)===ie.type){c(I,ie.sibling),O=g(ie,A.props),O.ref=fa(I,ie,A),O.return=I,I=O;break e}c(I,ie);break}else a(I,ie);ie=ie.sibling}A.type===B?(O=Pi(A.props.children,I.mode,U,A.key),O.return=I,I=O):(U=qc(A.type,A.key,A.props,null,I.mode,U),U.ref=fa(I,O,A),U.return=I,I=U)}return S(I);case L:e:{for(ie=A.key;O!==null;){if(O.key===ie)if(O.tag===4&&O.stateNode.containerInfo===A.containerInfo&&O.stateNode.implementation===A.implementation){c(I,O.sibling),O=g(O,A.children||[]),O.return=I,I=O;break e}else{c(I,O);break}else a(I,O);O=O.sibling}O=_m(A,I.mode,U),O.return=I,I=O}return S(I);case Ke:return ie=A._init,Ye(I,O,ie(A._payload),U)}if(Hl(A))return Z(I,O,A,U);if(W(A))return ee(I,O,A,U);Oc(I,A)}return typeof A=="string"&&A!==""||typeof A=="number"?(A=""+A,O!==null&&O.tag===6?(c(I,O.sibling),O=g(O,A),O.return=I,I=O):(c(I,O),O=Fm(A,I.mode,U),O.return=I,I=O),S(I)):c(I,O)}return Ye}var Do=Jk(!0),Qk=Jk(!1),ha={},br=ws(ha),pa=ws(ha),ma=ws(ha);function Ti(o){if(o===ha)throw Error(n(174));return o}function sm(o,a){switch(Oe(ma,a),Oe(pa,o),Oe(br,ha),o=a.nodeType,o){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:rp(null,"");break;default:o=o===8?a.parentNode:a,a=o.namespaceURI||null,o=o.tagName,a=rp(a,o)}De(br),Oe(br,a)}function Lo(){De(br),De(pa),De(ma)}function qk(o){Ti(ma.current);var a=Ti(br.current),c=rp(a,o.type);a!==c&&(Oe(pa,o),Oe(br,c))}function im(o){pa.current===o&&(De(br),De(pa))}var Fe=ws(0);function Ic(o){for(var a=o;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="\$?"||c.data==="\$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var om=[];function lm(){for(var o=0;o<om.length;o++)om[o]._workInProgressVersionPrimary=null;om.length=0}var Ac=D.ReactCurrentDispatcher,am=D.ReactCurrentBatchConfig,Ni=0,_e=null,ot=null,dt=null,Pc=!1,ga=!1,ya=0,yI=0;function At(){throw Error(n(321))}function um(o,a){if(a===null)return!1;for(var c=0;c<a.length&&c<o.length;c++)if(!tr(o[c],a[c]))return!1;return!0}function cm(o,a,c,h,g,v){if(Ni=v,_e=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,Ac.current=o===null||o.memoizedState===null?SI:bI,o=c(h,g),ga){v=0;do{if(ga=!1,ya=0,25<=v)throw Error(n(301));v+=1,dt=ot=null,a.updateQueue=null,Ac.current=xI,o=c(h,g)}while(ga)}if(Ac.current=zc,a=ot!==null&&ot.next!==null,Ni=0,dt=ot=_e=null,Pc=!1,a)throw Error(n(300));return o}function dm(){var o=ya!==0;return ya=0,o}function xr(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?_e.memoizedState=dt=o:dt=dt.next=o,dt}function \$n(){if(ot===null){var o=_e.alternate;o=o!==null?o.memoizedState:null}else o=ot.next;var a=dt===null?_e.memoizedState:dt.next;if(a!==null)dt=a,ot=o;else{if(o===null)throw Error(n(310));ot=o,o={memoizedState:ot.memoizedState,baseState:ot.baseState,baseQueue:ot.baseQueue,queue:ot.queue,next:null},dt===null?_e.memoizedState=dt=o:dt=dt.next=o}return dt}function va(o,a){return typeof a=="function"?a(o):a}function fm(o){var a=\$n(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var h=ot,g=h.baseQueue,v=c.pending;if(v!==null){if(g!==null){var S=g.next;g.next=v.next,v.next=S}h.baseQueue=g=v,c.pending=null}if(g!==null){v=g.next,h=h.baseState;var M=S=null,C=null,P=v;do{var _=P.lane;if((Ni&_)===_)C!==null&&(C=C.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),h=P.hasEagerState?P.eagerState:o(h,P.action);else{var H={lane:_,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};C===null?(M=C=H,S=h):C=C.next=H,_e.lanes|=_,Ci|=_}P=P.next}while(P!==null&&P!==v);C===null?S=h:C.next=M,tr(h,a.memoizedState)||(nn=!0),a.memoizedState=h,a.baseState=S,a.baseQueue=C,c.lastRenderedState=h}if(o=c.interleaved,o!==null){g=o;do v=g.lane,_e.lanes|=v,Ci|=v,g=g.next;while(g!==o)}else g===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function hm(o){var a=\$n(),c=a.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=o;var h=c.dispatch,g=c.pending,v=a.memoizedState;if(g!==null){c.pending=null;var S=g=g.next;do v=o(v,S.action),S=S.next;while(S!==g);tr(v,a.memoizedState)||(nn=!0),a.memoizedState=v,a.baseQueue===null&&(a.baseState=v),c.lastRenderedState=v}return[v,h]}function Kk(){}function Gk(o,a){var c=_e,h=\$n(),g=a(),v=!tr(h.memoizedState,g);if(v&&(h.memoizedState=g,nn=!0),h=h.queue,pm(Zk.bind(null,c,h,o),[o]),h.getSnapshot!==a||v||dt!==null&&dt.memoizedState.tag&1){if(c.flags|=2048,ka(9,Xk.bind(null,c,h,g,a),void 0,null),ft===null)throw Error(n(349));Ni&30||Yk(c,a,g)}return g}function Yk(o,a,c){o.flags|=16384,o={getSnapshot:a,value:c},a=_e.updateQueue,a===null?(a={lastEffect:null,stores:null},_e.updateQueue=a,a.stores=[o]):(c=a.stores,c===null?a.stores=[o]:c.push(o))}function Xk(o,a,c,h){a.value=c,a.getSnapshot=h,ew(a)&&tw(o)}function Zk(o,a,c){return c(function(){ew(a)&&tw(o)})}function ew(o){var a=o.getSnapshot;o=o.value;try{var c=a();return!tr(o,c)}catch{return!0}}function tw(o){var a=Jr(o,1);a!==null&&or(a,o,1,-1)}function nw(o){var a=xr();return typeof o=="function"&&(o=o()),a.memoizedState=a.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:va,lastRenderedState:o},a.queue=o,o=o.dispatch=wI.bind(null,_e,o),[a.memoizedState,o]}function ka(o,a,c,h){return o={tag:o,create:a,destroy:c,deps:h,next:null},a=_e.updateQueue,a===null?(a={lastEffect:null,stores:null},_e.updateQueue=a,a.lastEffect=o.next=o):(c=a.lastEffect,c===null?a.lastEffect=o.next=o:(h=c.next,c.next=o,o.next=h,a.lastEffect=o)),o}function rw(){return \$n().memoizedState}function Dc(o,a,c,h){var g=xr();_e.flags|=o,g.memoizedState=ka(1|a,c,void 0,h===void 0?null:h)}function Lc(o,a,c,h){var g=\$n();h=h===void 0?null:h;var v=void 0;if(ot!==null){var S=ot.memoizedState;if(v=S.destroy,h!==null&&um(h,S.deps)){g.memoizedState=ka(a,c,v,h);return}}_e.flags|=o,g.memoizedState=ka(1|a,c,v,h)}function sw(o,a){return Dc(8390656,8,o,a)}function pm(o,a){return Lc(2048,8,o,a)}function iw(o,a){return Lc(4,2,o,a)}function ow(o,a){return Lc(4,4,o,a)}function lw(o,a){if(typeof a=="function")return o=o(),a(o),function(){a(null)};if(a!=null)return o=o(),a.current=o,function(){a.current=null}}function aw(o,a,c){return c=c!=null?c.concat([o]):null,Lc(4,4,lw.bind(null,a,o),c)}function mm(){}function uw(o,a){var c=\$n();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&um(a,h[1])?h[0]:(c.memoizedState=[o,a],o)}function cw(o,a){var c=\$n();a=a===void 0?null:a;var h=c.memoizedState;return h!==null&&a!==null&&um(a,h[1])?h[0]:(o=o(),c.memoizedState=[o,a],o)}function dw(o,a,c){return Ni&21?(tr(c,a)||(c=B1(),_e.lanes|=c,Ci|=c,o.baseState=!0),a):(o.baseState&&(o.baseState=!1,nn=!0),o.memoizedState=c)}function vI(o,a){var c=be;be=c!==0&&4>c?c:4,o(!0);var h=am.transition;am.transition={};try{o(!1),a()}finally{be=c,am.transition=h}}function fw(){return \$n().memoizedState}function kI(o,a,c){var h=Cs(o);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},hw(o))pw(a,c);else if(c=Bk(o,a,c,h),c!==null){var g=Wt();or(c,o,h,g),mw(c,a,h)}}function wI(o,a,c){var h=Cs(o),g={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(hw(o))pw(a,g);else{var v=o.alternate;if(o.lanes===0&&(v===null||v.lanes===0)&&(v=a.lastRenderedReducer,v!==null))try{var S=a.lastRenderedState,M=v(S,c);if(g.hasEagerState=!0,g.eagerState=M,tr(M,S)){var C=a.interleaved;C===null?(g.next=g,em(a)):(g.next=C.next,C.next=g),a.interleaved=g;return}}catch{}finally{}c=Bk(o,a,g,h),c!==null&&(g=Wt(),or(c,o,h,g),mw(c,a,h))}}function hw(o){var a=o.alternate;return o===_e||a!==null&&a===_e}function pw(o,a){ga=Pc=!0;var c=o.pending;c===null?a.next=a:(a.next=c.next,c.next=a),o.pending=a}function mw(o,a,c){if(c&4194240){var h=a.lanes;h&=o.pendingLanes,c|=h,a.lanes=c,mp(o,c)}}var zc={readContext:Bn,useCallback:At,useContext:At,useEffect:At,useImperativeHandle:At,useInsertionEffect:At,useLayoutEffect:At,useMemo:At,useReducer:At,useRef:At,useState:At,useDebugValue:At,useDeferredValue:At,useTransition:At,useMutableSource:At,useSyncExternalStore:At,useId:At,unstable_isNewReconciler:!1},SI={readContext:Bn,useCallback:function(o,a){return xr().memoizedState=[o,a===void 0?null:a],o},useContext:Bn,useEffect:sw,useImperativeHandle:function(o,a,c){return c=c!=null?c.concat([o]):null,Dc(4194308,4,lw.bind(null,a,o),c)},useLayoutEffect:function(o,a){return Dc(4194308,4,o,a)},useInsertionEffect:function(o,a){return Dc(4,2,o,a)},useMemo:function(o,a){var c=xr();return a=a===void 0?null:a,o=o(),c.memoizedState=[o,a],o},useReducer:function(o,a,c){var h=xr();return a=c!==void 0?c(a):a,h.memoizedState=h.baseState=a,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:a},h.queue=o,o=o.dispatch=kI.bind(null,_e,o),[h.memoizedState,o]},useRef:function(o){var a=xr();return o={current:o},a.memoizedState=o},useState:nw,useDebugValue:mm,useDeferredValue:function(o){return xr().memoizedState=o},useTransition:function(){var o=nw(!1),a=o[0];return o=vI.bind(null,o[1]),xr().memoizedState=o,[a,o]},useMutableSource:function(){},useSyncExternalStore:function(o,a,c){var h=_e,g=xr();if(Be){if(c===void 0)throw Error(n(407));c=c()}else{if(c=a(),ft===null)throw Error(n(349));Ni&30||Yk(h,a,c)}g.memoizedState=c;var v={value:c,getSnapshot:a};return g.queue=v,sw(Zk.bind(null,h,v,o),[o]),h.flags|=2048,ka(9,Xk.bind(null,h,v,c,a),void 0,null),c},useId:function(){var o=xr(),a=ft.identifierPrefix;if(Be){var c=Ur,h=Wr;c=(h&~(1<<32-er(h)-1)).toString(32)+c,a=":"+a+"R"+c,c=ya++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=yI++,a=":"+a+"r"+c.toString(32)+":";return o.memoizedState=a},unstable_isNewReconciler:!1},bI={readContext:Bn,useCallback:uw,useContext:Bn,useEffect:pm,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:cw,useReducer:fm,useRef:rw,useState:function(){return fm(va)},useDebugValue:mm,useDeferredValue:function(o){var a=\$n();return dw(a,ot.memoizedState,o)},useTransition:function(){var o=fm(va)[0],a=\$n().memoizedState;return[o,a]},useMutableSource:Kk,useSyncExternalStore:Gk,useId:fw,unstable_isNewReconciler:!1},xI={readContext:Bn,useCallback:uw,useContext:Bn,useEffect:pm,useImperativeHandle:aw,useInsertionEffect:iw,useLayoutEffect:ow,useMemo:cw,useReducer:hm,useRef:rw,useState:function(){return hm(va)},useDebugValue:mm,useDeferredValue:function(o){var a=\$n();return ot===null?a.memoizedState=o:dw(a,ot.memoizedState,o)},useTransition:function(){var o=hm(va)[0],a=\$n().memoizedState;return[o,a]},useMutableSource:Kk,useSyncExternalStore:Gk,useId:fw,unstable_isNewReconciler:!1};function zo(o,a){try{var c="",h=a;do c+=Hr(h),h=h.return;while(h);var g=c}catch(v){g=\`
Error generating stack: \`+v.message+\`
\`+v.stack}return{value:o,source:a,stack:g,digest:null}}function gm(o,a,c){return{value:o,source:null,stack:c??null,digest:a??null}}function ym(o,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var EI=typeof WeakMap=="function"?WeakMap:Map;function gw(o,a,c){c=Qr(-1,c),c.tag=3,c.payload={element:null};var h=a.value;return c.callback=function(){Vc||(Vc=!0,Am=h),ym(o,a)},c}function yw(o,a,c){c=Qr(-1,c),c.tag=3;var h=o.type.getDerivedStateFromError;if(typeof h=="function"){var g=a.value;c.payload=function(){return h(g)},c.callback=function(){ym(o,a)}}var v=o.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){ym(o,a),typeof h!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var S=a.stack;this.componentDidCatch(a.value,{componentStack:S!==null?S:""})}),c}function vw(o,a,c){var h=o.pingCache;if(h===null){h=o.pingCache=new EI;var g=new Set;h.set(a,g)}else g=h.get(a),g===void 0&&(g=new Set,h.set(a,g));g.has(c)||(g.add(c),o=\$I.bind(null,o,a,c),a.then(o,o))}function kw(o){do{var a;if((a=o.tag===13)&&(a=o.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return o;o=o.return}while(o!==null);return null}function ww(o,a,c,h,g){return o.mode&1?(o.flags|=65536,o.lanes=g,o):(o===a?o.flags|=65536:(o.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Qr(-1,1),a.tag=2,Es(c,a,1))),c.lanes|=1),o)}var MI=D.ReactCurrentOwner,nn=!1;function jt(o,a,c,h){a.child=o===null?Qk(a,null,c,h):Do(a,o.child,c,h)}function Sw(o,a,c,h,g){c=c.render;var v=a.ref;return Po(a,g),h=cm(o,a,c,h,v,g),c=dm(),o!==null&&!nn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,qr(o,a,g)):(Be&&c&&Up(a),a.flags|=1,jt(o,a,h,g),a.child)}function bw(o,a,c,h,g){if(o===null){var v=c.type;return typeof v=="function"&&!\$m(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=v,xw(o,a,v,h,g)):(o=qc(c.type,null,h,a,a.mode,g),o.ref=a.ref,o.return=a,a.child=o)}if(v=o.child,!(o.lanes&g)){var S=v.memoizedProps;if(c=c.compare,c=c!==null?c:ia,c(S,h)&&o.ref===a.ref)return qr(o,a,g)}return a.flags|=1,o=Is(v,h),o.ref=a.ref,o.return=a,a.child=o}function xw(o,a,c,h,g){if(o!==null){var v=o.memoizedProps;if(ia(v,h)&&o.ref===a.ref)if(nn=!1,a.pendingProps=h=v,(o.lanes&g)!==0)o.flags&131072&&(nn=!0);else return a.lanes=o.lanes,qr(o,a,g)}return vm(o,a,c,h,g)}function Ew(o,a,c){var h=a.pendingProps,g=h.children,v=o!==null?o.memoizedState:null;if(h.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(Bo,Sn),Sn|=c;else{if(!(c&1073741824))return o=v!==null?v.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:o,cachePool:null,transitions:null},a.updateQueue=null,Oe(Bo,Sn),Sn|=o,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,Oe(Bo,Sn),Sn|=h}else v!==null?(h=v.baseLanes|c,a.memoizedState=null):h=c,Oe(Bo,Sn),Sn|=h;return jt(o,a,g,c),a.child}function Mw(o,a){var c=a.ref;(o===null&&c!==null||o!==null&&o.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function vm(o,a,c,h,g){var v=tn(c)?bi:It.current;return v=No(a,v),Po(a,g),c=cm(o,a,c,h,v,g),h=dm(),o!==null&&!nn?(a.updateQueue=o.updateQueue,a.flags&=-2053,o.lanes&=~g,qr(o,a,g)):(Be&&h&&Up(a),a.flags|=1,jt(o,a,c,g),a.child)}function Tw(o,a,c,h,g){if(tn(c)){var v=!0;kc(a)}else v=!1;if(Po(a,g),a.stateNode===null)Bc(o,a),jk(a,c,h),rm(a,c,h,g),h=!0;else if(o===null){var S=a.stateNode,M=a.memoizedProps;S.props=M;var C=S.context,P=c.contextType;typeof P=="object"&&P!==null?P=Bn(P):(P=tn(c)?bi:It.current,P=No(a,P));var _=c.getDerivedStateFromProps,H=typeof _=="function"||typeof S.getSnapshotBeforeUpdate=="function";H||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==h||C!==P)&&Wk(a,S,h,P),xs=!1;var \$=a.memoizedState;S.state=\$,Nc(a,h,S,g),C=a.memoizedState,M!==h||\$!==C||en.current||xs?(typeof _=="function"&&(nm(a,c,_,h),C=a.memoizedState),(M=xs||Vk(a,c,M,h,\$,C,P))?(H||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(a.flags|=4194308)):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=C),S.props=h,S.state=C,S.context=P,h=M):(typeof S.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{S=a.stateNode,\$k(o,a),M=a.memoizedProps,P=a.type===a.elementType?M:rr(a.type,M),S.props=P,H=a.pendingProps,\$=S.context,C=c.contextType,typeof C=="object"&&C!==null?C=Bn(C):(C=tn(c)?bi:It.current,C=No(a,C));var q=c.getDerivedStateFromProps;(_=typeof q=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(M!==H||\$!==C)&&Wk(a,S,h,C),xs=!1,\$=a.memoizedState,S.state=\$,Nc(a,h,S,g);var Z=a.memoizedState;M!==H||\$!==Z||en.current||xs?(typeof q=="function"&&(nm(a,c,q,h),Z=a.memoizedState),(P=xs||Vk(a,c,P,h,\$,Z,C)||!1)?(_||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,Z,C),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,Z,C)),typeof S.componentDidUpdate=="function"&&(a.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&\$===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&\$===o.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=Z),S.props=h,S.state=Z,S.context=C,h=P):(typeof S.componentDidUpdate!="function"||M===o.memoizedProps&&\$===o.memoizedState||(a.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||M===o.memoizedProps&&\$===o.memoizedState||(a.flags|=1024),h=!1)}return km(o,a,c,h,v,g)}function km(o,a,c,h,g,v){Mw(o,a);var S=(a.flags&128)!==0;if(!h&&!S)return g&&Ik(a,c,!1),qr(o,a,v);h=a.stateNode,MI.current=a;var M=S&&typeof c.getDerivedStateFromError!="function"?null:h.render();return a.flags|=1,o!==null&&S?(a.child=Do(a,o.child,null,v),a.child=Do(a,null,M,v)):jt(o,a,M,v),a.memoizedState=h.state,g&&Ik(a,c,!0),a.child}function Nw(o){var a=o.stateNode;a.pendingContext?Ck(o,a.pendingContext,a.pendingContext!==a.context):a.context&&Ck(o,a.context,!1),sm(o,a.containerInfo)}function Cw(o,a,c,h,g){return Io(),Kp(g),a.flags|=256,jt(o,a,c,h),a.child}var wm={dehydrated:null,treeContext:null,retryLane:0};function Sm(o){return{baseLanes:o,cachePool:null,transitions:null}}function Ow(o,a,c){var h=a.pendingProps,g=Fe.current,v=!1,S=(a.flags&128)!==0,M;if((M=S)||(M=o!==null&&o.memoizedState===null?!1:(g&2)!==0),M?(v=!0,a.flags&=-129):(o===null||o.memoizedState!==null)&&(g|=1),Oe(Fe,g&1),o===null)return qp(a),o=a.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(a.mode&1?o.data==="\$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(S=h.children,o=h.fallback,v?(h=a.mode,v=a.child,S={mode:"hidden",children:S},!(h&1)&&v!==null?(v.childLanes=0,v.pendingProps=S):v=Kc(S,h,0,null),o=Pi(o,h,c,null),v.return=a,o.return=a,v.sibling=o,a.child=v,a.child.memoizedState=Sm(c),a.memoizedState=wm,o):bm(a,S));if(g=o.memoizedState,g!==null&&(M=g.dehydrated,M!==null))return TI(o,a,S,h,M,g,c);if(v){v=h.fallback,S=a.mode,g=o.child,M=g.sibling;var C={mode:"hidden",children:h.children};return!(S&1)&&a.child!==g?(h=a.child,h.childLanes=0,h.pendingProps=C,a.deletions=null):(h=Is(g,C),h.subtreeFlags=g.subtreeFlags&14680064),M!==null?v=Is(M,v):(v=Pi(v,S,c,null),v.flags|=2),v.return=a,h.return=a,h.sibling=v,a.child=h,h=v,v=a.child,S=o.child.memoizedState,S=S===null?Sm(c):{baseLanes:S.baseLanes|c,cachePool:null,transitions:S.transitions},v.memoizedState=S,v.childLanes=o.childLanes&~c,a.memoizedState=wm,h}return v=o.child,o=v.sibling,h=Is(v,{mode:"visible",children:h.children}),!(a.mode&1)&&(h.lanes=c),h.return=a,h.sibling=null,o!==null&&(c=a.deletions,c===null?(a.deletions=[o],a.flags|=16):c.push(o)),a.child=h,a.memoizedState=null,h}function bm(o,a){return a=Kc({mode:"visible",children:a},o.mode,0,null),a.return=o,o.child=a}function Rc(o,a,c,h){return h!==null&&Kp(h),Do(a,o.child,null,c),o=bm(a,a.pendingProps.children),o.flags|=2,a.memoizedState=null,o}function TI(o,a,c,h,g,v,S){if(c)return a.flags&256?(a.flags&=-257,h=gm(Error(n(422))),Rc(o,a,S,h)):a.memoizedState!==null?(a.child=o.child,a.flags|=128,null):(v=h.fallback,g=a.mode,h=Kc({mode:"visible",children:h.children},g,0,null),v=Pi(v,g,S,null),v.flags|=2,h.return=a,v.return=a,h.sibling=v,a.child=h,a.mode&1&&Do(a,o.child,null,S),a.child.memoizedState=Sm(S),a.memoizedState=wm,v);if(!(a.mode&1))return Rc(o,a,S,null);if(g.data==="\$!"){if(h=g.nextSibling&&g.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(n(419)),h=gm(v,h,void 0),Rc(o,a,S,h)}if(M=(S&o.childLanes)!==0,nn||M){if(h=ft,h!==null){switch(S&-S){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(h.suspendedLanes|S)?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Jr(o,g),or(h,o,g,-1))}return Bm(),h=gm(Error(n(421))),Rc(o,a,S,h)}return g.data==="\$?"?(a.flags|=128,a.child=o.child,a=FI.bind(null,o),g._reactRetry=a,null):(o=v.treeContext,wn=ks(g.nextSibling),kn=a,Be=!0,nr=null,o!==null&&(zn[Rn++]=Wr,zn[Rn++]=Ur,zn[Rn++]=xi,Wr=o.id,Ur=o.overflow,xi=a),a=bm(a,h.children),a.flags|=4096,a)}function Iw(o,a,c){o.lanes|=a;var h=o.alternate;h!==null&&(h.lanes|=a),Zp(o.return,a,c)}function xm(o,a,c,h,g){var v=o.memoizedState;v===null?o.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g}:(v.isBackwards=a,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=g)}function Aw(o,a,c){var h=a.pendingProps,g=h.revealOrder,v=h.tail;if(jt(o,a,h.children,c),h=Fe.current,h&2)h=h&1|2,a.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=a.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Iw(o,c,a);else if(o.tag===19)Iw(o,c,a);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break e;for(;o.sibling===null;){if(o.return===null||o.return===a)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}h&=1}if(Oe(Fe,h),!(a.mode&1))a.memoizedState=null;else switch(g){case"forwards":for(c=a.child,g=null;c!==null;)o=c.alternate,o!==null&&Ic(o)===null&&(g=c),c=c.sibling;c=g,c===null?(g=a.child,a.child=null):(g=c.sibling,c.sibling=null),xm(a,!1,g,c,v);break;case"backwards":for(c=null,g=a.child,a.child=null;g!==null;){if(o=g.alternate,o!==null&&Ic(o)===null){a.child=g;break}o=g.sibling,g.sibling=c,c=g,g=o}xm(a,!0,c,null,v);break;case"together":xm(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Bc(o,a){!(a.mode&1)&&o!==null&&(o.alternate=null,a.alternate=null,a.flags|=2)}function qr(o,a,c){if(o!==null&&(a.dependencies=o.dependencies),Ci|=a.lanes,!(c&a.childLanes))return null;if(o!==null&&a.child!==o.child)throw Error(n(153));if(a.child!==null){for(o=a.child,c=Is(o,o.pendingProps),a.child=c,c.return=a;o.sibling!==null;)o=o.sibling,c=c.sibling=Is(o,o.pendingProps),c.return=a;c.sibling=null}return a.child}function NI(o,a,c){switch(a.tag){case 3:Nw(a),Io();break;case 5:qk(a);break;case 1:tn(a.type)&&kc(a);break;case 4:sm(a,a.stateNode.containerInfo);break;case 10:var h=a.type._context,g=a.memoizedProps.value;Oe(Ec,h._currentValue),h._currentValue=g;break;case 13:if(h=a.memoizedState,h!==null)return h.dehydrated!==null?(Oe(Fe,Fe.current&1),a.flags|=128,null):c&a.child.childLanes?Ow(o,a,c):(Oe(Fe,Fe.current&1),o=qr(o,a,c),o!==null?o.sibling:null);Oe(Fe,Fe.current&1);break;case 19:if(h=(c&a.childLanes)!==0,o.flags&128){if(h)return Aw(o,a,c);a.flags|=128}if(g=a.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Oe(Fe,Fe.current),h)break;return null;case 22:case 23:return a.lanes=0,Ew(o,a,c)}return qr(o,a,c)}var Pw,Em,Dw,Lw;Pw=function(o,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)o.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Em=function(){},Dw=function(o,a,c,h){var g=o.memoizedProps;if(g!==h){o=a.stateNode,Ti(br.current);var v=null;switch(c){case"input":g=Zh(o,g),h=Zh(o,h),v=[];break;case"select":g=F({},g,{value:void 0}),h=F({},h,{value:void 0}),v=[];break;case"textarea":g=np(o,g),h=np(o,h),v=[];break;default:typeof g.onClick!="function"&&typeof h.onClick=="function"&&(o.onclick=gc)}sp(c,h);var S;c=null;for(P in g)if(!h.hasOwnProperty(P)&&g.hasOwnProperty(P)&&g[P]!=null)if(P==="style"){var M=g[P];for(S in M)M.hasOwnProperty(S)&&(c||(c={}),c[S]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(s.hasOwnProperty(P)?v||(v=[]):(v=v||[]).push(P,null));for(P in h){var C=h[P];if(M=g!=null?g[P]:void 0,h.hasOwnProperty(P)&&C!==M&&(C!=null||M!=null))if(P==="style")if(M){for(S in M)!M.hasOwnProperty(S)||C&&C.hasOwnProperty(S)||(c||(c={}),c[S]="");for(S in C)C.hasOwnProperty(S)&&M[S]!==C[S]&&(c||(c={}),c[S]=C[S])}else c||(v||(v=[]),v.push(P,c)),c=C;else P==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,M=M?M.__html:void 0,C!=null&&M!==C&&(v=v||[]).push(P,C)):P==="children"?typeof C!="string"&&typeof C!="number"||(v=v||[]).push(P,""+C):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(s.hasOwnProperty(P)?(C!=null&&P==="onScroll"&&Pe("scroll",o),v||M===C||(v=[])):(v=v||[]).push(P,C))}c&&(v=v||[]).push("style",c);var P=v;(a.updateQueue=P)&&(a.flags|=4)}},Lw=function(o,a,c,h){c!==h&&(a.flags|=4)};function wa(o,a){if(!Be)switch(o.tailMode){case"hidden":a=o.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?o.tail=null:c.sibling=null;break;case"collapsed":c=o.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||o.tail===null?o.tail=null:o.tail.sibling=null:h.sibling=null}}function Pt(o){var a=o.alternate!==null&&o.alternate.child===o.child,c=0,h=0;if(a)for(var g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&14680064,h|=g.flags&14680064,g.return=o,g=g.sibling;else for(g=o.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=o,g=g.sibling;return o.subtreeFlags|=h,o.childLanes=c,a}function CI(o,a,c){var h=a.pendingProps;switch(Jp(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(a),null;case 1:return tn(a.type)&&vc(),Pt(a),null;case 3:return h=a.stateNode,Lo(),De(en),De(It),lm(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(o===null||o.child===null)&&(xc(a)?a.flags|=4:o===null||o.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,nr!==null&&(Lm(nr),nr=null))),Em(o,a),Pt(a),null;case 5:im(a);var g=Ti(ma.current);if(c=a.type,o!==null&&a.stateNode!=null)Dw(o,a,c,h,g),o.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!h){if(a.stateNode===null)throw Error(n(166));return Pt(a),null}if(o=Ti(br.current),xc(a)){h=a.stateNode,c=a.type;var v=a.memoizedProps;switch(h[Sr]=a,h[ca]=v,o=(a.mode&1)!==0,c){case"dialog":Pe("cancel",h),Pe("close",h);break;case"iframe":case"object":case"embed":Pe("load",h);break;case"video":case"audio":for(g=0;g<la.length;g++)Pe(la[g],h);break;case"source":Pe("error",h);break;case"img":case"image":case"link":Pe("error",h),Pe("load",h);break;case"details":Pe("toggle",h);break;case"input":h1(h,v),Pe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Pe("invalid",h);break;case"textarea":g1(h,v),Pe("invalid",h)}sp(c,v),g=null;for(var S in v)if(v.hasOwnProperty(S)){var M=v[S];S==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&mc(h.textContent,M,o),g=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&mc(h.textContent,M,o),g=["children",""+M]):s.hasOwnProperty(S)&&M!=null&&S==="onScroll"&&Pe("scroll",h)}switch(c){case"input":Ju(h),m1(h,v,!0);break;case"textarea":Ju(h),v1(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=gc)}h=g,a.updateQueue=h,h!==null&&(a.flags|=4)}else{S=g.nodeType===9?g:g.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=k1(c)),o==="http://www.w3.org/1999/xhtml"?c==="script"?(o=S.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof h.is=="string"?o=S.createElement(c,{is:h.is}):(o=S.createElement(c),c==="select"&&(S=o,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):o=S.createElementNS(o,c),o[Sr]=a,o[ca]=h,Pw(o,a,!1,!1),a.stateNode=o;e:{switch(S=ip(c,h),c){case"dialog":Pe("cancel",o),Pe("close",o),g=h;break;case"iframe":case"object":case"embed":Pe("load",o),g=h;break;case"video":case"audio":for(g=0;g<la.length;g++)Pe(la[g],o);g=h;break;case"source":Pe("error",o),g=h;break;case"img":case"image":case"link":Pe("error",o),Pe("load",o),g=h;break;case"details":Pe("toggle",o),g=h;break;case"input":h1(o,h),g=Zh(o,h),Pe("invalid",o);break;case"option":g=h;break;case"select":o._wrapperState={wasMultiple:!!h.multiple},g=F({},h,{value:void 0}),Pe("invalid",o);break;case"textarea":g1(o,h),g=np(o,h),Pe("invalid",o);break;default:g=h}sp(c,g),M=g;for(v in M)if(M.hasOwnProperty(v)){var C=M[v];v==="style"?b1(o,C):v==="dangerouslySetInnerHTML"?(C=C?C.__html:void 0,C!=null&&w1(o,C)):v==="children"?typeof C=="string"?(c!=="textarea"||C!=="")&&Vl(o,C):typeof C=="number"&&Vl(o,""+C):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(s.hasOwnProperty(v)?C!=null&&v==="onScroll"&&Pe("scroll",o):C!=null&&N(o,v,C,S))}switch(c){case"input":Ju(o),m1(o,h,!1);break;case"textarea":Ju(o),v1(o);break;case"option":h.value!=null&&o.setAttribute("value",""+fs(h.value));break;case"select":o.multiple=!!h.multiple,v=h.value,v!=null?mo(o,!!h.multiple,v,!1):h.defaultValue!=null&&mo(o,!!h.multiple,h.defaultValue,!0);break;default:typeof g.onClick=="function"&&(o.onclick=gc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Pt(a),null;case 6:if(o&&a.stateNode!=null)Lw(o,a,o.memoizedProps,h);else{if(typeof h!="string"&&a.stateNode===null)throw Error(n(166));if(c=Ti(ma.current),Ti(br.current),xc(a)){if(h=a.stateNode,c=a.memoizedProps,h[Sr]=a,(v=h.nodeValue!==c)&&(o=kn,o!==null))switch(o.tag){case 3:mc(h.nodeValue,c,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&mc(h.nodeValue,c,(o.mode&1)!==0)}v&&(a.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Sr]=a,a.stateNode=h}return Pt(a),null;case 13:if(De(Fe),h=a.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Be&&wn!==null&&a.mode&1&&!(a.flags&128))Rk(),Io(),a.flags|=98560,v=!1;else if(v=xc(a),h!==null&&h.dehydrated!==null){if(o===null){if(!v)throw Error(n(318));if(v=a.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(n(317));v[Sr]=a}else Io(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;Pt(a),v=!1}else nr!==null&&(Lm(nr),nr=null),v=!0;if(!v)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(h=h!==null,h!==(o!==null&&o.memoizedState!==null)&&h&&(a.child.flags|=8192,a.mode&1&&(o===null||Fe.current&1?lt===0&&(lt=3):Bm())),a.updateQueue!==null&&(a.flags|=4),Pt(a),null);case 4:return Lo(),Em(o,a),o===null&&aa(a.stateNode.containerInfo),Pt(a),null;case 10:return Xp(a.type._context),Pt(a),null;case 17:return tn(a.type)&&vc(),Pt(a),null;case 19:if(De(Fe),v=a.memoizedState,v===null)return Pt(a),null;if(h=(a.flags&128)!==0,S=v.rendering,S===null)if(h)wa(v,!1);else{if(lt!==0||o!==null&&o.flags&128)for(o=a.child;o!==null;){if(S=Ic(o),S!==null){for(a.flags|=128,wa(v,!1),h=S.updateQueue,h!==null&&(a.updateQueue=h,a.flags|=4),a.subtreeFlags=0,h=c,c=a.child;c!==null;)v=c,o=h,v.flags&=14680066,S=v.alternate,S===null?(v.childLanes=0,v.lanes=o,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=S.childLanes,v.lanes=S.lanes,v.child=S.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=S.memoizedProps,v.memoizedState=S.memoizedState,v.updateQueue=S.updateQueue,v.type=S.type,o=S.dependencies,v.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),c=c.sibling;return Oe(Fe,Fe.current&1|2),a.child}o=o.sibling}v.tail!==null&&Ge()>\$o&&(a.flags|=128,h=!0,wa(v,!1),a.lanes=4194304)}else{if(!h)if(o=Ic(S),o!==null){if(a.flags|=128,h=!0,c=o.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),wa(v,!0),v.tail===null&&v.tailMode==="hidden"&&!S.alternate&&!Be)return Pt(a),null}else 2*Ge()-v.renderingStartTime>\$o&&c!==1073741824&&(a.flags|=128,h=!0,wa(v,!1),a.lanes=4194304);v.isBackwards?(S.sibling=a.child,a.child=S):(c=v.last,c!==null?c.sibling=S:a.child=S,v.last=S)}return v.tail!==null?(a=v.tail,v.rendering=a,v.tail=a.sibling,v.renderingStartTime=Ge(),a.sibling=null,c=Fe.current,Oe(Fe,h?c&1|2:c&1),a):(Pt(a),null);case 22:case 23:return Rm(),h=a.memoizedState!==null,o!==null&&o.memoizedState!==null!==h&&(a.flags|=8192),h&&a.mode&1?Sn&1073741824&&(Pt(a),a.subtreeFlags&6&&(a.flags|=8192)):Pt(a),null;case 24:return null;case 25:return null}throw Error(n(156,a.tag))}function OI(o,a){switch(Jp(a),a.tag){case 1:return tn(a.type)&&vc(),o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 3:return Lo(),De(en),De(It),lm(),o=a.flags,o&65536&&!(o&128)?(a.flags=o&-65537|128,a):null;case 5:return im(a),null;case 13:if(De(Fe),o=a.memoizedState,o!==null&&o.dehydrated!==null){if(a.alternate===null)throw Error(n(340));Io()}return o=a.flags,o&65536?(a.flags=o&-65537|128,a):null;case 19:return De(Fe),null;case 4:return Lo(),null;case 10:return Xp(a.type._context),null;case 22:case 23:return Rm(),null;case 24:return null;default:return null}}var \$c=!1,Dt=!1,II=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ro(o,a){var c=o.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Je(o,a,h)}else c.current=null}function zw(o,a,c){try{c()}catch(h){Je(o,a,h)}}var Rw=!1;function AI(o,a){if(Bp=sc,o=fk(),Op(o)){if("selectionStart"in o)var c={start:o.selectionStart,end:o.selectionEnd};else e:{c=(c=o.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var S=0,M=-1,C=-1,P=0,_=0,H=o,\$=null;t:for(;;){for(var q;H!==c||g!==0&&H.nodeType!==3||(M=S+g),H!==v||h!==0&&H.nodeType!==3||(C=S+h),H.nodeType===3&&(S+=H.nodeValue.length),(q=H.firstChild)!==null;)\$=H,H=q;for(;;){if(H===o)break t;if(\$===c&&++P===g&&(M=S),\$===v&&++_===h&&(C=S),(q=H.nextSibling)!==null)break;H=\$,\$=H.parentNode}H=q}c=M===-1||C===-1?null:{start:M,end:C}}else c=null}c=c||{start:0,end:0}}else c=null;for(\$p={focusedElem:o,selectionRange:c},sc=!1,Y=a;Y!==null;)if(a=Y,o=a.child,(a.subtreeFlags&1028)!==0&&o!==null)o.return=a,Y=o;else for(;Y!==null;){a=Y;try{var Z=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Z!==null){var ee=Z.memoizedProps,Ye=Z.memoizedState,I=a.stateNode,O=I.getSnapshotBeforeUpdate(a.elementType===a.type?ee:rr(a.type,ee),Ye);I.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var A=a.stateNode.containerInfo;A.nodeType===1?A.textContent="":A.nodeType===9&&A.documentElement&&A.removeChild(A.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(U){Je(a,a.return,U)}if(o=a.sibling,o!==null){o.return=a.return,Y=o;break}Y=a.return}return Z=Rw,Rw=!1,Z}function Sa(o,a,c){var h=a.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var g=h=h.next;do{if((g.tag&o)===o){var v=g.destroy;g.destroy=void 0,v!==void 0&&zw(a,c,v)}g=g.next}while(g!==h)}}function Fc(o,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&o)===o){var h=c.create;c.destroy=h()}c=c.next}while(c!==a)}}function Mm(o){var a=o.ref;if(a!==null){var c=o.stateNode;switch(o.tag){case 5:o=c;break;default:o=c}typeof a=="function"?a(o):a.current=o}}function Bw(o){var a=o.alternate;a!==null&&(o.alternate=null,Bw(a)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(a=o.stateNode,a!==null&&(delete a[Sr],delete a[ca],delete a[Vp],delete a[hI],delete a[pI])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function \$w(o){return o.tag===5||o.tag===3||o.tag===4}function Fw(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||\$w(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Tm(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(o,a):c.insertBefore(o,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(o,c)):(a=c,a.appendChild(o)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=gc));else if(h!==4&&(o=o.child,o!==null))for(Tm(o,a,c),o=o.sibling;o!==null;)Tm(o,a,c),o=o.sibling}function Nm(o,a,c){var h=o.tag;if(h===5||h===6)o=o.stateNode,a?c.insertBefore(o,a):c.appendChild(o);else if(h!==4&&(o=o.child,o!==null))for(Nm(o,a,c),o=o.sibling;o!==null;)Nm(o,a,c),o=o.sibling}var St=null,sr=!1;function Ms(o,a,c){for(c=c.child;c!==null;)_w(o,a,c),c=c.sibling}function _w(o,a,c){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(Xu,c)}catch{}switch(c.tag){case 5:Dt||Ro(c,a);case 6:var h=St,g=sr;St=null,Ms(o,a,c),St=h,sr=g,St!==null&&(sr?(o=St,c=c.stateNode,o.nodeType===8?o.parentNode.removeChild(c):o.removeChild(c)):St.removeChild(c.stateNode));break;case 18:St!==null&&(sr?(o=St,c=c.stateNode,o.nodeType===8?Hp(o.parentNode,c):o.nodeType===1&&Hp(o,c),Zl(o)):Hp(St,c.stateNode));break;case 4:h=St,g=sr,St=c.stateNode.containerInfo,sr=!0,Ms(o,a,c),St=h,sr=g;break;case 0:case 11:case 14:case 15:if(!Dt&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){g=h=h.next;do{var v=g,S=v.destroy;v=v.tag,S!==void 0&&(v&2||v&4)&&zw(c,a,S),g=g.next}while(g!==h)}Ms(o,a,c);break;case 1:if(!Dt&&(Ro(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(M){Je(c,a,M)}Ms(o,a,c);break;case 21:Ms(o,a,c);break;case 22:c.mode&1?(Dt=(h=Dt)||c.memoizedState!==null,Ms(o,a,c),Dt=h):Ms(o,a,c);break;default:Ms(o,a,c)}}function Hw(o){var a=o.updateQueue;if(a!==null){o.updateQueue=null;var c=o.stateNode;c===null&&(c=o.stateNode=new II),a.forEach(function(h){var g=_I.bind(null,o,h);c.has(h)||(c.add(h),h.then(g,g))})}}function ir(o,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h];try{var v=o,S=a,M=S;e:for(;M!==null;){switch(M.tag){case 5:St=M.stateNode,sr=!1;break e;case 3:St=M.stateNode.containerInfo,sr=!0;break e;case 4:St=M.stateNode.containerInfo,sr=!0;break e}M=M.return}if(St===null)throw Error(n(160));_w(v,S,g),St=null,sr=!1;var C=g.alternate;C!==null&&(C.return=null),g.return=null}catch(P){Je(g,a,P)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Vw(a,o),a=a.sibling}function Vw(o,a){var c=o.alternate,h=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ir(a,o),Er(o),h&4){try{Sa(3,o,o.return),Fc(3,o)}catch(ee){Je(o,o.return,ee)}try{Sa(5,o,o.return)}catch(ee){Je(o,o.return,ee)}}break;case 1:ir(a,o),Er(o),h&512&&c!==null&&Ro(c,c.return);break;case 5:if(ir(a,o),Er(o),h&512&&c!==null&&Ro(c,c.return),o.flags&32){var g=o.stateNode;try{Vl(g,"")}catch(ee){Je(o,o.return,ee)}}if(h&4&&(g=o.stateNode,g!=null)){var v=o.memoizedProps,S=c!==null?c.memoizedProps:v,M=o.type,C=o.updateQueue;if(o.updateQueue=null,C!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&p1(g,v),ip(M,S);var P=ip(M,v);for(S=0;S<C.length;S+=2){var _=C[S],H=C[S+1];_==="style"?b1(g,H):_==="dangerouslySetInnerHTML"?w1(g,H):_==="children"?Vl(g,H):N(g,_,H,P)}switch(M){case"input":ep(g,v);break;case"textarea":y1(g,v);break;case"select":var \$=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var q=v.value;q!=null?mo(g,!!v.multiple,q,!1):\$!==!!v.multiple&&(v.defaultValue!=null?mo(g,!!v.multiple,v.defaultValue,!0):mo(g,!!v.multiple,v.multiple?[]:"",!1))}g[ca]=v}catch(ee){Je(o,o.return,ee)}}break;case 6:if(ir(a,o),Er(o),h&4){if(o.stateNode===null)throw Error(n(162));g=o.stateNode,v=o.memoizedProps;try{g.nodeValue=v}catch(ee){Je(o,o.return,ee)}}break;case 3:if(ir(a,o),Er(o),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Zl(a.containerInfo)}catch(ee){Je(o,o.return,ee)}break;case 4:ir(a,o),Er(o);break;case 13:ir(a,o),Er(o),g=o.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Im=Ge())),h&4&&Hw(o);break;case 22:if(_=c!==null&&c.memoizedState!==null,o.mode&1?(Dt=(P=Dt)||_,ir(a,o),Dt=P):ir(a,o),Er(o),h&8192){if(P=o.memoizedState!==null,(o.stateNode.isHidden=P)&&!_&&o.mode&1)for(Y=o,_=o.child;_!==null;){for(H=Y=_;Y!==null;){switch(\$=Y,q=\$.child,\$.tag){case 0:case 11:case 14:case 15:Sa(4,\$,\$.return);break;case 1:Ro(\$,\$.return);var Z=\$.stateNode;if(typeof Z.componentWillUnmount=="function"){h=\$,c=\$.return;try{a=h,Z.props=a.memoizedProps,Z.state=a.memoizedState,Z.componentWillUnmount()}catch(ee){Je(h,c,ee)}}break;case 5:Ro(\$,\$.return);break;case 22:if(\$.memoizedState!==null){Uw(H);continue}}q!==null?(q.return=\$,Y=q):Uw(H)}_=_.sibling}e:for(_=null,H=o;;){if(H.tag===5){if(_===null){_=H;try{g=H.stateNode,P?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=H.stateNode,C=H.memoizedProps.style,S=C!=null&&C.hasOwnProperty("display")?C.display:null,M.style.display=S1("display",S))}catch(ee){Je(o,o.return,ee)}}}else if(H.tag===6){if(_===null)try{H.stateNode.nodeValue=P?"":H.memoizedProps}catch(ee){Je(o,o.return,ee)}}else if((H.tag!==22&&H.tag!==23||H.memoizedState===null||H===o)&&H.child!==null){H.child.return=H,H=H.child;continue}if(H===o)break e;for(;H.sibling===null;){if(H.return===null||H.return===o)break e;_===H&&(_=null),H=H.return}_===H&&(_=null),H.sibling.return=H.return,H=H.sibling}}break;case 19:ir(a,o),Er(o),h&4&&Hw(o);break;case 21:break;default:ir(a,o),Er(o)}}function Er(o){var a=o.flags;if(a&2){try{e:{for(var c=o.return;c!==null;){if(\$w(c)){var h=c;break e}c=c.return}throw Error(n(160))}switch(h.tag){case 5:var g=h.stateNode;h.flags&32&&(Vl(g,""),h.flags&=-33);var v=Fw(o);Nm(o,v,g);break;case 3:case 4:var S=h.stateNode.containerInfo,M=Fw(o);Tm(o,M,S);break;default:throw Error(n(161))}}catch(C){Je(o,o.return,C)}o.flags&=-3}a&4096&&(o.flags&=-4097)}function PI(o,a,c){Y=o,jw(o)}function jw(o,a,c){for(var h=(o.mode&1)!==0;Y!==null;){var g=Y,v=g.child;if(g.tag===22&&h){var S=g.memoizedState!==null||\$c;if(!S){var M=g.alternate,C=M!==null&&M.memoizedState!==null||Dt;M=\$c;var P=Dt;if(\$c=S,(Dt=C)&&!P)for(Y=g;Y!==null;)S=Y,C=S.child,S.tag===22&&S.memoizedState!==null?Jw(g):C!==null?(C.return=S,Y=C):Jw(g);for(;v!==null;)Y=v,jw(v),v=v.sibling;Y=g,\$c=M,Dt=P}Ww(o)}else g.subtreeFlags&8772&&v!==null?(v.return=g,Y=v):Ww(o)}}function Ww(o){for(;Y!==null;){var a=Y;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:Dt||Fc(5,a);break;case 1:var h=a.stateNode;if(a.flags&4&&!Dt)if(c===null)h.componentDidMount();else{var g=a.elementType===a.type?c.memoizedProps:rr(a.type,c.memoizedProps);h.componentDidUpdate(g,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=a.updateQueue;v!==null&&_k(a,v,h);break;case 3:var S=a.updateQueue;if(S!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}_k(a,S,c)}break;case 5:var M=a.stateNode;if(c===null&&a.flags&4){c=M;var C=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":C.autoFocus&&c.focus();break;case"img":C.src&&(c.src=C.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var P=a.alternate;if(P!==null){var _=P.memoizedState;if(_!==null){var H=_.dehydrated;H!==null&&Zl(H)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Dt||a.flags&512&&Mm(a)}catch(\$){Je(a,a.return,\$)}}if(a===o){Y=null;break}if(c=a.sibling,c!==null){c.return=a.return,Y=c;break}Y=a.return}}function Uw(o){for(;Y!==null;){var a=Y;if(a===o){Y=null;break}var c=a.sibling;if(c!==null){c.return=a.return,Y=c;break}Y=a.return}}function Jw(o){for(;Y!==null;){var a=Y;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{Fc(4,a)}catch(C){Je(a,c,C)}break;case 1:var h=a.stateNode;if(typeof h.componentDidMount=="function"){var g=a.return;try{h.componentDidMount()}catch(C){Je(a,g,C)}}var v=a.return;try{Mm(a)}catch(C){Je(a,v,C)}break;case 5:var S=a.return;try{Mm(a)}catch(C){Je(a,S,C)}}}catch(C){Je(a,a.return,C)}if(a===o){Y=null;break}var M=a.sibling;if(M!==null){M.return=a.return,Y=M;break}Y=a.return}}var DI=Math.ceil,_c=D.ReactCurrentDispatcher,Cm=D.ReactCurrentOwner,Fn=D.ReactCurrentBatchConfig,ye=0,ft=null,Ze=null,bt=0,Sn=0,Bo=ws(0),lt=0,ba=null,Ci=0,Hc=0,Om=0,xa=null,rn=null,Im=0,\$o=1/0,Kr=null,Vc=!1,Am=null,Ts=null,jc=!1,Ns=null,Wc=0,Ea=0,Pm=null,Uc=-1,Jc=0;function Wt(){return ye&6?Ge():Uc!==-1?Uc:Uc=Ge()}function Cs(o){return o.mode&1?ye&2&&bt!==0?bt&-bt:gI.transition!==null?(Jc===0&&(Jc=B1()),Jc):(o=be,o!==0||(o=window.event,o=o===void 0?16:J1(o.type)),o):1}function or(o,a,c,h){if(50<Ea)throw Ea=0,Pm=null,Error(n(185));ql(o,c,h),(!(ye&2)||o!==ft)&&(o===ft&&(!(ye&2)&&(Hc|=c),lt===4&&Os(o,bt)),sn(o,h),c===1&&ye===0&&!(a.mode&1)&&(\$o=Ge()+500,wc&&bs()))}function sn(o,a){var c=o.callbackNode;gO(o,a);var h=tc(o,o===ft?bt:0);if(h===0)c!==null&&L1(c),o.callbackNode=null,o.callbackPriority=0;else if(a=h&-h,o.callbackPriority!==a){if(c!=null&&L1(c),a===1)o.tag===0?mI(qw.bind(null,o)):Ak(qw.bind(null,o)),dI(function(){!(ye&6)&&bs()}),c=null;else{switch(\$1(h)){case 1:c=fp;break;case 4:c=z1;break;case 16:c=Yu;break;case 536870912:c=R1;break;default:c=Yu}c=nS(c,Qw.bind(null,o))}o.callbackPriority=a,o.callbackNode=c}}function Qw(o,a){if(Uc=-1,Jc=0,ye&6)throw Error(n(327));var c=o.callbackNode;if(Fo()&&o.callbackNode!==c)return null;var h=tc(o,o===ft?bt:0);if(h===0)return null;if(h&30||h&o.expiredLanes||a)a=Qc(o,h);else{a=h;var g=ye;ye|=2;var v=Gw();(ft!==o||bt!==a)&&(Kr=null,\$o=Ge()+500,Ii(o,a));do try{RI();break}catch(M){Kw(o,M)}while(!0);Yp(),_c.current=v,ye=g,Ze!==null?a=0:(ft=null,bt=0,a=lt)}if(a!==0){if(a===2&&(g=hp(o),g!==0&&(h=g,a=Dm(o,g))),a===1)throw c=ba,Ii(o,0),Os(o,h),sn(o,Ge()),c;if(a===6)Os(o,h);else{if(g=o.current.alternate,!(h&30)&&!LI(g)&&(a=Qc(o,h),a===2&&(v=hp(o),v!==0&&(h=v,a=Dm(o,v))),a===1))throw c=ba,Ii(o,0),Os(o,h),sn(o,Ge()),c;switch(o.finishedWork=g,o.finishedLanes=h,a){case 0:case 1:throw Error(n(345));case 2:Ai(o,rn,Kr);break;case 3:if(Os(o,h),(h&130023424)===h&&(a=Im+500-Ge(),10<a)){if(tc(o,0)!==0)break;if(g=o.suspendedLanes,(g&h)!==h){Wt(),o.pingedLanes|=o.suspendedLanes&g;break}o.timeoutHandle=_p(Ai.bind(null,o,rn,Kr),a);break}Ai(o,rn,Kr);break;case 4:if(Os(o,h),(h&4194240)===h)break;for(a=o.eventTimes,g=-1;0<h;){var S=31-er(h);v=1<<S,S=a[S],S>g&&(g=S),h&=~v}if(h=g,h=Ge()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*DI(h/1960))-h,10<h){o.timeoutHandle=_p(Ai.bind(null,o,rn,Kr),h);break}Ai(o,rn,Kr);break;case 5:Ai(o,rn,Kr);break;default:throw Error(n(329))}}}return sn(o,Ge()),o.callbackNode===c?Qw.bind(null,o):null}function Dm(o,a){var c=xa;return o.current.memoizedState.isDehydrated&&(Ii(o,a).flags|=256),o=Qc(o,a),o!==2&&(a=rn,rn=c,a!==null&&Lm(a)),o}function Lm(o){rn===null?rn=o:rn.push.apply(rn,o)}function LI(o){for(var a=o;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var g=c[h],v=g.getSnapshot;g=g.value;try{if(!tr(v(),g))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===o)break;for(;a.sibling===null;){if(a.return===null||a.return===o)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Os(o,a){for(a&=~Om,a&=~Hc,o.suspendedLanes|=a,o.pingedLanes&=~a,o=o.expirationTimes;0<a;){var c=31-er(a),h=1<<c;o[c]=-1,a&=~h}}function qw(o){if(ye&6)throw Error(n(327));Fo();var a=tc(o,0);if(!(a&1))return sn(o,Ge()),null;var c=Qc(o,a);if(o.tag!==0&&c===2){var h=hp(o);h!==0&&(a=h,c=Dm(o,h))}if(c===1)throw c=ba,Ii(o,0),Os(o,a),sn(o,Ge()),c;if(c===6)throw Error(n(345));return o.finishedWork=o.current.alternate,o.finishedLanes=a,Ai(o,rn,Kr),sn(o,Ge()),null}function zm(o,a){var c=ye;ye|=1;try{return o(a)}finally{ye=c,ye===0&&(\$o=Ge()+500,wc&&bs())}}function Oi(o){Ns!==null&&Ns.tag===0&&!(ye&6)&&Fo();var a=ye;ye|=1;var c=Fn.transition,h=be;try{if(Fn.transition=null,be=1,o)return o()}finally{be=h,Fn.transition=c,ye=a,!(ye&6)&&bs()}}function Rm(){Sn=Bo.current,De(Bo)}function Ii(o,a){o.finishedWork=null,o.finishedLanes=0;var c=o.timeoutHandle;if(c!==-1&&(o.timeoutHandle=-1,cI(c)),Ze!==null)for(c=Ze.return;c!==null;){var h=c;switch(Jp(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&vc();break;case 3:Lo(),De(en),De(It),lm();break;case 5:im(h);break;case 4:Lo();break;case 13:De(Fe);break;case 19:De(Fe);break;case 10:Xp(h.type._context);break;case 22:case 23:Rm()}c=c.return}if(ft=o,Ze=o=Is(o.current,null),bt=Sn=a,lt=0,ba=null,Om=Hc=Ci=0,rn=xa=null,Mi!==null){for(a=0;a<Mi.length;a++)if(c=Mi[a],h=c.interleaved,h!==null){c.interleaved=null;var g=h.next,v=c.pending;if(v!==null){var S=v.next;v.next=g,h.next=S}c.pending=h}Mi=null}return o}function Kw(o,a){do{var c=Ze;try{if(Yp(),Ac.current=zc,Pc){for(var h=_e.memoizedState;h!==null;){var g=h.queue;g!==null&&(g.pending=null),h=h.next}Pc=!1}if(Ni=0,dt=ot=_e=null,ga=!1,ya=0,Cm.current=null,c===null||c.return===null){lt=1,ba=a,Ze=null;break}e:{var v=o,S=c.return,M=c,C=a;if(a=bt,M.flags|=32768,C!==null&&typeof C=="object"&&typeof C.then=="function"){var P=C,_=M,H=_.tag;if(!(_.mode&1)&&(H===0||H===11||H===15)){var \$=_.alternate;\$?(_.updateQueue=\$.updateQueue,_.memoizedState=\$.memoizedState,_.lanes=\$.lanes):(_.updateQueue=null,_.memoizedState=null)}var q=kw(S);if(q!==null){q.flags&=-257,ww(q,S,M,v,a),q.mode&1&&vw(v,P,a),a=q,C=P;var Z=a.updateQueue;if(Z===null){var ee=new Set;ee.add(C),a.updateQueue=ee}else Z.add(C);break e}else{if(!(a&1)){vw(v,P,a),Bm();break e}C=Error(n(426))}}else if(Be&&M.mode&1){var Ye=kw(S);if(Ye!==null){!(Ye.flags&65536)&&(Ye.flags|=256),ww(Ye,S,M,v,a),Kp(zo(C,M));break e}}v=C=zo(C,M),lt!==4&&(lt=2),xa===null?xa=[v]:xa.push(v),v=S;do{switch(v.tag){case 3:v.flags|=65536,a&=-a,v.lanes|=a;var I=gw(v,C,a);Fk(v,I);break e;case 1:M=C;var O=v.type,A=v.stateNode;if(!(v.flags&128)&&(typeof O.getDerivedStateFromError=="function"||A!==null&&typeof A.componentDidCatch=="function"&&(Ts===null||!Ts.has(A)))){v.flags|=65536,a&=-a,v.lanes|=a;var U=yw(v,M,a);Fk(v,U);break e}}v=v.return}while(v!==null)}Xw(c)}catch(ne){a=ne,Ze===c&&c!==null&&(Ze=c=c.return);continue}break}while(!0)}function Gw(){var o=_c.current;return _c.current=zc,o===null?zc:o}function Bm(){(lt===0||lt===3||lt===2)&&(lt=4),ft===null||!(Ci&268435455)&&!(Hc&268435455)||Os(ft,bt)}function Qc(o,a){var c=ye;ye|=2;var h=Gw();(ft!==o||bt!==a)&&(Kr=null,Ii(o,a));do try{zI();break}catch(g){Kw(o,g)}while(!0);if(Yp(),ye=c,_c.current=h,Ze!==null)throw Error(n(261));return ft=null,bt=0,lt}function zI(){for(;Ze!==null;)Yw(Ze)}function RI(){for(;Ze!==null&&!lO();)Yw(Ze)}function Yw(o){var a=tS(o.alternate,o,Sn);o.memoizedProps=o.pendingProps,a===null?Xw(o):Ze=a,Cm.current=null}function Xw(o){var a=o;do{var c=a.alternate;if(o=a.return,a.flags&32768){if(c=OI(c,a),c!==null){c.flags&=32767,Ze=c;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{lt=6,Ze=null;return}}else if(c=CI(c,a,Sn),c!==null){Ze=c;return}if(a=a.sibling,a!==null){Ze=a;return}Ze=a=o}while(a!==null);lt===0&&(lt=5)}function Ai(o,a,c){var h=be,g=Fn.transition;try{Fn.transition=null,be=1,BI(o,a,c,h)}finally{Fn.transition=g,be=h}return null}function BI(o,a,c,h){do Fo();while(Ns!==null);if(ye&6)throw Error(n(327));c=o.finishedWork;var g=o.finishedLanes;if(c===null)return null;if(o.finishedWork=null,o.finishedLanes=0,c===o.current)throw Error(n(177));o.callbackNode=null,o.callbackPriority=0;var v=c.lanes|c.childLanes;if(yO(o,v),o===ft&&(Ze=ft=null,bt=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||jc||(jc=!0,nS(Yu,function(){return Fo(),null})),v=(c.flags&15990)!==0,c.subtreeFlags&15990||v){v=Fn.transition,Fn.transition=null;var S=be;be=1;var M=ye;ye|=4,Cm.current=null,AI(o,c),Vw(c,o),rI(\$p),sc=!!Bp,\$p=Bp=null,o.current=c,PI(c),aO(),ye=M,be=S,Fn.transition=v}else o.current=c;if(jc&&(jc=!1,Ns=o,Wc=g),v=o.pendingLanes,v===0&&(Ts=null),dO(c.stateNode),sn(o,Ge()),a!==null)for(h=o.onRecoverableError,c=0;c<a.length;c++)g=a[c],h(g.value,{componentStack:g.stack,digest:g.digest});if(Vc)throw Vc=!1,o=Am,Am=null,o;return Wc&1&&o.tag!==0&&Fo(),v=o.pendingLanes,v&1?o===Pm?Ea++:(Ea=0,Pm=o):Ea=0,bs(),null}function Fo(){if(Ns!==null){var o=\$1(Wc),a=Fn.transition,c=be;try{if(Fn.transition=null,be=16>o?16:o,Ns===null)var h=!1;else{if(o=Ns,Ns=null,Wc=0,ye&6)throw Error(n(331));var g=ye;for(ye|=4,Y=o.current;Y!==null;){var v=Y,S=v.child;if(Y.flags&16){var M=v.deletions;if(M!==null){for(var C=0;C<M.length;C++){var P=M[C];for(Y=P;Y!==null;){var _=Y;switch(_.tag){case 0:case 11:case 15:Sa(8,_,v)}var H=_.child;if(H!==null)H.return=_,Y=H;else for(;Y!==null;){_=Y;var \$=_.sibling,q=_.return;if(Bw(_),_===P){Y=null;break}if(\$!==null){\$.return=q,Y=\$;break}Y=q}}}var Z=v.alternate;if(Z!==null){var ee=Z.child;if(ee!==null){Z.child=null;do{var Ye=ee.sibling;ee.sibling=null,ee=Ye}while(ee!==null)}}Y=v}}if(v.subtreeFlags&2064&&S!==null)S.return=v,Y=S;else e:for(;Y!==null;){if(v=Y,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Sa(9,v,v.return)}var I=v.sibling;if(I!==null){I.return=v.return,Y=I;break e}Y=v.return}}var O=o.current;for(Y=O;Y!==null;){S=Y;var A=S.child;if(S.subtreeFlags&2064&&A!==null)A.return=S,Y=A;else e:for(S=O;Y!==null;){if(M=Y,M.flags&2048)try{switch(M.tag){case 0:case 11:case 15:Fc(9,M)}}catch(ne){Je(M,M.return,ne)}if(M===S){Y=null;break e}var U=M.sibling;if(U!==null){U.return=M.return,Y=U;break e}Y=M.return}}if(ye=g,bs(),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(Xu,o)}catch{}h=!0}return h}finally{be=c,Fn.transition=a}}return!1}function Zw(o,a,c){a=zo(c,a),a=gw(o,a,1),o=Es(o,a,1),a=Wt(),o!==null&&(ql(o,1,a),sn(o,a))}function Je(o,a,c){if(o.tag===3)Zw(o,o,c);else for(;a!==null;){if(a.tag===3){Zw(a,o,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ts===null||!Ts.has(h))){o=zo(c,o),o=yw(a,o,1),a=Es(a,o,1),o=Wt(),a!==null&&(ql(a,1,o),sn(a,o));break}}a=a.return}}function \$I(o,a,c){var h=o.pingCache;h!==null&&h.delete(a),a=Wt(),o.pingedLanes|=o.suspendedLanes&c,ft===o&&(bt&c)===c&&(lt===4||lt===3&&(bt&130023424)===bt&&500>Ge()-Im?Ii(o,0):Om|=c),sn(o,a)}function eS(o,a){a===0&&(o.mode&1?(a=ec,ec<<=1,!(ec&130023424)&&(ec=4194304)):a=1);var c=Wt();o=Jr(o,a),o!==null&&(ql(o,a,c),sn(o,c))}function FI(o){var a=o.memoizedState,c=0;a!==null&&(c=a.retryLane),eS(o,c)}function _I(o,a){var c=0;switch(o.tag){case 13:var h=o.stateNode,g=o.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=o.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(a),eS(o,c)}var tS;tS=function(o,a,c){if(o!==null)if(o.memoizedProps!==a.pendingProps||en.current)nn=!0;else{if(!(o.lanes&c)&&!(a.flags&128))return nn=!1,NI(o,a,c);nn=!!(o.flags&131072)}else nn=!1,Be&&a.flags&1048576&&Pk(a,bc,a.index);switch(a.lanes=0,a.tag){case 2:var h=a.type;Bc(o,a),o=a.pendingProps;var g=No(a,It.current);Po(a,c),g=cm(null,a,h,o,g,c);var v=dm();return a.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.\$\$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,tn(h)?(v=!0,kc(a)):v=!1,a.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,tm(a),g.updater=Cc,a.stateNode=g,g._reactInternals=a,rm(a,h,o,c),a=km(null,a,h,!0,v,c)):(a.tag=0,Be&&v&&Up(a),jt(null,a,g,c),a=a.child),a;case 16:h=a.elementType;e:{switch(Bc(o,a),o=a.pendingProps,g=h._init,h=g(h._payload),a.type=h,g=a.tag=VI(h),o=rr(h,o),g){case 0:a=vm(null,a,h,o,c);break e;case 1:a=Tw(null,a,h,o,c);break e;case 11:a=Sw(null,a,h,o,c);break e;case 14:a=bw(null,a,h,rr(h.type,o),c);break e}throw Error(n(306,h,""))}return a;case 0:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:rr(h,g),vm(o,a,h,g,c);case 1:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:rr(h,g),Tw(o,a,h,g,c);case 3:e:{if(Nw(a),o===null)throw Error(n(387));h=a.pendingProps,v=a.memoizedState,g=v.element,\$k(o,a),Nc(a,h,null,c);var S=a.memoizedState;if(h=S.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},a.updateQueue.baseState=v,a.memoizedState=v,a.flags&256){g=zo(Error(n(423)),a),a=Cw(o,a,h,c,g);break e}else if(h!==g){g=zo(Error(n(424)),a),a=Cw(o,a,h,c,g);break e}else for(wn=ks(a.stateNode.containerInfo.firstChild),kn=a,Be=!0,nr=null,c=Qk(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Io(),h===g){a=qr(o,a,c);break e}jt(o,a,h,c)}a=a.child}return a;case 5:return qk(a),o===null&&qp(a),h=a.type,g=a.pendingProps,v=o!==null?o.memoizedProps:null,S=g.children,Fp(h,g)?S=null:v!==null&&Fp(h,v)&&(a.flags|=32),Mw(o,a),jt(o,a,S,c),a.child;case 6:return o===null&&qp(a),null;case 13:return Ow(o,a,c);case 4:return sm(a,a.stateNode.containerInfo),h=a.pendingProps,o===null?a.child=Do(a,null,h,c):jt(o,a,h,c),a.child;case 11:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:rr(h,g),Sw(o,a,h,g,c);case 7:return jt(o,a,a.pendingProps,c),a.child;case 8:return jt(o,a,a.pendingProps.children,c),a.child;case 12:return jt(o,a,a.pendingProps.children,c),a.child;case 10:e:{if(h=a.type._context,g=a.pendingProps,v=a.memoizedProps,S=g.value,Oe(Ec,h._currentValue),h._currentValue=S,v!==null)if(tr(v.value,S)){if(v.children===g.children&&!en.current){a=qr(o,a,c);break e}}else for(v=a.child,v!==null&&(v.return=a);v!==null;){var M=v.dependencies;if(M!==null){S=v.child;for(var C=M.firstContext;C!==null;){if(C.context===h){if(v.tag===1){C=Qr(-1,c&-c),C.tag=2;var P=v.updateQueue;if(P!==null){P=P.shared;var _=P.pending;_===null?C.next=C:(C.next=_.next,_.next=C),P.pending=C}}v.lanes|=c,C=v.alternate,C!==null&&(C.lanes|=c),Zp(v.return,c,a),M.lanes|=c;break}C=C.next}}else if(v.tag===10)S=v.type===a.type?null:v.child;else if(v.tag===18){if(S=v.return,S===null)throw Error(n(341));S.lanes|=c,M=S.alternate,M!==null&&(M.lanes|=c),Zp(S,c,a),S=v.sibling}else S=v.child;if(S!==null)S.return=v;else for(S=v;S!==null;){if(S===a){S=null;break}if(v=S.sibling,v!==null){v.return=S.return,S=v;break}S=S.return}v=S}jt(o,a,g.children,c),a=a.child}return a;case 9:return g=a.type,h=a.pendingProps.children,Po(a,c),g=Bn(g),h=h(g),a.flags|=1,jt(o,a,h,c),a.child;case 14:return h=a.type,g=rr(h,a.pendingProps),g=rr(h.type,g),bw(o,a,h,g,c);case 15:return xw(o,a,a.type,a.pendingProps,c);case 17:return h=a.type,g=a.pendingProps,g=a.elementType===h?g:rr(h,g),Bc(o,a),a.tag=1,tn(h)?(o=!0,kc(a)):o=!1,Po(a,c),jk(a,h,g),rm(a,h,g,c),km(null,a,h,!0,o,c);case 19:return Aw(o,a,c);case 22:return Ew(o,a,c)}throw Error(n(156,a.tag))};function nS(o,a){return D1(o,a)}function HI(o,a,c,h){this.tag=o,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(o,a,c,h){return new HI(o,a,c,h)}function \$m(o){return o=o.prototype,!(!o||!o.isReactComponent)}function VI(o){if(typeof o=="function")return \$m(o)?1:0;if(o!=null){if(o=o.\$\$typeof,o===ct)return 11;if(o===Xn)return 14}return 2}function Is(o,a){var c=o.alternate;return c===null?(c=_n(o.tag,a,o.key,o.mode),c.elementType=o.elementType,c.type=o.type,c.stateNode=o.stateNode,c.alternate=o,o.alternate=c):(c.pendingProps=a,c.type=o.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=o.flags&14680064,c.childLanes=o.childLanes,c.lanes=o.lanes,c.child=o.child,c.memoizedProps=o.memoizedProps,c.memoizedState=o.memoizedState,c.updateQueue=o.updateQueue,a=o.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=o.sibling,c.index=o.index,c.ref=o.ref,c}function qc(o,a,c,h,g,v){var S=2;if(h=o,typeof o=="function")\$m(o)&&(S=1);else if(typeof o=="string")S=5;else e:switch(o){case B:return Pi(c.children,g,v,a);case J:S=8,g|=8;break;case K:return o=_n(12,c,a,g|2),o.elementType=K,o.lanes=v,o;case rt:return o=_n(13,c,a,g),o.elementType=rt,o.lanes=v,o;case Ln:return o=_n(19,c,a,g),o.elementType=Ln,o.lanes=v,o;case wt:return Kc(c,g,v,a);default:if(typeof o=="object"&&o!==null)switch(o.\$\$typeof){case se:S=10;break e;case Ce:S=9;break e;case ct:S=11;break e;case Xn:S=14;break e;case Ke:S=16,h=null;break e}throw Error(n(130,o==null?o:typeof o,""))}return a=_n(S,c,a,g),a.elementType=o,a.type=h,a.lanes=v,a}function Pi(o,a,c,h){return o=_n(7,o,h,a),o.lanes=c,o}function Kc(o,a,c,h){return o=_n(22,o,h,a),o.elementType=wt,o.lanes=c,o.stateNode={isHidden:!1},o}function Fm(o,a,c){return o=_n(6,o,null,a),o.lanes=c,o}function _m(o,a,c){return a=_n(4,o.children!==null?o.children:[],o.key,a),a.lanes=c,a.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},a}function jI(o,a,c,h,g){this.tag=a,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pp(0),this.expirationTimes=pp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pp(0),this.identifierPrefix=h,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Hm(o,a,c,h,g,v,S,M,C){return o=new jI(o,a,c,M,C),a===1?(a=1,v===!0&&(a|=8)):a=0,v=_n(3,null,null,a),o.current=v,v.stateNode=o,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},tm(v),o}function WI(o,a,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{\$\$typeof:L,key:h==null?null:""+h,children:o,containerInfo:a,implementation:c}}function rS(o){if(!o)return Ss;o=o._reactInternals;e:{if(wi(o)!==o||o.tag!==1)throw Error(n(170));var a=o;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(tn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(n(171))}if(o.tag===1){var c=o.type;if(tn(c))return Ok(o,c,a)}return a}function sS(o,a,c,h,g,v,S,M,C){return o=Hm(c,h,!0,o,g,v,S,M,C),o.context=rS(null),c=o.current,h=Wt(),g=Cs(c),v=Qr(h,g),v.callback=a??null,Es(c,v,g),o.current.lanes=g,ql(o,g,h),sn(o,h),o}function Gc(o,a,c,h){var g=a.current,v=Wt(),S=Cs(g);return c=rS(c),a.context===null?a.context=c:a.pendingContext=c,a=Qr(v,S),a.payload={element:o},h=h===void 0?null:h,h!==null&&(a.callback=h),o=Es(g,a,S),o!==null&&(or(o,g,S,v),Tc(o,g,S)),S}function Yc(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function iS(o,a){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var c=o.retryLane;o.retryLane=c!==0&&c<a?c:a}}function Vm(o,a){iS(o,a),(o=o.alternate)&&iS(o,a)}function UI(){return null}var oS=typeof reportError=="function"?reportError:function(o){console.error(o)};function jm(o){this._internalRoot=o}Xc.prototype.render=jm.prototype.render=function(o){var a=this._internalRoot;if(a===null)throw Error(n(409));Gc(o,a,null,null)},Xc.prototype.unmount=jm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var a=o.containerInfo;Oi(function(){Gc(null,o,null,null)}),a[Vr]=null}};function Xc(o){this._internalRoot=o}Xc.prototype.unstable_scheduleHydration=function(o){if(o){var a=H1();o={blockedOn:null,target:o,priority:a};for(var c=0;c<gs.length&&a!==0&&a<gs[c].priority;c++);gs.splice(c,0,o),c===0&&W1(o)}};function Wm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Zc(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function lS(){}function JI(o,a,c,h,g){if(g){if(typeof h=="function"){var v=h;h=function(){var P=Yc(S);v.call(P)}}var S=sS(a,h,o,0,null,!1,!1,"",lS);return o._reactRootContainer=S,o[Vr]=S.current,aa(o.nodeType===8?o.parentNode:o),Oi(),S}for(;g=o.lastChild;)o.removeChild(g);if(typeof h=="function"){var M=h;h=function(){var P=Yc(C);M.call(P)}}var C=Hm(o,0,!1,null,null,!1,!1,"",lS);return o._reactRootContainer=C,o[Vr]=C.current,aa(o.nodeType===8?o.parentNode:o),Oi(function(){Gc(a,C,c,h)}),C}function ed(o,a,c,h,g){var v=c._reactRootContainer;if(v){var S=v;if(typeof g=="function"){var M=g;g=function(){var C=Yc(S);M.call(C)}}Gc(a,S,o,g)}else S=JI(c,a,o,g,h);return Yc(S)}F1=function(o){switch(o.tag){case 3:var a=o.stateNode;if(a.current.memoizedState.isDehydrated){var c=Ql(a.pendingLanes);c!==0&&(mp(a,c|1),sn(a,Ge()),!(ye&6)&&(\$o=Ge()+500,bs()))}break;case 13:Oi(function(){var h=Jr(o,1);if(h!==null){var g=Wt();or(h,o,1,g)}}),Vm(o,1)}},gp=function(o){if(o.tag===13){var a=Jr(o,134217728);if(a!==null){var c=Wt();or(a,o,134217728,c)}Vm(o,134217728)}},_1=function(o){if(o.tag===13){var a=Cs(o),c=Jr(o,a);if(c!==null){var h=Wt();or(c,o,a,h)}Vm(o,a)}},H1=function(){return be},V1=function(o,a){var c=be;try{return be=o,a()}finally{be=c}},ap=function(o,a,c){switch(a){case"input":if(ep(o,c),a=c.name,c.type==="radio"&&a!=null){for(c=o;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==o&&h.form===o.form){var g=yc(h);if(!g)throw Error(n(90));f1(h),ep(h,g)}}}break;case"textarea":y1(o,c);break;case"select":a=c.value,a!=null&&mo(o,!!c.multiple,a,!1)}},T1=zm,N1=Oi;var QI={usingClientEntryPoint:!1,Events:[da,Mo,yc,E1,M1,zm]},Ma={findFiberByHostInstance:Si,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},qI={bundleType:Ma.bundleType,version:Ma.version,rendererPackageName:Ma.rendererPackageName,rendererConfig:Ma.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=A1(o),o===null?null:o.stateNode},findFiberByHostInstance:Ma.findFiberByHostInstance||UI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{Xu=td.inject(qI),wr=td}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QI,on.createPortal=function(o,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Wm(a))throw Error(n(200));return WI(o,a,null,c)},on.createRoot=function(o,a){if(!Wm(o))throw Error(n(299));var c=!1,h="",g=oS;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onRecoverableError!==void 0&&(g=a.onRecoverableError)),a=Hm(o,1,!1,null,null,c,!1,h,g),o[Vr]=a.current,aa(o.nodeType===8?o.parentNode:o),new jm(a)},on.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var a=o._reactInternals;if(a===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=A1(a),o=o===null?null:o.stateNode,o},on.flushSync=function(o){return Oi(o)},on.hydrate=function(o,a,c){if(!Zc(a))throw Error(n(200));return ed(null,o,a,!0,c)},on.hydrateRoot=function(o,a,c){if(!Wm(o))throw Error(n(405));var h=c!=null&&c.hydratedSources||null,g=!1,v="",S=oS;if(c!=null&&(c.unstable_strictMode===!0&&(g=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(S=c.onRecoverableError)),a=sS(a,null,o,1,c??null,g,!1,v,S),o[Vr]=a.current,aa(o),h)for(o=0;o<h.length;o++)c=h[o],g=c._getVersion,g=g(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,g]:a.mutableSourceEagerHydrationData.push(c,g);return new Xc(a)},on.render=function(o,a,c){if(!Zc(a))throw Error(n(200));return ed(null,o,a,!1,c)},on.unmountComponentAtNode=function(o){if(!Zc(o))throw Error(n(40));return o._reactRootContainer?(Oi(function(){ed(null,null,o,!1,function(){o._reactRootContainer=null,o[Vr]=null})}),!0):!1},on.unstable_batchedUpdates=zm,on.unstable_renderSubtreeIntoContainer=function(o,a,c,h){if(!Zc(c))throw Error(n(200));if(o==null||o._reactInternals===void 0)throw Error(n(38));return ed(o,a,c,!1,h)},on.version="18.2.0-next-9e3b772b8-20220608",on}function ZN(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ZN)}catch(t){console.error(t)}}ZN(),XN.exports=bB();var eC=XN.exports;const xB=MT(eC),EB=({renderers:t})=>ke.createElement(ke.Fragment,null,Object.entries(t).map(([e,n])=>xB.createPortal(n.reactElement,n.element,e)));class MB extends ke.Component{constructor(e){super(e),this.editorContentRef=ke.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?eC.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,...n}=this.props;return ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:this.editorContentRef,...n}),ke.createElement(EB,{renderers:this.state.renderers}))}}const TB=t=>{const e=ke.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ke.createElement(MB,{key:e,...t})};ke.memo(TB);class NB extends yB{constructor(){super(...arguments),this.contentComponent=null}}function CB(){const[,t]=Ee.useState(0);return()=>t(e=>e+1)}const OB=(t={},e=[])=>{const[n,r]=Ee.useState(null),s=CB(),{onBeforeCreate:i,onBlur:l,onCreate:u,onDestroy:d,onFocus:f,onSelectionUpdate:p,onTransaction:m,onUpdate:y}=t,k=Ee.useRef(i),w=Ee.useRef(l),b=Ee.useRef(u),T=Ee.useRef(d),x=Ee.useRef(f),E=Ee.useRef(p),N=Ee.useRef(m),D=Ee.useRef(y);return Ee.useEffect(()=>{n&&(i&&(n.off("beforeCreate",k.current),n.on("beforeCreate",i),k.current=i),l&&(n.off("blur",w.current),n.on("blur",l),w.current=l),u&&(n.off("create",b.current),n.on("create",u),b.current=u),d&&(n.off("destroy",T.current),n.on("destroy",d),T.current=d),f&&(n.off("focus",x.current),n.on("focus",f),x.current=f),p&&(n.off("selectionUpdate",E.current),n.on("selectionUpdate",p),E.current=p),m&&(n.off("transaction",N.current),n.on("transaction",m),N.current=m),y&&(n.off("update",D.current),n.on("update",y),D.current=y))},[i,l,u,d,f,p,m,y,n]),Ee.useEffect(()=>{let R=!0;const L=new NB(t);return r(L),L.on("transaction",()=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{R&&s()})})}),()=>{R=!1}},e),Ee.useEffect(()=>()=>{n==null||n.destroy()},[n]),n},IB=Ee.createContext({editor:null});IB.Consumer;const AB=Ee.createContext({onDragStart:void 0}),PB=()=>Ee.useContext(AB);ke.forwardRef((t,e)=>{const{onDragStart:n}=PB(),r=t.as||"div";return ke.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});var tC=(t=>(t.Action="action",t))(tC||{});class Ae{constructor({forceName:e,tiptapExtension:n,tiptapExtensionDeps:r,onBridgeMessage:s,onEditorMessage:i,extendEditorState:l,extendEditorInstance:u,extendCSS:d,config:f,extendConfig:p}){n?this.name=Array.isArray(n)?n.map(m=>m.name).join("+"):n.name:this.name=e||"BridgeExtension",this.tiptapExtension=n,this.tiptapExtensionDeps=r,this.onBridgeMessage=s,this.onEditorMessage=i,this.extendEditorState=l,this.extendEditorInstance=u,this.extendCSS=d,this.config=f,this.extendConfig=p}clone(){return new Ae({...this,forceName:this.name})}configureExtension(e){const n=this.clone();return n.config=e,n}configureCSS(e){const n=this.clone();return n.extendCSS=e,n}extendExtension(e){const n=this.clone();return n.extendConfig=e,n}configureTiptapExtensionsOnRunTime(e,n){var r,s;return this.tiptapExtension&&(e&&(this.tiptapExtension=(r=this.tiptapExtension)==null?void 0:r.configure(e)),n&&(this.tiptapExtension=(s=this.tiptapExtension)==null?void 0:s.extend(n))),[this.tiptapExtension,...this.tiptapExtensionDeps||[]]}}class DB{constructor(){MP(this,"subscriptions",{}),this.subscriptions={}}onMessage(e,n){this.subscriptions[e]&&this.subscriptions[e].forEach(r=>{r(n)})}addListener(e,n){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n)}sendAsyncMessage(e,n){const r=Math.random().toString(36).substring(7);return e.payload=e.payload||{},e.payload.messageId=r,new Promise(s=>{this.addListener(r,s),n(e)})}}const xd=new DB,LB=()=>{let t=!1;try{require("expo-constants")&&(t=!0)}catch{t=!1}return t};class zB{constructor(){this.focus=!1,window.document.addEventListener("focus",()=>{this.focus=!0},!0),window.document.addEventListener("blur",()=>{this.focus=!1},!0)}get isFocused(){return this.focus}}const RB={isFocused:!1},BB=LB()?RB:new zB,\$B=Ot.create({name:"doc",topNode:!0,content:"block+"}),FB=Ot.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),_B=Ot.create({name:"text",group:"inline"});var Jd=(t=>(t.SetSelection="set-selection",t.GetHTML="get-html",t.GetJSON="get-json",t.GetText="get-text",t.SendHTMLToNative="send-html-back",t.SendTextToNative="send-text-back",t.SendJSONToNative="send-json-back",t.SetContent="set-content",t.StateUpdate="stateUpdate",t.Focus="focus",t.Blur="blur",t.EditorReady="editor-ready",t.UpdateScrollThresholdAndMargin="update-scroll-threshold-and-margin",t.ContentUpdate="content-update",t))(Jd||{});const HB=new Ae({forceName:"coreBridge",tiptapExtension:\$B,tiptapExtensionDeps:[FB,_B],onBridgeMessage:(t,e,n)=>e.type==="set-content"?(t.commands.setContent(e.payload.content),!0):(e.type==="get-html"&&n({type:"send-html-back",payload:{content:t.getHTML(),messageId:e.payload.messageId}}),e.type==="get-json"&&n({type:"send-json-back",payload:{content:t.getJSON(),messageId:e.payload.messageId}}),e.type==="get-text"&&n({type:"send-text-back",payload:{content:t.getText(),messageId:e.payload.messageId}}),e.type==="set-selection"?(t.commands.setTextSelection({from:e.payload.from,to:e.payload.to}),!0):e.type==="focus"?(t.commands.focus(e.payload),!0):e.type==="blur"?(t.commands.blur(),!0):e.type==="update-scroll-threshold-and-margin"?(t.setOptions({editorProps:{scrollThreshold:{top:0,bottom:e.payload,right:0,left:0},scrollMargin:{top:0,bottom:e.payload,right:0,left:0}}}),!0):!1),onEditorMessage:({type:t,payload:e},n)=>t==="send-html-back"||t==="send-text-back"||t==="send-json-back"?(xd.onMessage(e.messageId,e.content),!0):(t==="editor-ready"&&n.autofocus&&n.focus("end"),t==="stateUpdate"&&n._updateEditorState(e),t==="content-update"&&n._onContentUpdate(),!1),extendEditorInstance:(t,e,n,r)=>({updateScrollThresholdAndMargin:s=>t({type:"update-scroll-threshold-and-margin",payload:s}),setSelection:(s,i)=>{t({type:"set-selection",payload:{from:s,to:i}})},setContent:s=>{t({type:"set-content",payload:{content:s}})},getHTML:async()=>await xd.sendAsyncMessage({type:"get-html"},t),getText:async()=>await xd.sendAsyncMessage({type:"get-text"},t),getJSON:async()=>await xd.sendAsyncMessage({type:"get-json"},t),focus:s=>{var i;(i=e==null?void 0:e.current)==null||i.requestFocus(),n&&n.current&&r&&r({...n.current,isFocused:!0}),t({type:"focus",payload:s})},blur:()=>{t({type:"blur",payload:void 0})},injectJS:s=>{var i;(i=e==null?void 0:e.current)==null||i.injectJavaScript(s)}}),extendEditorState:t=>({isFocused:BB.isFocused,isReady:!0,selection:{from:t.state.selection.from,to:t.state.selection.to}})}),VB=mn.create({name:"eventHandler",addProseMirrorPlugins(){return[new Zt({key:new Yn("blueBackground"),state:{init(){return qe.empty},apply(t,e,n,r){if(t.selection.empty)return qe.empty;{const s=[],{from:i,to:l}=t.selection;return s.push(On.inline(i,l,{style:"background-color: #e6e6ff;"})),qe.create(r.doc,s)}}},props:{decorations(t){return this.getState(t)}}})]}}),jB=window.initialContent||"",Ed=t=>{var e;(e=window.ReactNativeWebView)==null||e.postMessage(JSON.stringify(t))},WB=JSON.parse(window.bridgeExtensionConfigMap||"{}"),UB=t=>{const{tiptapOptions:e={},bridges:n=[]}=t||{};function r(d){return d!=null}const s=n.map(d=>{const f=WB[d.name];if(!f)return null;const{optionsConfig:p,extendConfig:m}=f;return d.configureTiptapExtensionsOnRunTime(p,m)}).filter(r).flat(),i={...e,extensions:[VB,...s,...e.extensions||[]]},l=MD(d=>{let f={};const p=n.reduce((m,y)=>y.extendEditorState?Object.assign(m,y.extendEditorState(d)):m,f);Ed({type:Jd.StateUpdate,payload:p})},10),u=OB({content:jB,onCreate:()=>Ed({type:Jd.EditorReady,payload:void 0}),onUpdate:d=>{l(d.editor),Ed({type:Jd.ContentUpdate,payload:void 0})},onSelectionUpdate:d=>l(d.editor),onTransaction:d=>l(d.editor),...i});return Ee.useEffect(()=>{if(!u)return;const d=p=>{n.forEach(m=>{m.onBridgeMessage&&m.onBridgeMessage(u,p,Ed)})},f=p=>{if(!(p instanceof MessageEvent))return;const m=JSON.parse(p.data);if(m.type===tC.Action){if(m.id){if(window.lastMessageID===m.id)return;window.lastMessageID=m.id}d(m.payload)}};return window.addEventListener("message",f),document.addEventListener("message",f),()=>{window.removeEventListener("message",f),document.removeEventListener("message",f)}},[u,n]),u},JB=/^\s*>\s\$/,QB=Ot.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Il({find:JB,type:this.type})]}}),qB=new Ae({tiptapExtension:QB,onBridgeMessage:(t,e)=>(e.type==="toggle-blockquote"&&t.chain().focus().toggleBlockquote().run(),!1),extendEditorInstance:t=>({toggleBlockquote:()=>t({type:"toggle-blockquote"})}),extendEditorState:t=>({canToggleBlockquote:t.can().toggleBlockquote(),isBlockquoteActive:t.isActive("blockquote")}),extendCSS:\`
    blockquote {
        border-left: 3px solid #0d0d0d1a;
        padding-left: 1rem;
    }
  \`}),KB=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))\$/,GB=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,YB=/(?:^|\s)((?:__)((?:[^__]+))(?:__))\$/,XB=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,ZB=gn.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})\$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[uo({find:KB,type:this.type}),uo({find:YB,type:this.type})]},addPasteRules(){return[di({find:GB,type:this.type}),di({find:XB,type:this.type})]}}),e\$=new Ae({tiptapExtension:ZB,onBridgeMessage:(t,e)=>(e.type==="toggle-bold"&&t.chain().focus().toggleBold().run(),!1),extendEditorInstance:t=>({toggleBold:()=>t({type:"toggle-bold"})}),extendEditorState:t=>({canToggleBold:t.can().toggleBold(),isBoldActive:t.isActive("bold")})}),Wv=Ot.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Re(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),t\$=Ot.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Re(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Px=gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Uu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),Dx=/^\s*([-+*])\s\$/,n\$=Ot.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return\`\${this.options.itemTypeName}+\`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(t\$.name,this.editor.getAttributes(Px.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Il({find:Dx,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Il({find:Dx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Px.name),editor:this.editor})),[t]}}),r\$=new Ae({tiptapExtension:n\$,tiptapExtensionDeps:[Wv],onBridgeMessage:(t,e)=>(e.type==="toggle-bulletList"&&t.chain().focus().toggleBulletList().run(),!1),extendEditorInstance:t=>({toggleBulletList:()=>t({type:"toggle-bulletList"})}),extendEditorState:t=>({canToggleBulletList:t.can().toggleBulletList(),isBulletListActive:t.isActive("bulletList")})}),s\$=/(?:^|\s)((?:\`)((?:[^\`]+))(?:\`))\$/,i\$=/(?:^|\s)((?:\`)((?:[^\`]+))(?:\`))/g,o\$=gn.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[uo({find:s\$,type:this.type})]},addPasteRules(){return[di({find:i\$,type:this.type})]}}),l\$=new Ae({tiptapExtension:o\$,onBridgeMessage:(t,e)=>(e.type==="toggle-code"&&t.chain().focus().toggleCode().run(),!1),extendEditorInstance:t=>({toggleCode:()=>t({type:"toggle-code"})}),extendEditorState:t=>({canToggleCode:t.can().toggleCode(),isCodeActive:t.isActive("code")}),extendCSS:\`
    code {
        background-color: #6161611a;
        border-radius: 0.25em;
        box-decoration-break: clone;
        color: #616161;
        font-size: 0.9rem;
        padding: 0.25em;
    }
  \`}),nC=gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Uu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),a\$=mn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:\`color: \${t.color}\`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),u\$=new Ae({tiptapExtension:a\$,tiptapExtensionDeps:[nC],onBridgeMessage:(t,{type:e,payload:n})=>{switch(e){case"set-color":t.chain().focus().setColor(n).run();break;case"unset-color":t.chain().focus().unsetColor().run();break}return!1},extendEditorInstance:t=>({setColor:e=>t({type:"set-color",payload:e}),unsetColor:()=>t({type:"unset-color",payload:void 0})}),extendEditorState:t=>({activeColor:t.getAttributes("textStyle").color})}),c\$=Ot.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:\`h\${t}\`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[\`h\${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}\`,Re(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[\`Mod-Alt-\${e}\`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>kB({find:new RegExp(\`^(#{1,\${t}})\\s\$\`),type:this.type,getAttributes:{level:t}}))}}),d\$=new Ae({tiptapExtension:c\$,onBridgeMessage:(t,e)=>(e.type==="toggle-heading"&&t.chain().focus().toggleHeading({level:e.payload}).run(),!1),extendEditorInstance:t=>({toggleHeading:e=>t({type:"toggle-heading",payload:e})}),extendEditorState:t=>{var e;return{canToggleHeading:t.can().toggleHeading({level:1}),headingLevel:(e=t.getAttributes("heading"))==null?void 0:e.level}}}),f\$=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))\$/,h\$=/(?:^|\s)((?:==)((?:[^~=]+))(?:==))/g,p\$=gn.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:\`background-color: \${t.color}; color: inherit\`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[uo({find:f\$,type:this.type})]},addPasteRules(){return[di({find:h\$,type:this.type})]}}),m\$=new Ae({tiptapExtension:p\$.configure({multicolor:!0}),tiptapExtensionDeps:[nC],onBridgeMessage:(t,{type:e,payload:n})=>{switch(e){case"set-highlight":t.chain().focus().setHighlight({color:n}).run();break;case"toggle-highlight":t.chain().focus().toggleHighlight({color:n}).run();break;case"unset-highlight":t.chain().focus().unsetHighlight().run();break}return!1},extendEditorInstance:t=>({setHighlight:e=>t({type:"set-highlight",payload:e}),toggleHighlight:e=>t({type:"toggle-highlight",payload:e}),unsetHighlight:()=>t({type:"unset-highlight",payload:void 0})}),extendEditorState:t=>({activeHighlight:t.getAttributes("highlight").color})});var \$f=200,yt=function(){};yt.prototype.append=function(t){return t.length?(t=yt.from(t),!this.length&&t||t.length<\$f&&this.leafAppend(t)||this.length<\$f&&t.leafPrepend(this)||this.appendInner(t)):this};yt.prototype.prepend=function(t){return t.length?yt.from(t).append(this):this};yt.prototype.appendInner=function(t){return new g\$(this,t)};yt.prototype.slice=function(t,e){return t===void 0&&(t=0),e===void 0&&(e=this.length),t>=e?yt.empty:this.sliceInner(Math.max(0,t),Math.min(this.length,e))};yt.prototype.get=function(t){if(!(t<0||t>=this.length))return this.getInner(t)};yt.prototype.forEach=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length),e<=n?this.forEachInner(t,e,n,0):this.forEachInvertedInner(t,e,n,0)};yt.prototype.map=function(t,e,n){e===void 0&&(e=0),n===void 0&&(n=this.length);var r=[];return this.forEach(function(s,i){return r.push(t(s,i))},e,n),r};yt.from=function(t){return t instanceof yt?t:t&&t.length?new rC(t):yt.empty};var rC=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(r,s){return r==0&&s==this.length?this:new e(this.values.slice(r,s))},e.prototype.getInner=function(r){return this.values[r]},e.prototype.forEachInner=function(r,s,i,l){for(var u=s;u<i;u++)if(r(this.values[u],l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,l){for(var u=s-1;u>=i;u--)if(r(this.values[u],l+u)===!1)return!1},e.prototype.leafAppend=function(r){if(this.length+r.length<=\$f)return new e(this.values.concat(r.flatten()))},e.prototype.leafPrepend=function(r){if(this.length+r.length<=\$f)return new e(r.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(yt);yt.empty=new rC([]);var g\$=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,r,s,i){var l=this.left.length;if(r<l&&this.left.forEachInner(n,r,Math.min(s,l),i)===!1||s>l&&this.right.forEachInner(n,Math.max(r-l,0),Math.min(this.length,s)-l,i+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,r,s,i){var l=this.left.length;if(r>l&&this.right.forEachInvertedInner(n,r-l,Math.max(s,l)-l,i+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(r,l),s,i)===!1)return!1},e.prototype.sliceInner=function(n,r){if(n==0&&r==this.length)return this;var s=this.left.length;return r<=s?this.left.slice(n,r):n>=s?this.right.slice(n-s,r-s):this.left.slice(n,s).append(this.right.slice(0,r-s))},e.prototype.leafAppend=function(n){var r=this.right.leafAppend(n);if(r)return new e(this.left,r)},e.prototype.leafPrepend=function(n){var r=this.left.leafPrepend(n);if(r)return new e(r,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e}(yt);const y\$=500;class fr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let l=e.tr,u,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Nr(m.map));let k=m.step.map(s.slice(i)),w;k&&l.maybeStep(k).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Nr(w,void 0,void 0,f.length+p.length))),i--,w&&s.appendMap(w,i)}else l.maybeStep(m.step);if(m.selection)return u=s?m.selection.map(s.slice(i)):m.selection,d=new fr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,r,s){let i=[],l=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Nr(e.mapping.maps[p],m,n),k;(k=d&&d.merge(y))&&(y=k,p?i.pop():u=u.slice(0,u.length-1)),i.push(y),n&&(l++,n=void 0),s||(d=y)}let f=l-r.depth;return f>k\$&&(u=v\$(u,f),l-=f),new fr(u.append(i),l)}remapping(e,n){let r=new pl;return this.items.forEach((s,i)=>{let l=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new fr(this.items.append(e.map(n=>new Nr(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},s);let d=n;this.items.forEach(y=>{let k=i.getMirror(--d);if(k==null)return;l=Math.min(l,k);let w=i.maps[k];if(y.step){let b=e.steps[k].invert(e.docs[k]),T=y.selection&&y.selection.map(i.slice(d+1,k));T&&u++,r.push(new Nr(w,b,T))}else r.push(new Nr(w))},s);let f=[];for(let y=n;y<l;y++)f.push(new Nr(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new fr(p,u);return m.emptyItemCount()>y\$&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)s.push(l),l.selection&&i++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&i++;let m=new Nr(f.invert(),d,p),y,k=s.length-1;(y=s.length&&s[k].merge(m))?s[k]=y:s.push(m)}}else l.map&&r--},this.items.length,0),new fr(yt.from(s.reverse()),i)}}fr.empty=new fr(yt.empty,0);function v\$(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Nr{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Nr(n.getMap().invert(),n,this.selection)}}}class \$s{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const k\$=20;function w\$(t,e,n,r){let s=n.getMeta(li),i;if(s)return s.historyState;n.getMeta(b\$)&&(t=new \$s(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(li))return l.getMeta(li).redo?new \$s(t.done.addTransform(n,void 0,r,Qd(e)),t.undone,Lx(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new \$s(t.done,t.undone.addTransform(n,void 0,r,Qd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!S\$(n,t.prevRanges)),f=l?Fg(t.prevRanges,n.mapping):Lx(n.mapping.maps[n.steps.length-1]);return new \$s(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Qd(e)),fr.empty,f,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new \$s(t.done.rebased(n,i),t.undone.rebased(n,i),Fg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new \$s(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Fg(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function S\$(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function Lx(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function Fg(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function sC(t,e,n,r){let s=Qd(e),i=li.get(e).spec.config,l=(r?t.undone:t.done).popEvent(e,s);if(!l)return;let u=l.selection.resolve(l.transform.doc),d=(r?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),i,s),f=new \$s(r?d:l.remaining,r?l.remaining:d,null,0,-1);n(l.transform.setSelection(u).setMeta(li,{redo:r,historyState:f}).scrollIntoView())}let _g=!1,zx=null;function Qd(t){let e=t.plugins;if(zx!=e){_g=!1,zx=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){_g=!0;break}}return _g}const li=new Yn("history"),b\$=new Yn("closeHistory");function x\$(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Zt({key:li,state:{init(){return new \$s(fr.empty,fr.empty,null,0,-1)},apply(e,n,r){return w\$(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?iC:r=="historyRedo"?oC:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}const iC=(t,e)=>{let n=li.getState(t);return!n||n.done.eventCount==0?!1:(e&&sC(n,t,e,!1),!0)},oC=(t,e)=>{let n=li.getState(t);return!n||n.undone.eventCount==0?!1:(e&&sC(n,t,e,!0),!0)},E\$=mn.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>iC(t,e),redo:()=>({state:t,dispatch:e})=>oC(t,e)}},addProseMirrorPlugins(){return[x\$(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),M\$=new Ae({tiptapExtension:E\$,onBridgeMessage:(t,e)=>(e.type==="undo"&&t.chain().focus().undo().run(),e.type==="redo"&&t.chain().focus().redo().run(),!1),extendEditorInstance:t=>({redo:()=>t({type:"redo"}),undo:()=>t({type:"undo"})}),extendEditorState:t=>({canUndo:t.can().undo(),canRedo:t.can().redo()})}),T\$=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))\$/,N\$=Ot.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",Re(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[vB({find:T\$,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),C\$=new Ae({tiptapExtension:N\$.configure({allowBase64:!0}),onBridgeMessage:(t,e)=>(e.type==="set-image"&&t.chain().focus().setImage({src:e.payload}).setTextSelection(t.state.selection.to+1).run(),!1),extendEditorInstance:t=>({setImage:e=>t({type:"set-image",payload:e})}),extendEditorState:()=>({}),extendCSS:\`
  img {
    height: auto;
    max-width: 100%;
  }

  img &.ProseMirror-selectednode {
    outline: 3px solid #68cef8;
  }
  \`}),O\$=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))\$/,I\$=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,A\$=/(?:^|\s)((?:_)((?:[^_]+))(?:_))\$/,P\$=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,D\$=gn.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[uo({find:O\$,type:this.type}),uo({find:A\$,type:this.type})]},addPasteRules(){return[di({find:I\$,type:this.type}),di({find:P\$,type:this.type})]}}),L\$=new Ae({tiptapExtension:D\$,onBridgeMessage:(t,e)=>(e.type==="toggle-italic"&&t.chain().focus().toggleItalic().run(),!1),extendEditorInstance:t=>({toggleItalic:()=>t({type:"toggle-italic"})}),extendEditorState:t=>({canToggleItalic:t.can().toggleItalic(),isItalicActive:t.isActive("italic")})}),z\$="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",R\$="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",Al=(t,e)=>{for(const n in e)t[n]=e[n];return t},m0="numeric",g0="ascii",y0="alpha",qd="asciinumeric",Md="alphanumeric",v0="domain",lC="emoji",B\$="scheme",\$\$="slashscheme",Rx="whitespace";function F\$(t,e){return t in e||(e[t]=[]),e[t]}function Vi(t,e,n){e[m0]&&(e[qd]=!0,e[Md]=!0),e[g0]&&(e[qd]=!0,e[y0]=!0),e[qd]&&(e[Md]=!0),e[y0]&&(e[Md]=!0),e[Md]&&(e[v0]=!0),e[lC]&&(e[v0]=!0);for(const r in e){const s=F\$(r,n);s.indexOf(t)<0&&s.push(t)}}function _\$(t,e){const n={};for(const r in e)e[r].indexOf(t)>=0&&(n[r]=!0);return n}function an(t){t===void 0&&(t=null),this.j={},this.jr=[],this.jd=null,this.t=t}an.groups={};an.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let r=0;r<e.jr.length;r++){const s=e.jr[r][0],i=e.jr[r][1];if(i&&s.test(t))return i}return e.jd},has(t,e){return e===void 0&&(e=!1),e?t in this.j:!!this.go(t)},ta(t,e,n,r){for(let s=0;s<t.length;s++)this.tt(t[s],e,n,r)},tr(t,e,n,r){r=r||an.groups;let s;return e&&e.j?s=e:(s=new an(e),n&&r&&Vi(e,n,r)),this.jr.push([t,s]),s},ts(t,e,n,r){let s=this;const i=t.length;if(!i)return s;for(let l=0;l<i-1;l++)s=s.tt(t[l]);return s.tt(t[i-1],e,n,r)},tt(t,e,n,r){r=r||an.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let l,u=s.go(t);if(u?(l=new an,Al(l.j,u.j),l.jr.push.apply(l.jr,u.jr),l.jd=u.jd,l.t=u.t):l=new an,i){if(r)if(l.t&&typeof l.t=="string"){const d=Al(_\$(l.t,r),n);Vi(i,d,r)}else n&&Vi(i,n,r);l.t=i}return s.j[t]=l,l}};const fe=(t,e,n,r,s)=>t.ta(e,n,r,s),Hn=(t,e,n,r,s)=>t.tr(e,n,r,s),Bx=(t,e,n,r,s)=>t.ts(e,n,r,s),Q=(t,e,n,r,s)=>t.tt(e,n,r,s),Yr="WORD",k0="UWORD",Lu="LOCALHOST",w0="TLD",S0="UTLD",Kd="SCHEME",Jo="SLASH_SCHEME",Uv="NUM",aC="WS",Jv="NL",su="OPENBRACE",iu="CLOSEBRACE",Ff="OPENBRACKET",_f="CLOSEBRACKET",Hf="OPENPAREN",Vf="CLOSEPAREN",jf="OPENANGLEBRACKET",Wf="CLOSEANGLEBRACKET",Uf="FULLWIDTHLEFTPAREN",Jf="FULLWIDTHRIGHTPAREN",Qf="LEFTCORNERBRACKET",qf="RIGHTCORNERBRACKET",Kf="LEFTWHITECORNERBRACKET",Gf="RIGHTWHITECORNERBRACKET",Yf="FULLWIDTHLESSTHAN",Xf="FULLWIDTHGREATERTHAN",Zf="AMPERSAND",eh="APOSTROPHE",th="ASTERISK",Fs="AT",nh="BACKSLASH",rh="BACKTICK",sh="CARET",Ws="COLON",Qv="COMMA",ih="DOLLAR",Cr="DOT",oh="EQUALS",qv="EXCLAMATION",Or="HYPHEN",lh="PERCENT",ah="PIPE",uh="PLUS",ch="POUND",dh="QUERY",Kv="QUOTE",Gv="SEMI",Ir="SLASH",ou="TILDE",fh="UNDERSCORE",uC="EMOJI",hh="SYM";var cC=Object.freeze({__proto__:null,WORD:Yr,UWORD:k0,LOCALHOST:Lu,TLD:w0,UTLD:S0,SCHEME:Kd,SLASH_SCHEME:Jo,NUM:Uv,WS:aC,NL:Jv,OPENBRACE:su,CLOSEBRACE:iu,OPENBRACKET:Ff,CLOSEBRACKET:_f,OPENPAREN:Hf,CLOSEPAREN:Vf,OPENANGLEBRACKET:jf,CLOSEANGLEBRACKET:Wf,FULLWIDTHLEFTPAREN:Uf,FULLWIDTHRIGHTPAREN:Jf,LEFTCORNERBRACKET:Qf,RIGHTCORNERBRACKET:qf,LEFTWHITECORNERBRACKET:Kf,RIGHTWHITECORNERBRACKET:Gf,FULLWIDTHLESSTHAN:Yf,FULLWIDTHGREATERTHAN:Xf,AMPERSAND:Zf,APOSTROPHE:eh,ASTERISK:th,AT:Fs,BACKSLASH:nh,BACKTICK:rh,CARET:sh,COLON:Ws,COMMA:Qv,DOLLAR:ih,DOT:Cr,EQUALS:oh,EXCLAMATION:qv,HYPHEN:Or,PERCENT:lh,PIPE:ah,PLUS:uh,POUND:ch,QUERY:dh,QUOTE:Kv,SEMI:Gv,SLASH:Ir,TILDE:ou,UNDERSCORE:fh,EMOJI:uC,SYM:hh});const jo=/[a-z]/,Hg=new RegExp("\\p{L}","u"),Vg=new RegExp("\\p{Emoji}","u"),jg=/\d/,\$x=/\s/,Fx=\`
\`,H\$="",V\$="";let Td=null,Nd=null;function j\$(t){t===void 0&&(t=[]);const e={};an.groups=e;const n=new an;Td==null&&(Td=_x(z\$)),Nd==null&&(Nd=_x(R\$)),Q(n,"'",eh),Q(n,"{",su),Q(n,"}",iu),Q(n,"[",Ff),Q(n,"]",_f),Q(n,"(",Hf),Q(n,")",Vf),Q(n,"<",jf),Q(n,">",Wf),Q(n,"",Uf),Q(n,"",Jf),Q(n,"",Qf),Q(n,"",qf),Q(n,"",Kf),Q(n,"",Gf),Q(n,"",Yf),Q(n,"",Xf),Q(n,"&",Zf),Q(n,"*",th),Q(n,"@",Fs),Q(n,"\`",rh),Q(n,"^",sh),Q(n,":",Ws),Q(n,",",Qv),Q(n,"\$",ih),Q(n,".",Cr),Q(n,"=",oh),Q(n,"!",qv),Q(n,"-",Or),Q(n,"%",lh),Q(n,"|",ah),Q(n,"+",uh),Q(n,"#",ch),Q(n,"?",dh),Q(n,'"',Kv),Q(n,"/",Ir),Q(n,";",Gv),Q(n,"~",ou),Q(n,"_",fh),Q(n,"\\",nh);const r=Hn(n,jg,Uv,{[m0]:!0});Hn(r,jg,r);const s=Hn(n,jo,Yr,{[g0]:!0});Hn(s,jo,s);const i=Hn(n,Hg,k0,{[y0]:!0});Hn(i,jo),Hn(i,Hg,i);const l=Hn(n,\$x,aC,{[Rx]:!0});Q(n,Fx,Jv,{[Rx]:!0}),Q(l,Fx),Hn(l,\$x,l);const u=Hn(n,Vg,uC,{[lC]:!0});Hn(u,Vg,u),Q(u,H\$,u);const d=Q(u,V\$);Hn(d,Vg,u);const f=[[jo,s]],p=[[jo,null],[Hg,i]];for(let m=0;m<Td.length;m++)Ds(n,Td[m],w0,Yr,f);for(let m=0;m<Nd.length;m++)Ds(n,Nd[m],S0,k0,p);Vi(w0,{tld:!0,ascii:!0},e),Vi(S0,{utld:!0,alpha:!0},e),Ds(n,"file",Kd,Yr,f),Ds(n,"mailto",Kd,Yr,f),Ds(n,"http",Jo,Yr,f),Ds(n,"https",Jo,Yr,f),Ds(n,"ftp",Jo,Yr,f),Ds(n,"ftps",Jo,Yr,f),Vi(Kd,{scheme:!0,ascii:!0},e),Vi(Jo,{slashscheme:!0,ascii:!0},e),t=t.sort((m,y)=>m[0]>y[0]?1:-1);for(let m=0;m<t.length;m++){const y=t[m][0],k=t[m][1]?{[B\$]:!0}:{[\$\$]:!0};y.indexOf("-")>=0?k[v0]=!0:jo.test(y)?jg.test(y)?k[qd]=!0:k[g0]=!0:k[m0]=!0,Bx(n,y,y,k)}return Bx(n,"localhost",Lu,{ascii:!0}),n.jd=new an(hh),{start:n,tokens:Al({groups:e},cC)}}function W\$(t,e){const n=U\$(e.replace(/[A-Z]/g,u=>u.toLowerCase())),r=n.length,s=[];let i=0,l=0;for(;l<r;){let u=t,d=null,f=0,p=null,m=-1,y=-1;for(;l<r&&(d=u.go(n[l]));)u=d,u.accepts()?(m=0,y=0,p=u):m>=0&&(m+=n[l].length,y++),f+=n[l].length,i+=n[l].length,l++;i-=m,l-=y,f-=m,s.push({t:p.t,v:e.slice(i-f,i),s:i-f,e:i})}return s}function U\$(t){const e=[],n=t.length;let r=0;for(;r<n;){let s=t.charCodeAt(r),i,l=s<55296||s>56319||r+1===n||(i=t.charCodeAt(r+1))<56320||i>57343?t[r]:t.slice(r,r+2);e.push(l),r+=l.length}return e}function Ds(t,e,n,r,s){let i;const l=e.length;for(let u=0;u<l-1;u++){const d=e[u];t.j[d]?i=t.j[d]:(i=new an(r),i.jr=s.slice(),t.j[d]=i),t=i}return i=new an(n),i.jr=s.slice(),t.j[e[l-1]]=i,i}function _x(t){const e=[],n=[];let r=0,s="0123456789";for(;r<t.length;){let i=0;for(;s.indexOf(t[r+i])>=0;)i++;if(i>0){e.push(n.join(""));for(let l=parseInt(t.substring(r,r+i),10);l>0;l--)n.pop();r+=i}else n.push(t[r]),r++}return e}const zu={defaultProtocol:"http",events:null,format:Hx,formatHref:Hx,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function Yv(t,e){e===void 0&&(e=null);let n=Al({},zu);t&&(n=Al(n,t instanceof Yv?t.o:t));const r=n.ignoreTags,s=[];for(let i=0;i<r.length;i++)s.push(r[i].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=s}Yv.prototype={o:zu,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const r=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=n.t in s?s[n.t]:zu[t],typeof s=="function"&&r&&(s=s(e,n))):typeof s=="function"&&r&&(s=s(e,n.t,n)),s)},getObj(t,e,n){let r=this.o[t];return typeof r=="function"&&e!=null&&(r=r(e,n.t,n)),r},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Hx(t){return t}function dC(t,e){this.t="token",this.v=t,this.tk=e}dC.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),r=t.get("format",e,this);return n&&r.length>n?r.substring(0,n)+"":r},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t){return t===void 0&&(t=zu.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),r=t.get("formatHref",n,this),s=t.get("tagName",n,e),i=this.toFormattedString(t),l={},u=t.get("className",n,e),d=t.get("target",n,e),f=t.get("rel",n,e),p=t.getObj("attributes",n,e),m=t.getObj("events",n,e);return l.href=r,u&&(l.class=u),d&&(l.target=d),f&&(l.rel=f),p&&Al(l,p),{tagName:s,attributes:l,content:i,eventListeners:m}}};function qh(t,e){class n extends dC{constructor(s,i){super(s,i),this.t=t}}for(const r in e)n.prototype[r]=e[r];return n.t=t,n}const Vx=qh("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),jx=qh("text"),J\$=qh("nl"),Cd=qh("url",{isLink:!0,toHref(t){return t===void 0&&(t=zu.defaultProtocol),this.hasProtocol()?this.v:\`\${t}://\${this.v}\`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==Lu&&t[1].t===Ws}}),Vn=t=>new an(t);function Q\$(t){let{groups:e}=t;const n=e.domain.concat([Zf,th,Fs,nh,rh,sh,ih,oh,Or,Uv,lh,ah,uh,ch,Ir,hh,ou,fh]),r=[eh,Ws,Qv,Cr,qv,dh,Kv,Gv,jf,Wf,su,iu,_f,Ff,Hf,Vf,Uf,Jf,Qf,qf,Kf,Gf,Yf,Xf],s=[Zf,eh,th,nh,rh,sh,ih,oh,Or,su,iu,lh,ah,uh,ch,dh,Ir,hh,ou,fh],i=Vn(),l=Q(i,ou);fe(l,s,l),fe(l,e.domain,l);const u=Vn(),d=Vn(),f=Vn();fe(i,e.domain,u),fe(i,e.scheme,d),fe(i,e.slashscheme,f),fe(u,s,l),fe(u,e.domain,u);const p=Q(u,Fs);Q(l,Fs,p),Q(d,Fs,p),Q(f,Fs,p);const m=Q(l,Cr);fe(m,s,l),fe(m,e.domain,l);const y=Vn();fe(p,e.domain,y),fe(y,e.domain,y);const k=Q(y,Cr);fe(k,e.domain,y);const w=Vn(Vx);fe(k,e.tld,w),fe(k,e.utld,w),Q(p,Lu,w);const b=Q(y,Or);fe(b,e.domain,y),fe(w,e.domain,y),Q(w,Cr,k),Q(w,Or,b);const T=Q(w,Ws);fe(T,e.numeric,Vx);const x=Q(u,Or),E=Q(u,Cr);fe(x,e.domain,u),fe(E,s,l),fe(E,e.domain,u);const N=Vn(Cd);fe(E,e.tld,N),fe(E,e.utld,N),fe(N,e.domain,u),fe(N,s,l),Q(N,Cr,E),Q(N,Or,x),Q(N,Fs,p);const D=Q(N,Ws),R=Vn(Cd);fe(D,e.numeric,R);const L=Vn(Cd),B=Vn();fe(L,n,L),fe(L,r,B),fe(B,n,L),fe(B,r,B),Q(N,Ir,L),Q(R,Ir,L);const J=Q(d,Ws),K=Q(f,Ws),se=Q(K,Ir),Ce=Q(se,Ir);fe(d,e.domain,u),Q(d,Cr,E),Q(d,Or,x),fe(f,e.domain,u),Q(f,Cr,E),Q(f,Or,x),fe(J,e.domain,L),Q(J,Ir,L),fe(Ce,e.domain,L),fe(Ce,n,L),Q(Ce,Ir,L);const ct=[[su,iu],[Ff,_f],[Hf,Vf],[jf,Wf],[Uf,Jf],[Qf,qf],[Kf,Gf],[Yf,Xf]];for(let rt=0;rt<ct.length;rt++){const[Ln,Xn]=ct[rt],Ke=Q(L,Ln);Q(B,Ln,Ke),Q(Ke,Xn,L);const wt=Vn(Cd);fe(Ke,n,wt);const z=Vn();fe(Ke,r),fe(wt,n,wt),fe(wt,r,z),fe(z,n,wt),fe(z,r,z),Q(wt,Xn,L),Q(z,Xn,L)}return Q(i,Lu,N),Q(i,Jv,J\$),{start:i,tokens:cC}}function q\$(t,e,n){let r=n.length,s=0,i=[],l=[];for(;s<r;){let u=t,d=null,f=null,p=0,m=null,y=-1;for(;s<r&&!(d=u.go(n[s].t));)l.push(n[s++]);for(;s<r&&(f=d||u.go(n[s].t));)d=null,u=f,u.accepts()?(y=0,m=u):y>=0&&y++,s++,p++;if(y<0)s-=p,s<r&&(l.push(n[s]),s++);else{l.length>0&&(i.push(Wg(jx,e,l)),l=[]),s-=y,p-=y;const k=m.t,w=n.slice(s-p,s);i.push(Wg(k,e,w))}}return l.length>0&&i.push(Wg(jx,e,l)),i}function Wg(t,e,n){const r=n[0].s,s=n[n.length-1].e,i=e.slice(r,s);return new t(i,n)}const K\$=typeof console<"u"&&console&&console.warn||(()=>{}),G\$="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",He={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Y\$(){an.groups={},He.scanner=null,He.parser=null,He.tokenQueue=[],He.pluginQueue=[],He.customSchemes=[],He.initialized=!1}function Wx(t,e){if(e===void 0&&(e=!1),He.initialized&&K\$(\`linkifyjs: already initialized - will not register custom scheme "\${t}" \${G\$}\`),!/^[0-9a-z]+(-[0-9a-z]+)*\$/.test(t))throw new Error(\`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat\`);He.customSchemes.push([t,e])}function X\$(){He.scanner=j\$(He.customSchemes);for(let t=0;t<He.tokenQueue.length;t++)He.tokenQueue[t][1]({scanner:He.scanner});He.parser=Q\$(He.scanner.tokens);for(let t=0;t<He.pluginQueue.length;t++)He.pluginQueue[t][1]({scanner:He.scanner,parser:He.parser});He.initialized=!0}function Z\$(t){return He.initialized||X\$(),q\$(He.parser.start,t,W\$(He.scanner.start,t))}function Xv(t,e,n){if(e===void 0&&(e=null),n===void 0&&(n=null),e&&typeof e=="object"){if(n)throw Error(\`linkifyjs: Invalid link type \${e}; must be a string\`);n=e,e=null}const r=new Yv(n),s=Z\$(t),i=[];for(let l=0;l<s.length;l++){const u=s[l];u.isLink&&(!e||u.t===e)&&r.check(u)&&i.push(u.toFormattedObject(r))}return i}function e5(t){return new Zt({key:new Yn("autolink"),appendTransaction:(e,n,r)=>{const s=e.some(d=>d.docChanged)&&!n.doc.eq(r.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:l}=r,u=AR(n.doc,[...e]);if(_R(u).forEach(({newRange:d})=>{const f=DR(r.doc,d,y=>y.isTextblock);let p,m;if(f.length>1?(p=f[0],m=r.doc.textBetween(p.pos,p.pos+p.node.nodeSize,void 0," ")):f.length&&r.doc.textBetween(d.from,d.to," "," ").endsWith(" ")&&(p=f[0],m=r.doc.textBetween(p.pos,d.to,void 0," ")),p&&m){const y=m.split(" ").filter(b=>b!=="");if(y.length<=0)return!1;const k=y[y.length-1],w=p.pos+m.lastIndexOf(k);if(!k)return!1;Xv(k).filter(b=>b.isLink).map(b=>({...b,from:w+b.start+1,to:w+b.end+1})).filter(b=>r.schema.marks.code?!r.doc.rangeHasMark(b.from,b.to,r.schema.marks.code):!0).filter(b=>t.validate?t.validate(b.value):!0).forEach(b=>{jv(b.from,b.to,r.doc).some(T=>T.mark.type===t.type)||l.addMark(b.from,b.to,t.type.create({href:b.href}))})}}),!!l.steps.length)return l}})}function t5(t){return new Zt({key:new Yn("handleClickLink"),props:{handleClick:(e,n,r)=>{var s,i;if(r.button!==0||r.target.nodeName!=="A")return!1;const l=YN(e.state,t.type.name),u=r.target,d=(s=u==null?void 0:u.href)!==null&&s!==void 0?s:l.href,f=(i=u==null?void 0:u.target)!==null&&i!==void 0?i:l.target;return u&&d?(e.editable&&window.open(d,f),!0):!1}}})}function n5(t){return new Zt({key:new Yn("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:s}=e,{selection:i}=s,{empty:l}=i;if(l)return!1;let u="";r.content.forEach(f=>{u+=f.textContent});const d=Xv(u).find(f=>f.isLink&&f.value===u);return!u||!d?!1:(t.editor.commands.setMark(t.type,{href:d.href}),!0)}}})}const r5=gn.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(t=>{if(typeof t=="string"){Wx(t);return}Wx(t.scheme,t.optionalSlashes)})},onDestroy(){Y\$()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){var e;return!((e=t.href)===null||e===void 0)&&e.startsWith("javascript:")?["a",Re(this.options.HTMLAttributes,{...t,href:""}),0]:["a",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[di({find:(t,e)=>{var n;const r=(n=e==null?void 0:e.clipboardData)===null||n===void 0?void 0:n.getData("text/html"),s=[];if(r){const i=new DOMParser().parseFromString(r,"text/html"),l=i.querySelectorAll("a");l.length&&[...l].forEach(u=>s.push({text:u.innerText,data:{href:u.getAttribute("href")},index:i.body.innerText.indexOf(u.innerText)+u.innerText.length}))}if(t){const i=Xv(t).filter(l=>l.isLink);i.length&&i.forEach(l=>s.push({text:l.value,data:{href:l.href},index:l.start}))}return s},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(e5({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(t5({type:this.type})),this.options.linkOnPaste&&t.push(n5({editor:this.editor,type:this.type})),t}}),s5=new Ae({tiptapExtension:r5.configure({openOnClick:!1,autolink:!0}),onBridgeMessage:(t,{type:e,payload:n})=>{if(e==="set-link"){if(n===null)return!1;if(n==="")return t.chain().focus().extendMarkRange("link").unsetLink().setTextSelection(t.state.selection.from).run(),!1;t.chain().focus().extendMarkRange("link").setLink({href:n}).setTextSelection(t.state.selection.from).run()}return!1},extendEditorInstance:t=>({setLink:e=>t({type:"set-link",payload:e})}),extendEditorState:t=>({canSetLink:!t.state.selection.empty,isLinkActive:t.isActive("link"),activeLink:t.getAttributes("link").href})}),i5=new Ae({tiptapExtension:Wv,onBridgeMessage:(t,e)=>{switch(e.type){case"lift":t.chain().focus().liftListItem(t.schema.nodes.listItem.name).run();break;case"sink":t.chain().focus().sinkListItem(t.schema.nodes.listItem.name).run();break}return!1},extendEditorInstance:t=>({lift:()=>t({type:"lift"}),sink:()=>t({type:"sink"})}),extendEditorState:t=>({canLift:t.can().liftListItem(t.state.schema.nodes.listItem.name),canSink:t.can().sinkListItem(t.state.schema.nodes.listItem.name)})}),o5=Ot.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Re(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),Ux=gn.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=Uu(t,this.type);return Object.entries(n).some(([,r])=>!!r)?!0:e.unsetMark(this.name)}}}}),Jx=/^(\d+)\.\s\$/,l5=Ot.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return\`\${this.options.itemTypeName}+\`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",Re(this.options.HTMLAttributes,n),0]:["ol",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(o5.name,this.editor.getAttributes(Ux.name)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Il({find:Jx,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Il({find:Jx,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(Ux.name)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),a5=new Ae({tiptapExtension:l5,tiptapExtensionDeps:[Wv],onBridgeMessage:(t,e)=>(e.type==="toggle-orderedList"&&t.chain().focus().toggleOrderedList().run(),!1),extendEditorInstance:t=>({toggleOrderedList:()=>t({type:"toggle-orderedList"})}),extendEditorState:t=>({canToggleOrderedList:t.can().toggleOrderedList(),isOrderedListActive:t.isActive("orderedList")})}),u5=mn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,considerAnyAsEmpty:!1,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Zt({key:new Yn("placeholder"),props:{decorations:({doc:t,selection:e})=>{var n;const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,i=[];if(!r)return null;const{firstChild:l}=t.content,u=l&&l.type.isLeaf,d=l&&l.isAtom,f=this.options.considerAnyAsEmpty?!0:l&&l.type.name===((n=t.type.contentMatch.defaultType)===null||n===void 0?void 0:n.name),p=t.content.childCount<=1&&l&&f&&l.nodeSize<=2&&(!u||!d);return t.descendants((m,y)=>{const k=s>=y&&s<=y+m.nodeSize,w=!m.isLeaf&&!m.childCount;if((k||!this.options.showOnlyCurrent)&&w){const b=[this.options.emptyNodeClass];p&&b.push(this.options.emptyEditorClass);const T=On.node(y,y+m.nodeSize,{class:b.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:m,pos:y,hasAnchor:k}):this.options.placeholder});i.push(T)}return this.options.includeChildren}),qe.create(t,i)}}})]}}),c5=new Ae({tiptapExtension:u5,extendCSS:\`
    .is-editor-empty:first-child::before {
        color: #adb5bd;
        content: attr(data-placeholder);
        float: left;
        height: 0;
        pointer-events: none;
    }
  \`}),d5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))\$/,f5=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,h5=gn.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){const t={};return Hv()?t["Mod-Shift-s"]=()=>this.editor.commands.toggleStrike():t["Ctrl-Shift-s"]=()=>this.editor.commands.toggleStrike(),t},addInputRules(){return[uo({find:d5,type:this.type})]},addPasteRules(){return[di({find:f5,type:this.type})]}}),p5=new Ae({tiptapExtension:h5,onBridgeMessage:(t,e)=>(e.type==="toggle-strike"&&t.chain().focus().toggleStrike().run(),!1),extendEditorInstance:t=>({toggleStrike:()=>t({type:"toggle-strike"})}),extendEditorState:t=>({canToggleStrike:t.can().toggleStrike(),isStrikeActive:t.isActive("strike")})}),m5=gn.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Re(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}}),g5=new Ae({tiptapExtension:m5,onBridgeMessage:(t,e)=>(e.type==="toggle-underline"&&t.chain().focus().toggleUnderline().run(),!1),extendEditorInstance:t=>({toggleUnderline:()=>t({type:"toggle-underline"})}),extendEditorState:t=>({canToggleUnderline:t.can().toggleUnderline(),isUnderlineActive:t.isActive("underline")})}),y5=Ot.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return\`\${this.options.itemTypeName}+\`},parseHTML(){return[{tag:\`ul[data-type="\${this.name}"]\`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Re(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}}),v5=/^\s*(\[([( |x])?\])\s\$/,k5=Ot.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList"}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-checked")==="true",renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:\`li[data-type="\${this.name}"]\`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Re(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const s=document.createElement("li"),i=document.createElement("label"),l=document.createElement("span"),u=document.createElement("input"),d=document.createElement("div");return i.contentEditable="false",u.type="checkbox",u.addEventListener("change",f=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){u.checked=!u.checked;return}const{checked:p}=f.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:m})=>{const y=n(),k=m.doc.nodeAt(y);return m.setNodeMarkup(y,void 0,{...k==null?void 0:k.attrs,checked:p}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,p)||(u.checked=!u.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,p])=>{s.setAttribute(f,p)}),s.dataset.checked=t.attrs.checked,t.attrs.checked&&u.setAttribute("checked","checked"),i.append(u,l),s.append(i,d),Object.entries(e).forEach(([f,p])=>{s.setAttribute(f,p)}),{dom:s,contentDOM:d,update:f=>f.type!==this.type?!1:(s.dataset.checked=f.attrs.checked,f.attrs.checked?u.setAttribute("checked","checked"):u.removeAttribute("checked"),!0)}}},addInputRules(){return[Il({find:v5,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),w5=new Ae({tiptapExtension:y5,tiptapExtensionDeps:[k5],onBridgeMessage:(t,e)=>(e.type==="toggle-task-list"&&t.chain().focus().toggleTaskList().run(),!1),extendEditorInstance:t=>({toggleTaskList:()=>t({type:"toggle-task-list"})}),extendEditorState:t=>({canToggleTaskList:t.can().toggleTaskList(),isTaskListActive:t.isActive("taskList")}),extendCSS:\`
  ul[data-type="taskList"] {
    list-style: none;
    padding: 0;
  }
  
  ul[data-type="taskList"] > li {
    display: flex;
  }
  
  ul[data-type="taskList"] p {
    margin: 0;
  }
  
  ul[data-type="taskList"] li {
    display: flex;
  }
  
  ul[data-type="taskList"] li > label > input {
    font-size: inherit;
    font-family: inherit;
    color: #000;
    margin: 0.1rem;
    border: 1px solid black;
    border-radius: 0.3rem;
    padding: 0.1rem 0.4rem;
    background: white;
    accent-color: black;
  }
  ul[data-type="taskList"] li > label {
    flex: 0 0 auto;
    margin-right: 0.5rem;
    user-select: none;
  }
  
  ul[data-type="taskList"] li > div {
    flex: 1 1 auto;
  }
  
  ul[data-type="taskList"] li ul li,
  ul[data-type="taskList"] li ol li {
    display: list-item;
  }
  \`});function S5(t={}){return new Zt({view(e){return new b5(e,t)}})}class b5{constructor(e,n){var r;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(r=n.width)!==null&&r!==void 0?r:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=l=>{this[s](l)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let u=e.nodeBefore,d=e.nodeAfter;if(u||d){let f=this.editorView.nodeDOM(this.cursorPos-(u?u.nodeSize:0));if(f){let p=f.getBoundingClientRect(),m=u?p.bottom:p.top;u&&d&&(m=(m+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:p.left,right:p.right,top:m-this.width/2,bottom:m+this.width/2}}}}if(!r){let u=this.editorView.coordsAtPos(this.cursorPos);r={left:u.left-this.width/2,right:u.left+this.width/2,top:u.top,bottom:u.bottom}}let s=this.editorView.dom.offsetParent;this.element||(this.element=s.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let i,l;if(!s||s==document.body&&getComputedStyle(s).position=="static")i=-pageXOffset,l=-pageYOffset;else{let u=s.getBoundingClientRect();i=u.left-s.scrollLeft,l=u.top-s.scrollTop}this.element.style.left=r.left-i+"px",this.element.style.top=r.top-l+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),s=r&&r.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,n,e):s;if(n&&!i){let l=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let u=XT(this.editorView.state.doc,l,this.editorView.dragging.slice);u!=null&&(l=u)}this.setCursor(l),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const x5=mn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[S5(this.options)]}}),E5=new Ae({tiptapExtension:x5}),M5=Ot.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Re(this.options.HTMLAttributes,t)]},renderText(){return\`
\`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=n;if(s.\$from.parent.type.spec.isolating)return!1;const{keepMarks:l}=this.options,{splittableMarks:u}=r.extensionManager,d=i||s.\$to.parentOffset&&s.\$from.marks();return e().insertContent({type:this.name}).command(({tr:f,dispatch:p})=>{if(p&&d&&l){const m=d.filter(y=>u.includes(y.type.name));f.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),T5=new Ae({tiptapExtension:M5,onBridgeMessage:(t,e)=>(e.type==="set-hard-break"&&(console.log("setting hard break"),t.chain().focus().setHardBreak().run()),!1),extendEditorInstance:t=>({setHardBreak:()=>t({type:"set-hard-break"})}),extendEditorState:()=>({})}),N5=[e\$,M\$,l\$,L\$,p5,g5,a5,d\$,C\$,r\$,qB,w5,s5,u\$,m\$,HB,c5,i5,E5,T5];function fC(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let s=t.child(r),i=e.child(r);if(s==i){n+=s.nodeSize;continue}if(!s.sameMarkup(i))return n;if(s.isText&&s.text!=i.text){for(let l=0;s.text[l]==i.text[l];l++)n++;return n}if(s.content.size||i.content.size){let l=fC(s.content,i.content,n+1);if(l!=null)return l}n+=s.nodeSize}}function hC(t,e,n,r){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:n,b:r};let l=t.child(--s),u=e.child(--i),d=l.nodeSize;if(l==u){n-=d,r-=d;continue}if(!l.sameMarkup(u))return{a:n,b:r};if(l.isText&&l.text!=u.text){let f=0,p=Math.min(l.text.length,u.text.length);for(;f<p&&l.text[l.text.length-f-1]==u.text[u.text.length-f-1];)f++,n--,r--;return{a:n,b:r}}if(l.content.size||u.content.size){let f=hC(l.content,u.content,n-1,r-1);if(f)return f}n-=d,r-=d}}class re{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,s=0,i){for(let l=0,u=0;u<n;l++){let d=this.content[l],f=u+d.nodeSize;if(f>e&&r(d,s+u,i||null,l)!==!1&&d.content.size){let p=u+1;d.nodesBetween(Math.max(0,e-p),Math.min(d.content.size,n-p),r,s+p)}u=f}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,s){let i="",l=!0;return this.nodesBetween(e,n,(u,d)=>{let f=u.isText?u.text.slice(Math.max(e,d)-d,n-d):u.isLeaf?s?typeof s=="function"?s(u):s:u.type.spec.leafText?u.type.spec.leafText(u):"":"";u.isBlock&&(u.isLeaf&&f||u.isTextblock)&&r&&(l?l=!1:i+=r),i+=f},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,s=this.content.slice(),i=0;for(n.isText&&n.sameMarkup(r)&&(s[s.length-1]=n.withText(n.text+r.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new re(s,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],s=0;if(n>e)for(let i=0,l=0;l<n;i++){let u=this.content[i],d=l+u.nodeSize;d>e&&((l<e||d>n)&&(u.isText?u=u.cut(Math.max(0,e-l),Math.min(u.text.length,n-l)):u=u.cut(Math.max(0,e-l-1),Math.min(u.content.size,n-l-1))),r.push(u),s+=u.nodeSize),l=d}return new re(r,s)}cutByIndex(e,n){return e==n?re.empty:e==0&&n==this.content.length?this:new re(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let s=this.content.slice(),i=this.size+n.nodeSize-r.nodeSize;return s[e]=n,new re(s,i)}addToStart(e){return new re([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new re(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let s=this.content[n];e(s,r,n),r+=s.nodeSize}}findDiffStart(e,n=0){return fC(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return hC(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Od(0,e);if(e==this.size)return Od(this.content.length,e);if(e>this.size||e<0)throw new RangeError(\`Position \${e} outside of fragment (\${this})\`);for(let r=0,s=0;;r++){let i=this.child(r),l=s+i.nodeSize;if(l>=e)return l==e||n>0?Od(r+1,l):Od(r,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return re.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new re(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return re.empty;let n,r=0;for(let s=0;s<e.length;s++){let i=e[s];r+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(n||(n=e.slice(0,s)),n[n.length-1]=i.withText(n[n.length-1].text+i.text)):n&&n.push(i)}return new re(n||e,r)}static from(e){if(!e)return re.empty;if(e instanceof re)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new re([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}re.empty=new re([],0);const Ug={index:0,offset:0};function Od(t,e){return Ug.index=t,Ug.offset=e,Ug}function b0(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!b0(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!b0(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class xn{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))n||(n=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!r&&i.type.rank>this.type.rank&&(n||(n=e.slice(0,s)),n.push(this),r=!0),n&&n.push(i)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&b0(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(\`There is no mark type \${n.type} in this schema\`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return xn.none;if(e instanceof xn)return[e];let n=e.slice();return n.sort((r,s)=>r.type.rank-s.type.rank),n}}xn.none=[];class C5 extends Error{}class ce{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=mC(this.content,e+this.openStart,n);return r&&new ce(r,this.openStart,this.openEnd)}removeBetween(e,n){return new ce(pC(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ce.empty;let r=n.openStart||0,s=n.openEnd||0;if(typeof r!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ce(re.fromJSON(e,n.content),r,s)}static maxOpen(e,n=!0){let r=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.firstChild)r++;for(let i=e.lastChild;i&&!i.isLeaf&&(n||!i.type.spec.isolating);i=i.lastChild)s++;return new ce(e,r,s)}}ce.empty=new ce(re.empty,0,0);function pC(t,e,n){let{index:r,offset:s}=t.findIndex(e),i=t.maybeChild(r),{index:l,offset:u}=t.findIndex(n);if(s==e||i.isText){if(u!=n&&!t.child(l).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=l)throw new RangeError("Removing non-flat range");return t.replaceChild(r,i.copy(pC(i.content,e-s-1,n-s-1)))}function mC(t,e,n,r){let{index:s,offset:i}=t.findIndex(e),l=t.maybeChild(s);if(i==e||l.isText)return t.cut(0,e).append(n).append(t.cut(e));let u=mC(l.content,e-i-1,n);return u&&t.replaceChild(s,l.copy(u))}class x0{constructor(e,n,r){this.\$from=e,this.\$to=n,this.depth=r}get start(){return this.\$from.before(this.depth+1)}get end(){return this.\$to.after(this.depth+1)}get parent(){return this.\$from.node(this.depth)}get startIndex(){return this.\$from.index(this.depth)}get endIndex(){return this.\$to.indexAfter(this.depth)}}function O5(t){return t.tag!=null}function I5(t){return t.style!=null}let A5=class E0{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{O5(r)?this.tags.push(r):I5(r)&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let s=e.nodes[r.node];return s.contentMatch.matchType(s)})}parse(e,n={}){let r=new qx(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new qx(this,n,!0);return r.addAll(e,n.from,n.to),ce.maxOpen(r.finish())}matchTag(e,n,r){for(let s=r?this.tags.indexOf(r)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(L5(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||n.matchesContext(i.context))){if(i.getAttrs){let l=i.getAttrs(e);if(l===!1)continue;i.attrs=l||void 0}return i}}}matchStyle(e,n,r,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let l=this.styles[i],u=l.style;if(!(u.indexOf(e)!=0||l.context&&!r.matchesContext(l.context)||u.length>e.length&&(u.charCodeAt(e.length)!=61||u.slice(e.length+1)!=n))){if(l.getAttrs){let d=l.getAttrs(n);if(d===!1)continue;l.attrs=d||void 0}return l}}}static schemaRules(e){let n=[];function r(s){let i=s.priority==null?50:s.priority,l=0;for(;l<n.length;l++){let u=n[l];if((u.priority==null?50:u.priority)<i)break}n.splice(l,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Kx(l)),l.mark||l.ignore||l.clearMark||(l.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(l=>{r(l=Kx(l)),l.node||l.ignore||l.mark||(l.node=s)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new E0(e,E0.schemaRules(e)))}};const gC={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},P5={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},yC={ol:!0,ul:!0},ph=1,mh=2,lu=4;function Qx(t,e,n){return e!=null?(e?ph:0)|(e==="full"?mh:0):t&&t.whitespace=="pre"?ph|mh:n&~lu}class Id{constructor(e,n,r,s,i,l,u){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=s,this.solid=i,this.options=u,this.content=[],this.activeMarks=xn.none,this.stashMarks=[],this.match=l||(u&lu?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(re.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,s;return(s=r.findWrapping(e.type))?(this.match=r,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&ph)){let r=this.content[this.content.length-1],s;if(r&&r.isText&&(s=/[ \t\r\n\u000c]+\$/.exec(r.text))){let i=r;r.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let n=re.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(re.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let s=r[n];(this.type?this.type.allowsMarkType(s.type):R5(s.type,e))&&!s.isInSet(this.activeMarks)&&(this.activeMarks=s.addToSet(this.activeMarks),this.pendingMarks=s.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!gC.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class qx{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let s=n.topNode,i,l=Qx(null,n.preserveWhitespace,0)|(r?lu:0);s?i=new Id(s.type,s.attrs,xn.none,xn.none,!0,n.topMatch||s.type.contentMatch,l):r?i=new Id(null,null,xn.none,xn.none,!0,null,l):i=new Id(e.schema.topNodeType,null,xn.none,xn.none,!0,null,l),this.nodes=[i],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){e.nodeType==3?this.addTextNode(e):e.nodeType==1&&this.addElement(e)}withStyleRules(e,n){let r=e.getAttribute("style");if(!r)return n();let s=this.readStyles(z5(r));if(!s)return;let[i,l]=s,u=this.top;for(let d=0;d<l.length;d++)this.removePendingMark(l[d],u);for(let d=0;d<i.length;d++)this.addPendingMark(i[d]);n();for(let d=0;d<i.length;d++)this.removePendingMark(i[d],u);for(let d=0;d<l.length;d++)this.addPendingMark(l[d])}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&mh||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&ph)r.options&mh?n=n.replace(/\r\n?/g,\`
\`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let s=r.content[r.content.length-1],i=e.previousSibling;(!s||i&&i.nodeName=="BR"||s.isText&&/[ \t\r\n\u000c]\$/.test(s.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),s;yC.hasOwnProperty(r)&&this.parser.normalizeLists&&D5(e);let i=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(s=this.parser.matchTag(e,this,n));if(i?i.ignore:P5.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!i||i.skip||i.closeParent){i&&i.closeParent?this.open=Math.max(0,this.open-1):i&&i.skip.nodeType&&(e=i.skip);let l,u=this.top,d=this.needsBlock;if(gC.hasOwnProperty(r))u.content.length&&u.content[0].isInline&&this.open&&(this.open--,u=this.top),l=!0,u.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}i&&i.skip?this.addAll(e):this.withStyleRules(e,()=>this.addAll(e)),l&&this.sync(u),this.needsBlock=d}else this.withStyleRules(e,()=>{this.addElementByRule(e,i,i.consuming===!1?s:void 0)})}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(\`
\`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=xn.none,r=xn.none;for(let s=0;s<e.length;s+=2)for(let i=void 0;;){let l=this.parser.matchStyle(e[s],e[s+1],this,i);if(!l)break;if(l.ignore)return null;if(l.clearMark?this.top.pendingMarks.concat(this.top.activeMarks).forEach(u=>{l.clearMark(u)&&(r=u.addToSet(r))}):n=this.parser.schema.marks[l.mark].create(l.attrs).addToSet(n),l.consuming===!1)i=l;else break}return[n,r]}addElementByRule(e,n,r){let s,i,l;n.node?(i=this.parser.schema.nodes[n.node],i.isLeaf?this.insertNode(i.create(n.attrs))||this.leafFallback(e):s=this.enter(i,n.attrs||null,n.preserveWhitespace)):(l=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(l));let u=this.top;if(i&&i.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(d=>this.insertNode(d));else{let d=e;typeof n.contentElement=="string"?d=e.querySelector(n.contentElement):typeof n.contentElement=="function"?d=n.contentElement(e):n.contentElement&&(d=n.contentElement),this.findAround(e,d,!0),this.addAll(d)}s&&this.sync(u)&&this.open--,l&&this.removePendingMark(l,u)}addAll(e,n,r){let s=n||0;for(let i=n?e.childNodes[n]:e.firstChild,l=r==null?null:e.childNodes[r];i!=l;i=i.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(i);this.findAtPoint(e,s)}findPlace(e){let n,r;for(let s=this.open;s>=0;s--){let i=this.nodes[s],l=i.findWrapping(e);if(l&&(!n||n.length>l.length)&&(n=l,r=i,!l.length)||i.solid)break}if(!n)return!1;this.sync(r);for(let s=0;s<n.length;s++)this.enterInner(n[s],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let s=0;s<e.marks.length;s++)(!n.type||n.type.allowsMarkType(e.marks[s].type))&&(r=e.marks[s].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let s=this.findPlace(e.create(n));return s&&this.enterInner(e,n,!0,r),s}enterInner(e,n=null,r=!1,s){this.closeExtra();let i=this.top;i.applyPending(e),i.match=i.match&&i.match.matchType(e);let l=Qx(e,s,i.options);i.options&lu&&i.content.length==0&&(l|=lu),this.nodes.push(new Id(e,n,i.activeMarks,i.pendingMarks,r,null,l)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let s=r.length-1;s>=0;s--)e+=r[s].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&n.compareDocumentPosition(this.find[s].node)&(r?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,s=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),i=-(r?r.depth+1:0)+(s?0:1),l=(u,d)=>{for(;u>=0;u--){let f=n[u];if(f==""){if(u==n.length-1||u==0)continue;for(;d>=i;d--)if(l(u-1,d))return!0;return!1}else{let p=d>0||d==0&&s?this.nodes[d].type:r&&d>=i?r.node(d-i).type:null;if(!p||p.name!=f&&p.groups.indexOf(f)==-1)return!1;d--}}return!0};return l(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=B5(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let s=this.nodes[r];if(s.pendingMarks.lastIndexOf(e)>-1)s.pendingMarks=e.removeFromSet(s.pendingMarks);else{s.activeMarks=e.removeFromSet(s.activeMarks);let l=s.popFromStashMark(e);l&&s.type&&s.type.allowsMarkType(l.type)&&(s.activeMarks=l.addToSet(s.activeMarks))}if(s==n)break}}}function D5(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&yC.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function L5(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function z5(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function Kx(t){let e={};for(let n in t)e[n]=t[n];return e}function R5(t,e){let n=e.schema.nodes;for(let r in n){let s=n[r];if(!s.allowsMarkType(t))continue;let i=[],l=u=>{i.push(u);for(let d=0;d<u.edgeCount;d++){let{type:f,next:p}=u.edge(d);if(f==e||i.indexOf(p)<0&&l(p))return!0}};if(l(s.contentMatch))return!0}}function B5(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}const vC=65535,kC=Math.pow(2,16);function \$5(t,e){return t+e*kC}function Gx(t){return t&vC}function F5(t){return(t-(t&vC))/kC}const wC=1,SC=2,Gd=4,bC=8;class M0{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&bC)>0}get deletedBefore(){return(this.delInfo&(wC|Gd))>0}get deletedAfter(){return(this.delInfo&(SC|Gd))>0}get deletedAcross(){return(this.delInfo&Gd)>0}}class Tn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Tn.empty)return Tn.empty}recover(e){let n=0,r=Gx(e);if(!this.inverted)for(let s=0;s<r;s++)n+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[r*3]+n+F5(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let s=0,i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?s:0);if(d>e)break;let f=this.ranges[u+i],p=this.ranges[u+l],m=d+f;if(e<=m){let y=f?e==d?-1:e==m?1:n:n,k=d+s+(y<0?0:p);if(r)return k;let w=e==(n<0?d:m)?null:\$5(u/3,e-d),b=e==d?SC:e==m?wC:Gd;return(n<0?e!=d:e!=m)&&(b|=bC),new M0(k,b,w)}s+=p-f}return r?e+s:new M0(e+s,0,null)}touches(e,n){let r=0,s=Gx(n),i=this.inverted?2:1,l=this.inverted?1:2;for(let u=0;u<this.ranges.length;u+=3){let d=this.ranges[u]-(this.inverted?r:0);if(d>e)break;let f=this.ranges[u+i],p=d+f;if(e<=p&&u==s*3)return!0;r+=this.ranges[u+l]-f}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let l=this.ranges[s],u=l-(this.inverted?i:0),d=l+(this.inverted?0:i),f=this.ranges[s+n],p=this.ranges[s+r];e(u,u+f,d,d+p),i+=p-f}}invert(){return new Tn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Tn.empty:new Tn(e<0?[0,-e,0]:[0,0,e])}}Tn.empty=new Tn([]);class au{constructor(e=[],n,r=0,s=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=s}slice(e=0,n=this.maps.length){return new au(this.maps,this.mirror,e,n)}copy(){return new au(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let s=e.getMirror(n);this.appendMap(e.maps[n],s!=null&&s<n?r+s:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let s=e.getMirror(n);this.appendMap(e.maps[n].invert(),s!=null&&s>n?r-s-1:void 0)}}invert(){let e=new au;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let s=0;for(let i=this.from;i<this.to;i++){let l=this.maps[i],u=l.mapResult(e,n);if(u.recover!=null){let d=this.getMirror(i);if(d!=null&&d>i&&d<this.to){i=d,e=this.maps[d].recover(u.recover);continue}}s|=u.delInfo,e=u.pos}return r?e:new M0(e,s,null)}}const Jg=Object.create(null);class Vt{getMap(){return Tn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Jg[n.stepType];if(!r)throw new RangeError(\`No step type \${n.stepType} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Jg)throw new RangeError("Duplicate use of step JSON ID "+e);return Jg[e]=n,n.prototype.jsonID=e,n}}class nt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new nt(e,null)}static fail(e){return new nt(null,e)}static fromReplace(e,n,r,s){try{return nt.ok(e.replace(n,r,s))}catch(i){if(i instanceof C5)return nt.fail(i.message);throw i}}}function Zv(t,e,n){let r=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(Zv(i.content,e,i))),i.isInline&&(i=e(i,n,s)),r.push(i)}return re.fromArray(r)}class ji extends Vt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),s=r.node(r.sharedDepth(this.to)),i=new ce(Zv(n.content,(l,u)=>!l.isAtom||!u.type.allowsMarkType(this.mark.type)?l:l.mark(this.mark.addToSet(l.marks)),s),n.openStart,n.openEnd);return nt.fromReplace(e,this.from,this.to,i)}invert(){return new Wi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ji(n.pos,r.pos,this.mark)}merge(e){return e instanceof ji&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ji(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new ji(n.from,n.to,e.markFromJSON(n.mark))}}Vt.jsonID("addMark",ji);class Wi extends Vt{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new ce(Zv(n.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),n.openStart,n.openEnd);return nt.fromReplace(e,this.from,this.to,r)}invert(){return new ji(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Wi(n.pos,r.pos,this.mark)}merge(e){return e instanceof Wi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Wi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Wi(n.from,n.to,e.markFromJSON(n.mark))}}Vt.jsonID("removeMark",Wi);class Ui extends Vt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return nt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return nt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let s=0;s<n.marks.length;s++)if(!n.marks[s].isInSet(r))return new Ui(this.pos,n.marks[s]);return new Ui(this.pos,this.mark)}}return new Ru(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ui(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ui(n.pos,e.markFromJSON(n.mark))}}Vt.jsonID("addNodeMark",Ui);class Ru extends Vt{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return nt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return nt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ui(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ru(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ru(n.pos,e.markFromJSON(n.mark))}}Vt.jsonID("removeNodeMark",Ru);class En extends Vt{constructor(e,n,r,s=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=s}apply(e){return this.structure&&T0(e,this.from,this.to)?nt.fail("Structure replace would overwrite content"):nt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Tn([this.from,this.to-this.from,this.slice.size])}invert(e){return new En(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new En(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof En)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new En(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ce.empty:new ce(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new En(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new En(n.from,n.to,ce.fromJSON(e,n.slice),!!n.structure)}}Vt.jsonID("replace",En);class pn extends Vt{constructor(e,n,r,s,i,l,u=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=s,this.slice=i,this.insert=l,this.structure=u}apply(e){if(this.structure&&(T0(e,this.from,this.gapFrom)||T0(e,this.gapTo,this.to)))return nt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return nt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?nt.fromReplace(e,this.from,this.to,r):nt.fail("Content does not fit in gap")}getMap(){return new Tn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new pn(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),s=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?r.pos:e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||s<n.pos||i>r.pos?null:new pn(n.pos,r.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new pn(n.from,n.to,n.gapFrom,n.gapTo,ce.fromJSON(e,n.slice),n.insert,!!n.structure)}}Vt.jsonID("replaceAround",pn);function T0(t,e,n){let r=t.resolve(e),s=n-e,i=r.depth;for(;s>0&&i>0&&r.indexAfter(i)==r.node(i).childCount;)i--,s--;if(s>0){let l=r.node(i).maybeChild(r.indexAfter(i));for(;s>0;){if(!l||l.isLeaf)return!0;l=l.firstChild,s--}}return!1}function _5(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Fl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let s=t.\$from.node(r),i=t.\$from.index(r),l=t.\$to.indexAfter(r);if(r<t.depth&&s.canReplace(i,l,n))return r;if(r==0||s.type.spec.isolating||!_5(s,i,l))break}return null}function xC(t,e,n=null,r=t){let s=H5(t,e),i=s&&V5(r,e);return i?s.map(Yx).concat({type:e,attrs:n}).concat(i.map(Yx)):null}function Yx(t){return{type:t,attrs:null}}function H5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.contentMatchAt(r).findWrapping(e);if(!i)return null;let l=i.length?i[0]:e;return n.canReplaceWith(r,s,l)?i:null}function V5(t,e){let{parent:n,startIndex:r,endIndex:s}=t,i=n.child(r),l=e.contentMatch.findWrapping(i.type);if(!l)return null;let d=(l.length?l[l.length-1]:e).contentMatch;for(let f=r;d&&f<s;f++)d=d.matchType(n.child(f).type);return!d||!d.validEnd?null:l}function vl(t,e,n=1,r){let s=t.resolve(e),i=s.depth-n,l=r&&r[r.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!l.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let f=s.depth-1,p=n-2;f>i;f--,p--){let m=s.node(f),y=s.index(f);if(m.type.spec.isolating)return!1;let k=m.content.cutByIndex(y,m.childCount),w=r&&r[p+1];w&&(k=k.replaceChild(0,w.type.create(w.attrs)));let b=r&&r[p]||m;if(!m.canReplace(y+1,m.childCount)||!b.type.validContent(k))return!1}let u=s.indexAfter(i),d=r&&r[0];return s.node(i).canReplaceWith(u,u,d?d.type:s.node(i+1).type)}function ho(t,e){let n=t.resolve(e),r=n.index();return EC(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function EC(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function Kh(t,e,n=-1){let r=t.resolve(e);for(let s=r.depth;;s--){let i,l,u=r.index(s);if(s==r.depth?(i=r.nodeBefore,l=r.nodeAfter):n>0?(i=r.node(s+1),u++,l=r.node(s).maybeChild(u)):(i=r.node(s).maybeChild(u-1),l=r.node(s+1)),i&&!i.isTextblock&&EC(i,l)&&r.node(s).canReplace(u,u+1))return e;if(s==0)break;e=n<0?r.before(s):r.after(s)}}function e1(t,e,n=e,r=ce.empty){if(e==n&&!r.size)return null;let s=t.resolve(e),i=t.resolve(n);return j5(s,i,r)?new En(e,n,r):new W5(s,i,r).fit()}function j5(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class W5{constructor(e,n,r){this.\$from=e,this.\$to=n,this.unplaced=r,this.frontier=[],this.placed=re.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=re.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let f=this.findFittable();f?this.placeNodes(f):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.\$from.depth,r=this.\$from,s=this.close(e<0?this.\$to:r.doc.resolve(e));if(!s)return null;let i=this.placed,l=r.depth,u=s.depth;for(;l&&u&&i.childCount==1;)i=i.firstChild.content,l--,u--;let d=new ce(i,l,u);return e>-1?new pn(r.pos,e,this.\$to.pos,this.\$to.end(),d,n):d.size||r.pos!=this.\$to.pos?new En(r.pos,s.pos,d):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,s=this.unplaced.openEnd;r<e;r++){let i=n.firstChild;if(n.childCount>1&&(s=0),i.type.spec.isolating&&s<=r){e=r;break}n=i.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let s,i=null;r?(i=Qg(this.unplaced.content,r-1).firstChild,s=i.content):s=this.unplaced.content;let l=s.firstChild;for(let u=this.depth;u>=0;u--){let{type:d,match:f}=this.frontier[u],p,m=null;if(n==1&&(l?f.matchType(l.type)||(m=f.fillBefore(re.from(l),!1)):i&&d.compatibleContent(i.type)))return{sliceDepth:r,frontierDepth:u,parent:i,inject:m};if(n==2&&l&&(p=f.findWrapping(l.type)))return{sliceDepth:r,frontierDepth:u,parent:i,wrap:p};if(i&&f.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Qg(e,n);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new ce(e,n+1,Math.max(r,s.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,s=Qg(e,n);if(s.childCount<=1&&n>0){let i=e.size-n<=n+s.size;this.unplaced=new ce(ja(e,n-1,1),n-1,i?n-1:r)}else this.unplaced=new ce(ja(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:s,wrap:i}){for(;this.depth>n;)this.closeFrontierNode();if(i)for(let b=0;b<i.length;b++)this.openFrontierNode(i[b]);let l=this.unplaced,u=r?r.content:l.content,d=l.openStart-e,f=0,p=[],{match:m,type:y}=this.frontier[n];if(s){for(let b=0;b<s.childCount;b++)p.push(s.child(b));m=m.matchFragment(s)}let k=u.size+e-(l.content.size-l.openEnd);for(;f<u.childCount;){let b=u.child(f),T=m.matchType(b.type);if(!T)break;f++,(f>1||d==0||b.content.size)&&(m=T,p.push(MC(b.mark(y.allowedMarks(b.marks)),f==1?d:0,f==u.childCount?k:-1)))}let w=f==u.childCount;w||(k=-1),this.placed=Wa(this.placed,n,re.from(p)),this.frontier[n].match=m,w&&k<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let b=0,T=u;b<k;b++){let x=T.lastChild;this.frontier.push({type:x.type,match:x.contentMatchAt(x.childCount)}),T=x.content}this.unplaced=w?e==0?ce.empty:new ce(ja(l.content,e-1,1),e-1,k<0?l.openEnd:e-1):new ce(ja(l.content,e,f),l.openStart,l.openEnd)}mustMoveInline(){if(!this.\$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!qg(this.\$to,this.\$to.depth,e.type,e.match,!1)||this.\$to.depth==this.depth&&(n=this.findCloseLevel(this.\$to))&&n.depth==this.depth)return-1;let{depth:r}=this.\$to,s=this.\$to.after(r);for(;r>1&&s==this.\$to.end(--r);)++s;return s}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:s}=this.frontier[n],i=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),l=qg(e,n,s,r,i);if(l){for(let u=n-1;u>=0;u--){let{match:d,type:f}=this.frontier[u],p=qg(e,u,f,d,!0);if(!p||p.childCount)continue e}return{depth:n,fit:l,move:i?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=Wa(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let s=e.node(r),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(r));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,n=null,r){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=Wa(this.placed,this.depth,re.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(re.empty,!0);n.childCount&&(this.placed=Wa(this.placed,this.frontier.length,n))}}function ja(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ja(t.firstChild.content,e-1,n)))}function Wa(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(Wa(t.lastChild.content,e-1,n)))}function Qg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function MC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,MC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(re.empty,!0)))),t.copy(r)}function qg(t,e,n,r,s){let i=t.node(e),l=s?t.indexAfter(e):t.index(e);if(l==i.childCount&&!n.compatibleContent(i.type))return null;let u=r.fillBefore(i.content,!0,l);return u&&!U5(n,i.content,l)?u:null}function U5(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}class uu extends Vt{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return nt.fail("No node at attribute step's position");let r=Object.create(null);for(let i in n.attrs)r[i]=n.attrs[i];r[this.attr]=this.value;let s=n.type.create(r,null,n.marks);return nt.fromReplace(e,this.pos,this.pos+1,new ce(re.from(s),0,n.isLeaf?0:1))}getMap(){return Tn.empty}invert(e){return new uu(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new uu(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new uu(n.pos,n.attr,n.value)}}Vt.jsonID("attr",uu);class gh extends Vt{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let s in e.attrs)n[s]=e.attrs[s];n[this.attr]=this.value;let r=e.type.create(n,e.content,e.marks);return nt.ok(r)}getMap(){return Tn.empty}invert(e){return new gh(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new gh(n.attr,n.value)}}Vt.jsonID("docAttr",gh);let Bu=class extends Error{};Bu=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Bu.prototype=Object.create(Error.prototype);Bu.prototype.constructor=Bu;Bu.prototype.name="TransformError";const Kg=Object.create(null);class Te{constructor(e,n,r){this.\$anchor=e,this.\$head=n,this.ranges=r||[new J5(e.min(n),e.max(n))]}get anchor(){return this.\$anchor.pos}get head(){return this.\$head.pos}get from(){return this.\$from.pos}get to(){return this.\$to.pos}get \$from(){return this.ranges[0].\$from}get \$to(){return this.ranges[0].\$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].\$from.pos!=e[n].\$to.pos)return!1;return!0}content(){return this.\$from.doc.slice(this.from,this.to,!0)}replace(e,n=ce.empty){let r=n.content.lastChild,s=null;for(let u=0;u<n.openEnd;u++)s=r,r=r.lastChild;let i=e.steps.length,l=this.ranges;for(let u=0;u<l.length;u++){let{\$from:d,\$to:f}=l[u],p=e.mapping.slice(i);e.replaceRange(p.map(d.pos),p.map(f.pos),u?ce.empty:n),u==0&&eE(e,i,(r?r.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{\$from:l,\$to:u}=s[i],d=e.mapping.slice(r),f=d.map(l.pos),p=d.map(u.pos);i?e.deleteRange(f,p):(e.replaceRangeWith(f,p,n),eE(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let s=e.parent.inlineContent?new je(e):Qo(e.node(0),e.parent,e.pos,e.index(),n,r);if(s)return s;for(let i=e.depth-1;i>=0;i--){let l=n<0?Qo(e.node(0),e.node(i),e.before(i+1),e.index(i),n,r):Qo(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,n,r);if(l)return l}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new \$r(e.node(0))}static atStart(e){return Qo(e,e,0,0,1)||new \$r(e)}static atEnd(e){return Qo(e,e,e.content.size,e.childCount,-1)||new \$r(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Kg[n.type];if(!r)throw new RangeError(\`No selection type \${n.type} defined\`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Kg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Kg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return je.between(this.\$anchor,this.\$head).getBookmark()}}Te.prototype.visible=!0;class J5{constructor(e,n){this.\$from=e,this.\$to=n}}let Xx=!1;function Zx(t){!Xx&&!t.parent.inlineContent&&(Xx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class je extends Te{constructor(e,n=e){Zx(e),Zx(n),super(e,n)}get \$cursor(){return this.\$anchor.pos==this.\$head.pos?this.\$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Te.near(r);let s=e.resolve(n.map(this.anchor));return new je(s.parent.inlineContent?s:r,r)}replace(e,n=ce.empty){if(super.replace(e,n),n==ce.empty){let r=this.\$from.marksAcross(this.\$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof je&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Gh(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new je(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let s=e.resolve(n);return new this(s,r==n?s:e.resolve(r))}static between(e,n,r){let s=e.pos-n.pos;if((!r||s)&&(r=s>=0?1:-1),!n.parent.inlineContent){let i=Te.findFrom(n,r,!0)||Te.findFrom(n,-r,!0);if(i)n=i.\$head;else return Te.near(n,r)}return e.parent.inlineContent||(s==0?e=n:(e=(Te.findFrom(e,-r,!0)||Te.findFrom(e,r,!0)).\$anchor,e.pos<n.pos!=s<0&&(e=n))),new je(e,n)}}Te.jsonID("text",je);class Gh{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Gh(e.map(this.anchor),e.map(this.head))}resolve(e){return je.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ne extends Te{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:s}=n.mapResult(this.anchor),i=e.resolve(s);return r?Te.near(i):new Ne(i)}content(){return new ce(re.from(this.node),0,0)}eq(e){return e instanceof Ne&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new t1(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ne(e.resolve(n.anchor))}static create(e,n){return new Ne(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ne.prototype.visible=!1;Te.jsonID("node",Ne);class t1{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Gh(r,r):new t1(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Ne.isSelectable(r)?new Ne(n):Te.near(n)}}class \$r extends Te{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ce.empty){if(n==ce.empty){e.delete(0,e.doc.content.size);let r=Te.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new \$r(e)}map(e){return new \$r(e)}eq(e){return e instanceof \$r}getBookmark(){return Q5}}Te.jsonID("all",\$r);const Q5={map(){return this},resolve(t){return new \$r(t)}};function Qo(t,e,n,r,s,i=!1){if(e.inlineContent)return je.create(t,n);for(let l=r-(s>0?0:1);s>0?l<e.childCount:l>=0;l+=s){let u=e.child(l);if(u.isAtom){if(!i&&Ne.isSelectable(u))return Ne.create(t,n-(s<0?u.nodeSize:0))}else{let d=Qo(t,u,n+s,s<0?u.childCount:0,s,i);if(d)return d}n+=u.nodeSize*s}return null}function eE(t,e,n){let r=t.steps.length-1;if(r<e)return;let s=t.steps[r];if(!(s instanceof En||s instanceof pn))return;let i=t.mapping.maps[r],l;i.forEach((u,d,f,p)=>{l==null&&(l=p)}),t.setSelection(Te.near(t.doc.resolve(l),n))}function tE(t,e){return!e||!t?t:t.bind(e)}class Ad{constructor(e,n,r){this.name=e,this.init=tE(n.init,r),this.apply=tE(n.apply,r)}}new Ad("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new Ad("selection",{init(t,e){return t.selection||Te.atStart(e.doc)},apply(t){return t.selection}}),new Ad("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.\$cursor?t.storedMarks:null}}),new Ad("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}});function TC(t,e,n){for(let r in t){let s=t[r];s instanceof Function?s=s.bind(e):r=="handleDOMEvents"&&(s=TC(s,e,{})),n[r]=s}return n}class _l{constructor(e){this.spec=e,this.props={},e.props&&TC(e.props,this,this.props),this.key=e.key?e.key.key:NC("plugin")}getState(e){return e[this.key]}}const Gg=Object.create(null);function NC(t){return t in Gg?t+"\$"+ ++Gg[t]:(Gg[t]=0,t+"\$")}class po{constructor(e="key"){this.key=NC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const q5=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function CC(t,e){let{\$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const K5=(t,e,n)=>{let r=CC(t,n);if(!r)return!1;let s=n1(r);if(!s){let l=r.blockRange(),u=l&&Fl(l);return u==null?!1:(e&&e(t.tr.lift(l,u).scrollIntoView()),!0)}let i=s.nodeBefore;if(!i.type.spec.isolating&&PC(t,s,e))return!0;if(r.parent.content.size==0&&(Pl(i,"end")||Ne.isSelectable(i))){let l=e1(t.doc,r.before(),r.after(),ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Pl(i,"end")?Te.findFrom(u.doc.resolve(u.mapping.map(s.pos,-1)),-1):Ne.create(u.doc,s.pos-i.nodeSize)),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},G5=(t,e,n)=>{let r=CC(t,n);if(!r)return!1;let s=n1(r);return s?OC(t,s,e):!1},Y5=(t,e,n)=>{let r=IC(t,n);if(!r)return!1;let s=r1(r);return s?OC(t,s,e):!1};function OC(t,e,n){let r=e.nodeBefore,s=r,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let p=s.lastChild;if(!p)return!1;s=p}let l=e.nodeAfter,u=l,d=e.pos+1;for(;!u.isTextblock;d++){if(u.type.spec.isolating)return!1;let p=u.firstChild;if(!p)return!1;u=p}let f=e1(t.doc,i,d,ce.empty);if(!f||f.from!=i||f instanceof En&&f.slice.size>=d-i)return!1;if(n){let p=t.tr.step(f);p.setSelection(je.create(p.doc,i)),n(p.scrollIntoView())}return!0}function Pl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const X5=(t,e,n)=>{let{\$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;i=n1(r)}let l=i&&i.nodeBefore;return!l||!Ne.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,i.pos-l.nodeSize)).scrollIntoView()),!0)};function n1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function IC(t,e){let{\$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const Z5=(t,e,n)=>{let r=IC(t,n);if(!r)return!1;let s=r1(r);if(!s)return!1;let i=s.nodeAfter;if(PC(t,s,e))return!0;if(r.parent.content.size==0&&(Pl(i,"start")||Ne.isSelectable(i))){let l=e1(t.doc,r.before(),r.after(),ce.empty);if(l&&l.slice.size<l.to-l.from){if(e){let u=t.tr.step(l);u.setSelection(Pl(i,"start")?Te.findFrom(u.doc.resolve(u.mapping.map(s.pos)),1):Ne.create(u.doc,u.mapping.map(s.pos))),e(u.scrollIntoView())}return!0}}return i.isAtom&&s.depth==r.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},eF=(t,e,n)=>{let{\$head:r,empty:s}=t.selection,i=r;if(!s)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;i=r1(r)}let l=i&&i.nodeAfter;return!l||!Ne.isSelectable(l)?!1:(e&&e(t.tr.setSelection(Ne.create(t.doc,i.pos)).scrollIntoView()),!0)};function r1(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const tF=(t,e)=>{let n=t.selection,r=n instanceof Ne,s;if(r){if(n.node.isTextblock||!ho(t.doc,n.from))return!1;s=n.from}else if(s=Kh(t.doc,n.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);r&&i.setSelection(Ne.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},nF=(t,e)=>{let n=t.selection,r;if(n instanceof Ne){if(n.node.isTextblock||!ho(t.doc,n.to))return!1;r=n.to}else if(r=Kh(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},rF=(t,e)=>{let{\$from:n,\$to:r}=t.selection,s=n.blockRange(r),i=s&&Fl(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},sF=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(\`
\`).scrollIntoView()),!0)};function AC(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const iF=(t,e)=>{let{\$head:n,\$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let s=n.node(-1),i=n.indexAfter(-1),l=AC(s.contentMatchAt(i));if(!l||!s.canReplaceWith(i,i,l))return!1;if(e){let u=n.after(),d=t.tr.replaceWith(u,u,l.createAndFill());d.setSelection(Te.near(d.doc.resolve(u),1)),e(d.scrollIntoView())}return!0},oF=(t,e)=>{let n=t.selection,{\$from:r,\$to:s}=n;if(n instanceof \$r||r.parent.inlineContent||s.parent.inlineContent)return!1;let i=AC(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let l=(!r.parentOffset&&s.index()<s.parent.childCount?r:s).pos,u=t.tr.insert(l,i.createAndFill());u.setSelection(je.create(u.doc,l+1)),e(u.scrollIntoView())}return!0},lF=(t,e)=>{let{\$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let i=n.before();if(vl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let r=n.blockRange(),s=r&&Fl(r);return s==null?!1:(e&&e(t.tr.lift(r,s).scrollIntoView()),!0)},aF=(t,e)=>{let{\$from:n,to:r}=t.selection,s,i=n.sharedDepth(r);return i==0?!1:(s=n.before(i),e&&e(t.tr.setSelection(Ne.create(t.doc,s))),!0)};function uF(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i=e.index();return!r||!s||!r.type.compatibleContent(s.type)?!1:!r.content.size&&e.parent.canReplace(i-1,i)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||ho(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function PC(t,e,n){let r=e.nodeBefore,s=e.nodeAfter,i,l;if(r.type.spec.isolating||s.type.spec.isolating)return!1;if(uF(t,e,n))return!0;let u=e.parent.canReplace(e.index(),e.index()+1);if(u&&(i=(l=r.contentMatchAt(r.childCount)).findWrapping(s.type))&&l.matchType(i[0]||s.type).validEnd){if(n){let m=e.pos+s.nodeSize,y=re.empty;for(let b=i.length-1;b>=0;b--)y=re.from(i[b].create(null,y));y=re.from(r.copy(y));let k=t.tr.step(new pn(e.pos-1,m,e.pos,m,new ce(y,1,0),i.length,!0)),w=m+2*i.length;ho(k.doc,w)&&k.join(w),n(k.scrollIntoView())}return!0}let d=Te.findFrom(e,1),f=d&&d.\$from.blockRange(d.\$to),p=f&&Fl(f);if(p!=null&&p>=e.depth)return n&&n(t.tr.lift(f,p).scrollIntoView()),!0;if(u&&Pl(s,"start",!0)&&Pl(r,"end")){let m=r,y=[];for(;y.push(m),!m.isTextblock;)m=m.lastChild;let k=s,w=1;for(;!k.isTextblock;k=k.firstChild)w++;if(m.canReplace(m.childCount,m.childCount,k.content)){if(n){let b=re.empty;for(let x=y.length-1;x>=0;x--)b=re.from(y[x].copy(b));let T=t.tr.step(new pn(e.pos-y.length,e.pos+s.nodeSize,e.pos+w,e.pos+s.nodeSize-w,new ce(b,y.length,0),0,!0));n(T.scrollIntoView())}return!0}}return!1}function DC(t){return function(e,n){let r=e.selection,s=t<0?r.\$from:r.\$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(n&&n(e.tr.setSelection(je.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const cF=DC(-1),dF=DC(1);function fF(t,e=null){return function(n,r){let{\$from:s,\$to:i}=n.selection,l=s.blockRange(i),u=l&&xC(l,t,e);return u?(r&&r(n.tr.wrap(l,u).scrollIntoView()),!0):!1}}function nE(t,e=null){return function(n,r){let s=!1;for(let i=0;i<n.selection.ranges.length&&!s;i++){let{\$from:{pos:l},\$to:{pos:u}}=n.selection.ranges[i];n.doc.nodesBetween(l,u,(d,f)=>{if(s)return!1;if(!(!d.isTextblock||d.hasMarkup(t,e)))if(d.type==t)s=!0;else{let p=n.doc.resolve(f),m=p.index();s=p.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(r){let i=n.tr;for(let l=0;l<n.selection.ranges.length;l++){let{\$from:{pos:u},\$to:{pos:d}}=n.selection.ranges[l];i.setBlockType(u,d,t,e)}r(i.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function hF(t,e=null){return function(n,r){let{\$from:s,\$to:i}=n.selection,l=s.blockRange(i),u=!1,d=l;if(!l)return!1;if(l.depth>=2&&s.node(l.depth-1).type.compatibleContent(t)&&l.startIndex==0){if(s.index(l.depth-1)==0)return!1;let p=n.doc.resolve(l.start-2);d=new x0(p,p,l.depth),l.endIndex<l.parent.childCount&&(l=new x0(s,n.doc.resolve(i.end(l.depth)),l.depth)),u=!0}let f=xC(d,t,e,l);return f?(r&&r(pF(n.tr,l,f,u,t).scrollIntoView()),!0):!1}}function pF(t,e,n,r,s){let i=re.empty;for(let p=n.length-1;p>=0;p--)i=re.from(n[p].type.create(n[p].attrs,i));t.step(new pn(e.start-(r?2:0),e.end,e.start,e.end,new ce(i,0,0),n.length,!0));let l=0;for(let p=0;p<n.length;p++)n[p].type==s&&(l=p+1);let u=n.length-l,d=e.start+n.length-(r?2:0),f=e.parent;for(let p=e.startIndex,m=e.endIndex,y=!0;p<m;p++,y=!1)!y&&vl(t.doc,d,u)&&(t.split(d,u),d+=2*u),d+=f.child(p).nodeSize;return t}function mF(t){return function(e,n){let{\$from:r,\$to:s}=e.selection,i=r.blockRange(s,l=>l.childCount>0&&l.firstChild.type==t);return i?n?r.node(i.depth-1).type==t?gF(e,n,t,i):yF(e,n,i):!0:!1}}function gF(t,e,n,r){let s=t.tr,i=r.end,l=r.\$to.end(r.depth);i<l&&(s.step(new pn(i-1,l,i,l,new ce(re.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new x0(s.doc.resolve(r.\$from.pos),s.doc.resolve(l),r.depth));const u=Fl(r);if(u==null)return!1;s.lift(r,u);let d=s.mapping.map(i,-1)-1;return ho(s.doc,d)&&s.join(d),e(s.scrollIntoView()),!0}function yF(t,e,n){let r=t.tr,s=n.parent;for(let k=n.end,w=n.endIndex-1,b=n.startIndex;w>b;w--)k-=s.child(w).nodeSize,r.delete(k-1,k+1);let i=r.doc.resolve(n.start),l=i.nodeAfter;if(r.mapping.map(n.end)!=n.start+i.nodeAfter.nodeSize)return!1;let u=n.startIndex==0,d=n.endIndex==s.childCount,f=i.node(-1),p=i.index(-1);if(!f.canReplace(p+(u?0:1),p+1,l.content.append(d?re.empty:re.from(s))))return!1;let m=i.pos,y=m+l.nodeSize;return r.step(new pn(m-(u?1:0),y+(d?1:0),m+1,y-1,new ce((u?re.empty:re.from(s.copy(re.empty))).append(d?re.empty:re.from(s.copy(re.empty))),u?0:1,d?0:1),u?0:1)),e(r.scrollIntoView()),!0}function vF(t){return function(e,n){let{\$from:r,\$to:s}=e.selection,i=r.blockRange(s,f=>f.childCount>0&&f.firstChild.type==t);if(!i)return!1;let l=i.startIndex;if(l==0)return!1;let u=i.parent,d=u.child(l-1);if(d.type!=t)return!1;if(n){let f=d.lastChild&&d.lastChild.type==u.type,p=re.from(f?t.create():null),m=new ce(re.from(t.create(null,re.from(u.type.create(null,p)))),f?3:1,0),y=i.start,k=i.end;n(e.tr.step(new pn(y-(f?3:1),k,y,k,m,1,!0)).scrollIntoView())}return!0}}function LC(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:s}=n,{storedMarks:i}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return r},get doc(){return s},get tr(){return r=n.selection,s=n.doc,i=n.storedMarks,n}}}class kF{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:s}=n,{tr:i}=r,l=this.buildProps(i);return Object.fromEntries(Object.entries(e).map(([u,d])=>[u,(...p)=>{const m=d(...p)(l);return!i.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(i),m}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u=[],d=!!e,f=e||i.tr,p=()=>(!d&&n&&!f.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(f),u.every(y=>y===!0)),m={...Object.fromEntries(Object.entries(r).map(([y,k])=>[y,(...b)=>{const T=this.buildProps(f,n),x=k(...b)(T);return u.push(x),m}])),run:p};return m}createCan(e){const{rawCommands:n,state:r}=this,s=!1,i=e||r.tr,l=this.buildProps(i,s);return{...Object.fromEntries(Object.entries(n).map(([d,f])=>[d,(...p)=>f(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(i,s)}}buildProps(e,n=!0){const{rawCommands:r,editor:s,state:i}=this,{view:l}=s,u={tr:e,editor:s,view:l,state:LC({state:i,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e,n),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([d,f])=>[d,(...p)=>f(...p)(u)]))}};return u}}function Nn(t,e,n){return t.config[e]===void 0&&t.parent?Nn(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Nn(t.parent,e,n):null}):t.config[e]}function wF(t){const e=t.filter(s=>s.type==="extension"),n=t.filter(s=>s.type==="node"),r=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function _t(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(\`There is no node type named '\${t}'. Maybe you forgot to add the extension?\`);return e.nodes[t]}return t}function s1(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([s,i])=>{if(!r[s]){r[s]=i;return}if(s==="class"){const u=i?i.split(" "):[],d=r[s]?r[s].split(" "):[],f=u.filter(p=>!d.includes(p));r[s]=[...d,...f].join(" ")}else s==="style"?r[s]=[r[s],i].join("; "):r[s]=i}),r},{})}function SF(t){return typeof t=="function"}function hr(t,e=void 0,...n){return SF(t)?e?t.bind(e)(...n):t(...n):t}function bF(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function xF(t){return Object.prototype.toString.call(t).slice(8,-1)}function Yg(t){return xF(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function i1(t,e){const n={...t};return Yg(t)&&Yg(e)&&Object.keys(e).forEach(r=>{Yg(e[r])?r in t?n[r]=i1(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class cs{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=hr(Nn(this,"addOptions",{name:this.name}))),this.storage=hr(Nn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new cs(e)}configure(e={}){const n=this.extend();return n.parent=this.parent,n.options=i1(this.options,e),n.storage=hr(Nn(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new cs({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=hr(Nn(n,"addOptions",{name:n.name})),n.storage=hr(Nn(n,"addStorage",{name:n.name,options:n.options})),n}}function EF(t,e,n){const{from:r,to:s}=e,{blockSeparator:i=\`

\`,textSerializers:l={}}=n||{};let u="";return t.nodesBetween(r,s,(d,f,p,m)=>{var y;d.isBlock&&f>r&&(u+=i);const k=l==null?void 0:l[d.type.name];if(k)return p&&(u+=k({node:d,pos:f,parent:p,index:m,range:e})),!1;d.isText&&(u+=(y=d==null?void 0:d.text)===null||y===void 0?void 0:y.slice(Math.max(r,f)-f,s-f))}),u}function MF(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}cs.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new _l({key:new po("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:s}=e,{ranges:i}=s,l=Math.min(...i.map(p=>p.\$from.pos)),u=Math.max(...i.map(p=>p.\$to.pos)),d=MF(n);return EF(r,{from:l,to:u},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:d})}}})]}});const TF=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),NF=(t=!1)=>({commands:e})=>e.setContent("",t),CF=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:s}=r;return n&&s.forEach(({\$from:i,\$to:l})=>{t.doc.nodesBetween(i.pos,l.pos,(u,d)=>{if(u.type.isText)return;const{doc:f,mapping:p}=e,m=f.resolve(p.map(d)),y=f.resolve(p.map(d+u.nodeSize)),k=m.blockRange(y);if(!k)return;const w=Fl(k);if(u.type.isTextblock){const{defaultType:b}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(k.start,b)}(w||w===0)&&e.lift(k,w)})}),!0},OF=t=>e=>t(e),IF=()=>({state:t,dispatch:e})=>oF(t,e),AF=(t,e)=>({editor:n,tr:r})=>{const{state:s}=n,i=s.doc.slice(t.from,t.to);r.deleteRange(t.from,t.to);const l=r.mapping.map(e);return r.insert(l,i.content),r.setSelection(new je(r.doc.resolve(l-1))),!0},PF=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.\$anchor.node();if(r.content.size>0)return!1;const s=t.selection.\$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===r.type){if(e){const u=s.before(i),d=s.after(i);t.delete(u,d).scrollIntoView()}return!0}return!1},DF=t=>({tr:e,state:n,dispatch:r})=>{const s=_t(t,n.schema),i=e.selection.\$anchor;for(let l=i.depth;l>0;l-=1)if(i.node(l).type===s){if(r){const d=i.before(l),f=i.after(l);e.delete(d,f).scrollIntoView()}return!0}return!1},LF=t=>({tr:e,dispatch:n})=>{const{from:r,to:s}=t;return n&&e.delete(r,s),!0},zF=()=>({state:t,dispatch:e})=>q5(t,e),RF=()=>({commands:t})=>t.keyboardShortcut("Enter"),BF=()=>({state:t,dispatch:e})=>iF(t,e);function yh(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(s=>n.strict?e[s]===t[s]:bF(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function N0(t,e,n={}){return t.find(r=>r.type===e&&yh(r.attrs,n))}function \$F(t,e,n={}){return!!N0(t,e,n)}function zC(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const s=N0([...r.node.marks],e,n);if(!s)return;let i=r.index,l=t.start()+r.offset,u=i+1,d=l+r.node.nodeSize;for(N0([...r.node.marks],e,n);i>0&&s.isInSet(t.parent.child(i-1).marks);)i-=1,l-=t.parent.child(i).nodeSize;for(;u<t.parent.childCount&&\$F([...t.parent.child(u).marks],e,n);)d+=t.parent.child(u).nodeSize,u+=1;return{from:l,to:d}}function ki(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(\`There is no mark type named '\${t}'. Maybe you forgot to add the extension?\`);return e.marks[t]}return t}const FF=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const i=ki(t,r.schema),{doc:l,selection:u}=n,{\$from:d,from:f,to:p}=u;if(s){const m=zC(d,i,e);if(m&&m.from<=f&&m.to>=p){const y=je.create(l,m.from,m.to);n.setSelection(y)}}return!0},_F=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function RC(t){return t instanceof je}function Ji(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function HF(t,e=null){if(!e)return null;const n=Te.atStart(t),r=Te.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const s=n.from,i=r.to;return e==="all"?je.create(t,Ji(0,s,i),Ji(t.content.size,s,i)):je.create(t,Ji(e,s,i),Ji(e,s,i))}function Yh(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const VF=(t=null,e={})=>({editor:n,view:r,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const l=()=>{Yh()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!RC(n.state.selection))return l(),!0;const u=HF(s.doc,t)||n.state.selection,d=n.state.selection.eq(u);return i&&(d||s.setSelection(u),d&&s.storedMarks&&s.setStoredMarks(s.storedMarks),l()),!0},jF=(t,e)=>n=>t.every((r,s)=>e(r,{...n,index:s})),WF=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),BC=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const r=e[n];r.nodeType===3&&r.nodeValue&&/^(\n\s\s|\n)\$/.test(r.nodeValue)?t.removeChild(r):r.nodeType===1&&BC(r)}return t};function rE(t){const e=\`<body>\${t}</body>\`,n=new window.DOMParser().parseFromString(e,"text/html").body;return BC(n)}function vh(t,e,n){n={slice:!0,parseOptions:{},...n};const r=typeof t=="object"&&t!==null,s=typeof t=="string";if(r)try{return Array.isArray(t)&&t.length>0?re.fromArray(t.map(l=>e.nodeFromJSON(l))):e.nodeFromJSON(t)}catch(i){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),vh("",e,n)}if(s){const i=A5.fromSchema(e);return n.slice?i.parseSlice(rE(t),n.parseOptions).content:i.parse(rE(t),n.parseOptions)}return vh("",e,n)}function UF(t,e,n){const r=t.steps.length-1;if(r<e)return;const s=t.steps[r];if(!(s instanceof En||s instanceof pn))return;const i=t.mapping.maps[r];let l=0;i.forEach((u,d,f,p)=>{l===0&&(l=p)}),t.setSelection(Te.near(t.doc.resolve(l),n))}const JF=t=>t.toString().startsWith("<"),QF=(t,e,n)=>({tr:r,dispatch:s,editor:i})=>{if(s){n={parseOptions:{},updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};const l=vh(e,i.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(l.toString()==="<>")return!0;let{from:u,to:d}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},f=!0,p=!0;if((JF(l)?l:[l]).forEach(k=>{k.check(),f=f?k.isText&&k.marks.length===0:!1,p=p?k.isBlock:!1}),u===d&&p){const{parent:k}=r.doc.resolve(u);k.isTextblock&&!k.type.spec.code&&!k.childCount&&(u-=1,d+=1)}let y;f?(Array.isArray(e)?y=e.map(k=>k.text||"").join(""):typeof e=="object"&&e&&e.text?y=e.text:y=e,r.insertText(y,u,d)):(y=l,r.replaceWith(u,d,y)),n.updateSelection&&UF(r,r.steps.length-1,-1),n.applyInputRules&&r.setMeta("applyInputRules",{from:u,text:y}),n.applyPasteRules&&r.setMeta("applyPasteRules",{from:u,text:y})}return!0},qF=()=>({state:t,dispatch:e})=>tF(t,e),KF=()=>({state:t,dispatch:e})=>nF(t,e),GF=()=>({state:t,dispatch:e})=>K5(t,e),YF=()=>({state:t,dispatch:e})=>Z5(t,e),XF=()=>({tr:t,state:e,dispatch:n})=>{try{const r=Kh(e.doc,e.selection.\$from.pos,-1);return r==null?!1:(t.join(r,2),n&&n(t),!0)}catch{return!1}},ZF=()=>({state:t,dispatch:e,tr:n})=>{try{const r=Kh(t.doc,t.selection.\$from.pos,1);return r==null?!1:(n.join(r,2),e&&e(n),!0)}catch{return!1}},e6=()=>({state:t,dispatch:e})=>G5(t,e),t6=()=>({state:t,dispatch:e})=>Y5(t,e);function \$C(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function n6(t){const e=t.split(/-(?!\$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,s,i,l;for(let u=0;u<e.length-1;u+=1){const d=e[u];if(/^(cmd|meta|m)\$/i.test(d))l=!0;else if(/^a(lt)?\$/i.test(d))r=!0;else if(/^(c|ctrl|control)\$/i.test(d))s=!0;else if(/^s(hift)?\$/i.test(d))i=!0;else if(/^mod\$/i.test(d))Yh()||\$C()?l=!0:s=!0;else throw new Error(\`Unrecognized modifier name: \${d}\`)}return r&&(n=\`Alt-\${n}\`),s&&(n=\`Ctrl-\${n}\`),l&&(n=\`Meta-\${n}\`),i&&(n=\`Shift-\${n}\`),n}const r6=t=>({editor:e,view:n,tr:r,dispatch:s})=>{const i=n6(t).split(/-(?!\$)/),l=i.find(f=>!["Alt","Ctrl","Meta","Shift"].includes(f)),u=new KeyboardEvent("keydown",{key:l==="Space"?" ":l,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),d=e.captureTransaction(()=>{n.someProp("handleKeyDown",f=>f(n,u))});return d==null||d.steps.forEach(f=>{const p=f.map(r.mapping);p&&s&&r.maybeStep(p)}),!0};function o1(t,e,n={}){const{from:r,to:s,empty:i}=t.selection,l=e?_t(e,t.schema):null,u=[];t.doc.nodesBetween(r,s,(m,y)=>{if(m.isText)return;const k=Math.max(r,y),w=Math.min(s,y+m.nodeSize);u.push({node:m,from:k,to:w})});const d=s-r,f=u.filter(m=>l?l.name===m.node.type.name:!0).filter(m=>yh(m.node.attrs,n,{strict:!1}));return i?!!f.length:f.reduce((m,y)=>m+y.to-y.from,0)>=d}const s6=(t,e={})=>({state:n,dispatch:r})=>{const s=_t(t,n.schema);return o1(n,s,e)?rF(n,r):!1},i6=()=>({state:t,dispatch:e})=>lF(t,e),o6=t=>({state:e,dispatch:n})=>{const r=_t(t,e.schema);return mF(r)(e,n)},l6=()=>({state:t,dispatch:e})=>sF(t,e);function FC(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function sE(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,s)=>(n.includes(s)||(r[s]=t[s]),r),{})}const a6=(t,e)=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=FC(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=_t(t,r.schema)),u==="mark"&&(l=ki(t,r.schema)),s&&n.selection.ranges.forEach(d=>{r.doc.nodesBetween(d.\$from.pos,d.\$to.pos,(f,p)=>{i&&i===f.type&&n.setNodeMarkup(p,void 0,sE(f.attrs,e)),l&&f.marks.length&&f.marks.forEach(m=>{l===m.type&&n.addMark(p,p+f.nodeSize,l.create(sE(m.attrs,e)))})})}),!0):!1},u6=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),c6=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),d6=()=>({state:t,dispatch:e})=>X5(t,e),f6=()=>({state:t,dispatch:e})=>eF(t,e),h6=()=>({state:t,dispatch:e})=>aF(t,e),p6=()=>({state:t,dispatch:e})=>dF(t,e),m6=()=>({state:t,dispatch:e})=>cF(t,e);function g6(t,e,n={}){return vh(t,e,{slice:!1,parseOptions:n})}const y6=(t,e=!1,n={})=>({tr:r,editor:s,dispatch:i})=>{const{doc:l}=r,u=g6(t,s.schema,n);return i&&r.replaceWith(0,l.content.size,u).setMeta("preventUpdate",!e),!0};function v6(t,e){const n=ki(e,t.schema),{from:r,to:s,empty:i}=t.selection,l=[];i?(t.storedMarks&&l.push(...t.storedMarks),l.push(...t.selection.\$head.marks())):t.doc.nodesBetween(r,s,d=>{l.push(...d.marks)});const u=l.find(d=>d.type.name===n.name);return u?{...u.attrs}:{}}function k6(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function w6(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function l1(t){return e=>w6(e.\$from,t)}function Yd(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const s=t.find(i=>i.type===e&&i.name===r);return s?s.attribute.keepOnSplit:!1}))}function S6(t,e,n={}){const{empty:r,ranges:s}=t.selection,i=e?ki(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.\$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>yh(m.attrs,n,{strict:!1}));let l=0;const u=[];if(s.forEach(({\$from:m,\$to:y})=>{const k=m.pos,w=y.pos;t.doc.nodesBetween(k,w,(b,T)=>{if(!b.isText&&!b.marks.length)return;const x=Math.max(k,T),E=Math.min(w,T+b.nodeSize),N=E-x;l+=N,u.push(...b.marks.map(D=>({mark:D,from:x,to:E})))})}),l===0)return!1;const d=u.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>yh(m.mark.attrs,n,{strict:!1})).reduce((m,y)=>m+y.to-y.from,0),f=u.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,y)=>m+y.to-y.from,0);return(d>0?d+f:d)>=l}function iE(t,e){const{nodeExtensions:n}=wF(e),r=n.find(l=>l.name===t);if(!r)return!1;const s={name:r.name,options:r.options,storage:r.storage},i=hr(Nn(r,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function b6(t,e,n){var r;const{selection:s}=e;let i=null;if(RC(s)&&(i=s.\$cursor),i){const u=(r=t.storedMarks)!==null&&r!==void 0?r:i.marks();return!!n.isInSet(u)||!u.some(d=>d.type.excludes(n))}const{ranges:l}=s;return l.some(({\$from:u,\$to:d})=>{let f=u.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(u.pos,d.pos,(p,m,y)=>{if(f)return!1;if(p.isInline){const k=!y||y.type.allowsMarkType(n),w=!!n.isInSet(p.marks)||!p.marks.some(b=>b.type.excludes(n));f=k&&w}return!f}),f})}const x6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{const{selection:i}=n,{empty:l,ranges:u}=i,d=ki(t,r.schema);if(s)if(l){const f=v6(r,d);n.addStoredMark(d.create({...f,...e}))}else u.forEach(f=>{const p=f.\$from.pos,m=f.\$to.pos;r.doc.nodesBetween(p,m,(y,k)=>{const w=Math.max(k,p),b=Math.min(k+y.nodeSize,m);y.marks.find(x=>x.type===d)?y.marks.forEach(x=>{d===x.type&&n.addMark(w,b,d.create({...x.attrs,...e}))}):n.addMark(w,b,d.create(e))})});return b6(r,n,d)},E6=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),M6=(t,e={})=>({state:n,dispatch:r,chain:s})=>{const i=_t(t,n.schema);return i.isTextblock?s().command(({commands:l})=>nE(i,e)(n)?!0:l.clearNodes()).command(({state:l})=>nE(i,e)(l,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},T6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,s=Ji(t,0,r.content.size),i=Ne.create(r,s);e.setSelection(i)}return!0},N6=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,l=je.atStart(r).from,u=je.atEnd(r).to,d=Ji(s,l,u),f=Ji(i,l,u),p=je.create(r,d,f);e.setSelection(p)}return!0},C6=t=>({state:e,dispatch:n})=>{const r=_t(t,e.schema);return vF(r)(e,n)};function oE(t,e){const n=t.storedMarks||t.selection.\$to.parentOffset&&t.selection.\$from.marks();if(n){const r=n.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(r)}}const O6=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:s})=>{const{selection:i,doc:l}=e,{\$from:u,\$to:d}=i,f=s.extensionManager.attributes,p=Yd(f,u.node().type.name,u.node().attrs);if(i instanceof Ne&&i.node.isBlock)return!u.parentOffset||!vl(l,u.pos)?!1:(r&&(t&&oE(n,s.extensionManager.splittableMarks),e.split(u.pos).scrollIntoView()),!0);if(!u.parent.isBlock)return!1;if(r){const m=d.parentOffset===d.parent.content.size;i instanceof je&&e.deleteSelection();const y=u.depth===0?void 0:k6(u.node(-1).contentMatchAt(u.indexAfter(-1)));let k=m&&y?[{type:y,attrs:p}]:void 0,w=vl(e.doc,e.mapping.map(u.pos),1,k);if(!k&&!w&&vl(e.doc,e.mapping.map(u.pos),1,y?[{type:y}]:void 0)&&(w=!0,k=y?[{type:y,attrs:p}]:void 0),w&&(e.split(e.mapping.map(u.pos),1,k),y&&!m&&!u.parentOffset&&u.parent.type!==y)){const b=e.mapping.map(u.before()),T=e.doc.resolve(b);u.node(-1).canReplaceWith(T.index(),T.index()+1,y)&&e.setNodeMarkup(e.mapping.map(u.before()),y)}t&&oE(n,s.extensionManager.splittableMarks),e.scrollIntoView()}return!0},I6=t=>({tr:e,state:n,dispatch:r,editor:s})=>{var i;const l=_t(t,n.schema),{\$from:u,\$to:d}=n.selection,f=n.selection.node;if(f&&f.isBlock||u.depth<2||!u.sameParent(d))return!1;const p=u.node(-1);if(p.type!==l)return!1;const m=s.extensionManager.attributes;if(u.parent.content.size===0&&u.node(-1).childCount===u.indexAfter(-1)){if(u.depth===2||u.node(-3).type!==l||u.index(-2)!==u.node(-2).childCount-1)return!1;if(r){let T=re.empty;const x=u.index(-1)?1:u.index(-2)?2:3;for(let B=u.depth-x;B>=u.depth-3;B-=1)T=re.from(u.node(B).copy(T));const E=u.indexAfter(-1)<u.node(-2).childCount?1:u.indexAfter(-2)<u.node(-3).childCount?2:3,N=Yd(m,u.node().type.name,u.node().attrs),D=((i=l.contentMatch.defaultType)===null||i===void 0?void 0:i.createAndFill(N))||void 0;T=T.append(re.from(l.createAndFill(null,D)||void 0));const R=u.before(u.depth-(x-1));e.replace(R,u.after(-E),new ce(T,4-x,0));let L=-1;e.doc.nodesBetween(R,e.doc.content.size,(B,J)=>{if(L>-1)return!1;B.isTextblock&&B.content.size===0&&(L=J+1)}),L>-1&&e.setSelection(je.near(e.doc.resolve(L))),e.scrollIntoView()}return!0}const y=d.pos===u.end()?p.contentMatchAt(0).defaultType:null,k=Yd(m,p.type.name,p.attrs),w=Yd(m,u.node().type.name,u.node().attrs);e.delete(u.pos,d.pos);const b=y?[{type:l,attrs:k},{type:y,attrs:w}]:[{type:l,attrs:k}];if(!vl(e.doc,u.pos,2))return!1;if(r){const{selection:T,storedMarks:x}=n,{splittableMarks:E}=s.extensionManager,N=x||T.\$to.parentOffset&&T.\$from.marks();if(e.split(u.pos,2,b).scrollIntoView(),!N||!r)return!0;const D=N.filter(R=>E.includes(R.type.name));e.ensureMarks(D)}return!0},Xg=(t,e)=>{const n=l1(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ho(t.doc,n.pos)&&t.join(n.pos),!0},Zg=(t,e)=>{const n=l1(l=>l.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const s=t.doc.nodeAt(r);return n.node.type===(s==null?void 0:s.type)&&ho(t.doc,r)&&t.join(r),!0},A6=(t,e,n,r={})=>({editor:s,tr:i,state:l,dispatch:u,chain:d,commands:f,can:p})=>{const{extensions:m,splittableMarks:y}=s.extensionManager,k=_t(t,l.schema),w=_t(e,l.schema),{selection:b,storedMarks:T}=l,{\$from:x,\$to:E}=b,N=x.blockRange(E),D=T||b.\$to.parentOffset&&b.\$from.marks();if(!N)return!1;const R=l1(L=>iE(L.type.name,m))(b);if(N.depth>=1&&R&&N.depth-R.depth<=1){if(R.node.type===k)return f.liftListItem(w);if(iE(R.node.type.name,m)&&k.validContent(R.node.content)&&u)return d().command(()=>(i.setNodeMarkup(R.pos,k),!0)).command(()=>Xg(i,k)).command(()=>Zg(i,k)).run()}return!n||!D||!u?d().command(()=>p().wrapInList(k,r)?!0:f.clearNodes()).wrapInList(k,r).command(()=>Xg(i,k)).command(()=>Zg(i,k)).run():d().command(()=>{const L=p().wrapInList(k,r),B=D.filter(J=>y.includes(J.type.name));return i.ensureMarks(B),L?!0:f.clearNodes()}).wrapInList(k,r).command(()=>Xg(i,k)).command(()=>Zg(i,k)).run()},P6=(t,e={},n={})=>({state:r,commands:s})=>{const{extendEmptyMarkRange:i=!1}=n,l=ki(t,r.schema);return S6(r,l,e)?s.unsetMark(l,{extendEmptyMarkRange:i}):s.setMark(l,e)},D6=(t,e,n={})=>({state:r,commands:s})=>{const i=_t(t,r.schema),l=_t(e,r.schema);return o1(r,i,n)?s.setNode(l):s.setNode(i,n)},L6=(t,e={})=>({state:n,commands:r})=>{const s=_t(t,n.schema);return o1(n,s,e)?r.lift(s):r.wrapIn(s,e)},z6=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const s=n[r];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const l=t.tr,u=i.transform;for(let d=u.steps.length-1;d>=0;d-=1)l.step(u.steps[d].invert(u.docs[d]));if(i.text){const d=l.doc.resolve(i.from).marks();l.replaceWith(i.from,i.to,t.schema.text(i.text,d))}else l.delete(i.from,i.to)}return!0}}return!1},R6=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:s}=n;return r||e&&s.forEach(i=>{t.removeMark(i.\$from.pos,i.\$to.pos)}),!0},B6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{var i;const{extendEmptyMarkRange:l=!1}=e,{selection:u}=n,d=ki(t,r.schema),{\$from:f,empty:p,ranges:m}=u;if(!s)return!0;if(p&&l){let{from:y,to:k}=u;const w=(i=f.marks().find(T=>T.type===d))===null||i===void 0?void 0:i.attrs,b=zC(f,d,w);b&&(y=b.from,k=b.to),n.removeMark(y,k,d)}else m.forEach(y=>{n.removeMark(y.\$from.pos,y.\$to.pos,d)});return n.removeStoredMark(d),!0},\$6=(t,e={})=>({tr:n,state:r,dispatch:s})=>{let i=null,l=null;const u=FC(typeof t=="string"?t:t.name,r.schema);return u?(u==="node"&&(i=_t(t,r.schema)),u==="mark"&&(l=ki(t,r.schema)),s&&n.selection.ranges.forEach(d=>{const f=d.\$from.pos,p=d.\$to.pos;r.doc.nodesBetween(f,p,(m,y)=>{i&&i===m.type&&n.setNodeMarkup(y,void 0,{...m.attrs,...e}),l&&m.marks.length&&m.marks.forEach(k=>{if(l===k.type){const w=Math.max(y,f),b=Math.min(y+m.nodeSize,p);n.addMark(w,b,l.create({...k.attrs,...e}))}})})}),!0):!1},F6=(t,e={})=>({state:n,dispatch:r})=>{const s=_t(t,n.schema);return fF(s,e)(n,r)},_6=(t,e={})=>({state:n,dispatch:r})=>{const s=_t(t,n.schema);return hF(s,e)(n,r)};var H6=Object.freeze({__proto__:null,blur:TF,clearContent:NF,clearNodes:CF,command:OF,createParagraphNear:IF,cut:AF,deleteCurrentNode:PF,deleteNode:DF,deleteRange:LF,deleteSelection:zF,enter:RF,exitCode:BF,extendMarkRange:FF,first:_F,focus:VF,forEach:jF,insertContent:WF,insertContentAt:QF,joinUp:qF,joinDown:KF,joinBackward:GF,joinForward:YF,joinItemBackward:XF,joinItemForward:ZF,joinTextblockBackward:e6,joinTextblockForward:t6,keyboardShortcut:r6,lift:s6,liftEmptyBlock:i6,liftListItem:o6,newlineInCode:l6,resetAttributes:a6,scrollIntoView:u6,selectAll:c6,selectNodeBackward:d6,selectNodeForward:f6,selectParentNode:h6,selectTextblockEnd:p6,selectTextblockStart:m6,setContent:y6,setMark:x6,setMeta:E6,setNode:M6,setNodeSelection:T6,setTextSelection:N6,sinkListItem:C6,splitBlock:O6,splitListItem:I6,toggleList:A6,toggleMark:P6,toggleNode:D6,toggleWrap:L6,undoInputRule:z6,unsetAllMarks:R6,unsetMark:B6,updateAttributes:\$6,wrapIn:F6,wrapInList:_6});cs.create({name:"commands",addCommands(){return{...H6}}});cs.create({name:"editable",addProseMirrorPlugins(){return[new _l({key:new po("editable"),props:{editable:()=>this.editor.options.editable}})]}});cs.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new _l({key:new po("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}});cs.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:l})=>[()=>l.undoInputRule(),()=>l.command(({tr:u})=>{const{selection:d,doc:f}=u,{empty:p,\$anchor:m}=d,{pos:y,parent:k}=m,w=m.parent.isTextblock&&y>0?u.doc.resolve(y-1):m,b=w.parent.type.spec.isolating,T=m.pos-m.parentOffset,x=b&&w.parent.childCount===1?T===m.pos:Te.atStart(f).from===y;return!p||!k.type.isTextblock||k.textContent.length||!x||x&&m.parent.type.name==="paragraph"?!1:l.clearNodes()}),()=>l.deleteSelection(),()=>l.joinBackward(),()=>l.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:l})=>[()=>l.deleteSelection(),()=>l.deleteCurrentNode(),()=>l.joinForward(),()=>l.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:l})=>[()=>l.newlineInCode(),()=>l.createParagraphNear(),()=>l.liftEmptyBlock(),()=>l.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...r},i={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Yh()||\$C()?i:s},addProseMirrorPlugins(){return[new _l({key:new po("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(w=>w.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:s,from:i,to:l}=e.selection,u=Te.atStart(e.doc).from,d=Te.atEnd(e.doc).to;if(s||!(i===u&&l===d)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const m=n.tr,y=LC({state:n,transaction:m}),{commands:k}=new kF({editor:this.editor,state:y});if(k.clearNodes(),!!m.steps.length)return m}})]}});cs.create({name:"tabindex",addProseMirrorPlugins(){return[new _l({key:new po("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});class Dl{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&Object.keys(e.defaultOptions).length>0&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${this.name}".\`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=hr(Nn(this,"addOptions",{name:this.name}))),this.storage=hr(Nn(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Dl(e)}configure(e={}){const n=this.extend();return n.options=i1(this.options,e),n.storage=hr(Nn(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Dl({...this.config,...e});return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(\`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "\${n.name}".\`),n.options=hr(Nn(n,"addOptions",{name:n.name})),n.storage=hr(Nn(n,"addStorage",{name:n.name,options:n.options})),n}}function V6(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}class j6{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,s,i,l,u,d;const{view:f}=this.editor,p=e.target,m=p.nodeType===3?(n=p.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):p.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(p)||!m)return;let y=0,k=0;if(this.dom!==m){const T=this.dom.getBoundingClientRect(),x=m.getBoundingClientRect(),E=(s=e.offsetX)!==null&&s!==void 0?s:(i=e.nativeEvent)===null||i===void 0?void 0:i.offsetX,N=(l=e.offsetY)!==null&&l!==void 0?l:(u=e.nativeEvent)===null||u===void 0?void 0:u.offsetY;y=x.x-T.x+E,k=x.y-T.y+N}(d=e.dataTransfer)===null||d===void 0||d.setDragImage(this.dom,y,k);const w=Ne.create(f.state.doc,this.getPos()),b=f.state.tr.setSelection(w);f.dispatch(b)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const i=e.type.startsWith("drag"),l=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!l&&!i)return!0;const{isEditable:d}=this.editor,{isDragging:f}=this,p=!!this.node.type.spec.draggable,m=Ne.isSelectable(this.node),y=e.type==="copy",k=e.type==="paste",w=e.type==="cut",b=e.type==="mousedown";if(!p&&m&&i&&e.preventDefault(),p&&i&&!f)return e.preventDefault(),!1;if(p&&d&&!f&&b){const T=r.closest("[data-drag-handle]");T&&(this.dom===T||this.dom.contains(T))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(f||l||y||k||w||b&&m)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&(Yh()||V6())&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}const W6=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},U6=({renderers:t})=>ke.createElement(ke.Fragment,null,Object.entries(t).map(([e,n])=>bP.createPortal(n.reactElement,n.element,e)));class J6 extends ke.Component{constructor(e){super(e),this.editorContentRef=ke.createRef(),this.initialized=!1,this.state={renderers:{}}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const{editor:e}=this.props;if(e&&e.options.element){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.options.element.childNodes),e.setOptions({element:n}),e.contentComponent=this,e.createNodeViews(),this.initialized=!0}}maybeFlushSync(e){this.initialized?xv.flushSync(e):e()}setRenderer(e,n){this.maybeFlushSync(()=>{this.setState(({renderers:r})=>({renderers:{...r,[e]:n}}))})}removeRenderer(e){this.maybeFlushSync(()=>{this.setState(({renderers:n})=>{const r={...n};return delete r[e],{renderers:r}})})}componentWillUnmount(){const{editor:e}=this.props;if(!e||(this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),e.contentComponent=null,!e.options.element.firstChild))return;const n=document.createElement("div");n.append(...e.options.element.childNodes),e.setOptions({element:n})}render(){const{editor:e,innerRef:n,...r}=this.props;return ke.createElement(ke.Fragment,null,ke.createElement("div",{ref:W6(n,this.editorContentRef),...r}),ke.createElement(U6,{renderers:this.state.renderers}))}}const Q6=Ee.forwardRef((t,e)=>{const n=ke.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return ke.createElement(J6,{key:n,innerRef:e,...t})}),q6=ke.memo(Q6),K6=Ee.createContext({editor:null});K6.Consumer;const _C=Ee.createContext({onDragStart:void 0}),G6=()=>Ee.useContext(_C),a1=ke.forwardRef((t,e)=>{const{onDragStart:n}=G6(),r=t.as||"div";return ke.createElement(r,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});function Y6(t){return!!(typeof t=="function"&&t.prototype&&t.prototype.isReactComponent)}function X6(t){var e;return typeof t=="object"&&((e=t.\$\$typeof)===null||e===void 0?void 0:e.toString())==="Symbol(react.forward_ref)"}class Z6{constructor(e,{editor:n,props:r={},as:s="div",className:i="",attrs:l}){this.ref=null,this.id=Math.floor(Math.random()*4294967295).toString(),this.component=e,this.editor=n,this.props=r,this.element=document.createElement(s),this.element.classList.add("react-renderer"),i&&this.element.classList.add(...i.split(" ")),l&&Object.keys(l).forEach(u=>{this.element.setAttribute(u,l[u])}),this.render()}render(){var e,n;const r=this.component,s=this.props;(Y6(r)||X6(r))&&(s.ref=i=>{this.ref=i}),this.reactElement=ke.createElement(r,{...s}),(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.setRenderer(this.id,this)}updateProps(e={}){this.props={...this.props,...e},this.render()}destroy(){var e,n;(n=(e=this.editor)===null||e===void 0?void 0:e.contentComponent)===null||n===void 0||n.removeRenderer(this.id)}}class e_ extends j6{mount(){const e={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(i={})=>this.updateAttributes(i),deleteNode:()=>this.deleteNode()};if(!this.component.displayName){const i=l=>l.charAt(0).toUpperCase()+l.substring(1);this.component.displayName=i(this.extension.name)}const n=i=>{const l=this.component,u=this.onDragStart.bind(this),d=f=>{f&&this.contentDOMElement&&f.firstChild!==this.contentDOMElement&&f.appendChild(this.contentDOMElement)};return ke.createElement(ke.Fragment,null,ke.createElement(_C.Provider,{value:{onDragStart:u,nodeViewContentRef:d}},ke.createElement(l,{...i})))};n.displayName="ReactNodeView",this.node.isLeaf?this.contentDOMElement=null:this.options.contentDOMElementTag?this.contentDOMElement=document.createElement(this.options.contentDOMElementTag):this.contentDOMElement=document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");let r=this.node.isInline?"span":"div";this.options.as&&(r=this.options.as);const{className:s=""}=this.options;this.handleSelectionUpdate=this.handleSelectionUpdate.bind(this),this.editor.on("selectionUpdate",this.handleSelectionUpdate),this.renderer=new Z6(n,{editor:this.editor,props:e,as:r,className:\`node-\${this.node.type.name} \${s}\`.trim(),attrs:this.options.attrs})}get dom(){var e;if(this.renderer.element.firstElementChild&&!(!((e=this.renderer.element.firstElementChild)===null||e===void 0)&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.element}get contentDOM(){return this.node.isLeaf?null:this.contentDOMElement}handleSelectionUpdate(){const{from:e,to:n}=this.editor.state.selection;if(e<=this.getPos()&&n>=this.getPos()+this.node.nodeSize){if(this.renderer.props.selected)return;this.selectNode()}else{if(!this.renderer.props.selected)return;this.deselectNode()}}update(e,n){const r=s=>{this.renderer.updateProps(s)};if(e.type!==this.node.type)return!1;if(typeof this.options.update=="function"){const s=this.node,i=this.decorations;return this.node=e,this.decorations=n,this.options.update({oldNode:s,oldDecorations:i,newNode:e,newDecorations:n,updateProps:()=>r({node:e,decorations:n})})}return e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,r({node:e,decorations:n})),!0}selectNode(){this.renderer.updateProps({selected:!0}),this.renderer.element.classList.add("ProseMirror-selectednode")}deselectNode(){this.renderer.updateProps({selected:!1}),this.renderer.element.classList.remove("ProseMirror-selectednode")}destroy(){this.renderer.destroy(),this.editor.off("selectionUpdate",this.handleSelectionUpdate),this.contentDOMElement=null}}function u1(t,e){return n=>n.editor.contentComponent?new e_(t,n,e):{}}var kh=200,vt=function(){};vt.prototype.append=function(e){return e.length?(e=vt.from(e),!this.length&&e||e.length<kh&&this.leafAppend(e)||this.length<kh&&e.leafPrepend(this)||this.appendInner(e)):this};vt.prototype.prepend=function(e){return e.length?vt.from(e).append(this):this};vt.prototype.appendInner=function(e){return new t_(this,e)};vt.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?vt.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};vt.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};vt.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};vt.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var s=[];return this.forEach(function(i,l){return s.push(e(i,l))},n,r),s};vt.from=function(e){return e instanceof vt?e:e&&e.length?new HC(e):vt.empty};var HC=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,l,u){for(var d=i;d<l;d++)if(s(this.values[d],u+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,l,u){for(var d=i-1;d>=l;d--)if(s(this.values[d],u+d)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=kh)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=kh)return new e(s.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(vt);vt.empty=new HC([]);var t_=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,s,i,l){var u=this.left.length;if(s<u&&this.left.forEachInner(r,s,Math.min(i,u),l)===!1||i>u&&this.right.forEachInner(r,Math.max(s-u,0),Math.min(this.length,i)-u,l+u)===!1)return!1},e.prototype.forEachInvertedInner=function(r,s,i,l){var u=this.left.length;if(s>u&&this.right.forEachInvertedInner(r,s-u,Math.max(i,u)-u,l+u)===!1||i<u&&this.left.forEachInvertedInner(r,Math.min(s,u),i,l)===!1)return!1},e.prototype.sliceInner=function(r,s){if(r==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(r,s):r>=i?this.right.slice(r-i,s-i):this.left.slice(r,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(r){var s=this.right.leafAppend(r);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(r){var s=this.left.leafPrepend(r);if(s)return new e(s,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(vt);const n_=500;class pr{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let s,i;n&&(s=this.remapping(r,this.items.length),i=s.maps.length);let l=e.tr,u,d,f=[],p=[];return this.items.forEach((m,y)=>{if(!m.step){s||(s=this.remapping(r,y+1),i=s.maps.length),i--,p.push(m);return}if(s){p.push(new Ar(m.map));let k=m.step.map(s.slice(i)),w;k&&l.maybeStep(k).doc&&(w=l.mapping.maps[l.mapping.maps.length-1],f.push(new Ar(w,void 0,void 0,f.length+p.length))),i--,w&&s.appendMap(w,i)}else l.maybeStep(m.step);if(m.selection)return u=s?m.selection.map(s.slice(i)):m.selection,d=new pr(this.items.slice(0,r).append(p.reverse().concat(f)),this.eventCount-1),!1},this.items.length,0),{remaining:d,transform:l,selection:u}}addTransform(e,n,r,s){let i=[],l=this.eventCount,u=this.items,d=!s&&u.length?u.get(u.length-1):null;for(let p=0;p<e.steps.length;p++){let m=e.steps[p].invert(e.docs[p]),y=new Ar(e.mapping.maps[p],m,n),k;(k=d&&d.merge(y))&&(y=k,p?i.pop():u=u.slice(0,u.length-1)),i.push(y),n&&(l++,n=void 0),s||(d=y)}let f=l-r.depth;return f>s_&&(u=r_(u,f),l-=f),new pr(u.append(i),l)}remapping(e,n){let r=new au;return this.items.forEach((s,i)=>{let l=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?r.maps.length-s.mirrorOffset:void 0;r.appendMap(s.map,l)},e,n),r}addMaps(e){return this.eventCount==0?this:new pr(this.items.append(e.map(n=>new Ar(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],s=Math.max(0,this.items.length-n),i=e.mapping,l=e.steps.length,u=this.eventCount;this.items.forEach(y=>{y.selection&&u--},s);let d=n;this.items.forEach(y=>{let k=i.getMirror(--d);if(k==null)return;l=Math.min(l,k);let w=i.maps[k];if(y.step){let b=e.steps[k].invert(e.docs[k]),T=y.selection&&y.selection.map(i.slice(d+1,k));T&&u++,r.push(new Ar(w,b,T))}else r.push(new Ar(w))},s);let f=[];for(let y=n;y<l;y++)f.push(new Ar(i.maps[y]));let p=this.items.slice(0,s).append(f).append(r),m=new pr(p,u);return m.emptyItemCount()>n_&&(m=m.compress(this.items.length-r.length)),m}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,s=[],i=0;return this.items.forEach((l,u)=>{if(u>=e)s.push(l),l.selection&&i++;else if(l.step){let d=l.step.map(n.slice(r)),f=d&&d.getMap();if(r--,f&&n.appendMap(f,r),d){let p=l.selection&&l.selection.map(n.slice(r));p&&i++;let m=new Ar(f.invert(),d,p),y,k=s.length-1;(y=s.length&&s[k].merge(m))?s[k]=y:s.push(m)}}else l.map&&r--},this.items.length,0),new pr(vt.from(s.reverse()),i)}}pr.empty=new pr(vt.empty,0);function r_(t,e){let n;return t.forEach((r,s)=>{if(r.selection&&e--==0)return n=s,!1}),t.slice(n)}class Ar{constructor(e,n,r,s){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Ar(n.getMap().invert(),n,this.selection)}}}class _s{constructor(e,n,r,s,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=s,this.prevComposition=i}}const s_=20;function i_(t,e,n,r){let s=n.getMeta(eo),i;if(s)return s.historyState;n.getMeta(a_)&&(t=new _s(t.done,t.undone,null,0,-1));let l=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(l&&l.getMeta(eo))return l.getMeta(eo).redo?new _s(t.done.addTransform(n,void 0,r,Xd(e)),t.undone,lE(n.mapping.maps[n.steps.length-1]),t.prevTime,t.prevComposition):new _s(t.done,t.undone.addTransform(n,void 0,r,Xd(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(l&&l.getMeta("addToHistory")===!1)){let u=n.getMeta("composition"),d=t.prevTime==0||!l&&t.prevComposition!=u&&(t.prevTime<(n.time||0)-r.newGroupDelay||!o_(n,t.prevRanges)),f=l?ey(t.prevRanges,n.mapping):lE(n.mapping.maps[n.steps.length-1]);return new _s(t.done.addTransform(n,d?e.selection.getBookmark():void 0,r,Xd(e)),pr.empty,f,n.time,u??t.prevComposition)}else return(i=n.getMeta("rebased"))?new _s(t.done.rebased(n,i),t.undone.rebased(n,i),ey(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new _s(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),ey(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function o_(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,s)=>{for(let i=0;i<e.length;i+=2)r<=e[i+1]&&s>=e[i]&&(n=!0)}),n}function lE(t){let e=[];return t.forEach((n,r,s,i)=>e.push(s,i)),e}function ey(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let s=e.map(t[r],1),i=e.map(t[r+1],-1);s<=i&&n.push(s,i)}return n}function l_(t,e,n){let r=Xd(e),s=eo.get(e).spec.config,i=(n?t.undone:t.done).popEvent(e,r);if(!i)return null;let l=i.selection.resolve(i.transform.doc),u=(n?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,r),d=new _s(n?u:i.remaining,n?i.remaining:u,null,0,-1);return i.transform.setSelection(l).setMeta(eo,{redo:n,historyState:d})}let ty=!1,aE=null;function Xd(t){let e=t.plugins;if(aE!=e){ty=!1,aE=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){ty=!0;break}}return ty}const eo=new po("history"),a_=new po("closeHistory");function u_(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new _l({key:eo,state:{init(){return new _s(pr.empty,pr.empty,null,0,-1)},apply(e,n,r){return i_(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,s=r=="historyUndo"?c_:r=="historyRedo"?d_:null;return s?(n.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function VC(t,e){return(n,r)=>{let s=eo.getState(n);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(r){let i=l_(s,n,t);i&&r(e?i.scrollIntoView():i)}return!0}}const c_=VC(!1,!0),d_=VC(!0,!0);class f_{constructor(){aS(this,"subscriptions",{});this.subscriptions={}}onMessage(e,n){this.subscriptions[e]&&this.subscriptions[e].forEach(r=>{r(n)})}addListener(e,n){this.subscriptions[e]||(this.subscriptions[e]=[]),this.subscriptions[e].push(n)}sendAsyncMessage(e,n){const r=Math.random().toString(36).substring(7);return e.payload=e.payload||{},e.payload.messageId=r,new Promise(s=>{this.addListener(r,s),n(e)})}}const fi=new f_,h_=new Ae({onBridgeMessage:(t,e,n)=>e.type==="init-content"?(t.commands.setContent(e.payload,!1),t.unregisterPlugin("history"),t.registerPlugin(u_()),!0):(e.type==="get-res"&&n({type:"get-res-back",payload:{content:p_(t),messageId:e.payload.messageId}}),!1),onEditorMessage(t,e){return t.type==="get-res-back"?(fi.onMessage(t.payload.messageId,t.payload.content),!0):!1},extendEditorInstance:t=>({initContent(e){t({type:"init-content",payload:e})},getResIDs:async()=>await fi.sendAsyncMessage({type:"get-res"},t)}),extendEditorState:t=>({})});function p_(t){const e=[];return t.state.doc.descendants((n,r)=>{if(n.type.name==="myimage"||n.type.name==="audio"){const{id:s}=n.attrs;e.push(s)}}),e}function c1(t,e){const n=t.state.doc.nodeAt(e+1);(!n||n.type.name!=="paragraph")&&t.commands.createParagraphNear()}const m_=t=>{const{editor:e,extension:n,node:r,backgroundColor:s,deleteNode:i,getPos:l,...u}=t,{id:d,show:f}=r.attrs,[p,m]=Ee.useState(!1);return Ee.useEffect(()=>m(y=>y?!0:f),[f]),e&&r?ve.jsx(a1,{children:ve.jsx("div",{className:"myimage","data-drag-handle":!0,onClick:y=>c1(e,l()),children:p?ve.jsx("img",{className:"myimage-img",src:\`data:image/jpeg;base64,\${n.storage.base64map[d]}\`}):ve.jsx("span",{className:"myimage-loading",children:"loading..."})})}):ve.jsxs("div",{className:"myimage",style:{backgroundColor:t.backgroundColor?"red":"transparent"},children:[ve.jsx("span",{children:"efefe"}),ve.jsx("button",{className:"myimage-button",...u,children:"remove"})]})},jC=Dl.create({name:"myimage",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{id:{default:null},show:{default:!0}}},addNodeView(){return u1(m_)},parseHTML(){return[{tag:"div[class=myimage]"}]},renderHTML({HTMLAttributes:t}){return["div",s1(this.options.HTMLAttributes,t)]},addStorage(){return{base64map:{}}},addCommands(){return{setMyImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),addBase64:t=>()=>(this.storage.base64map[t.id]=t.base64,!0),setBase64Jpeg:t=>({commands:e})=>(this.storage.base64map[t.id]=t.base64,e.insertContent({type:this.name,attrs:t}))}}}),g_=new Ae({tiptapExtension:jC,onBridgeMessage:(t,e,n)=>(e.type==="set-myimage"&&t.chain().focus().setMyImage({id:e.payload}).setTextSelection(t.state.selection.to+1).run(),e.type==="add-base64"&&t.chain().addBase64({id:e.payload.id,base64:e.payload.base64}).run(),e.type==="set-base64"&&t.chain().setBase64Jpeg({id:e.payload.id,base64:e.payload.base64}).run(),e.type==="get-ids"&&n({type:"get-ids-back",payload:{content:y_(t),messageId:e.payload.messageId}}),e.type==="refresh-all"&&t.state.doc.descendants((r,s)=>{if(r.type.name==="myimage"){const i=t.state.tr;i.setMeta("addToHistory",!1),i.setNodeAttribute(s,"show",e.payload),t.view.dispatch(i)}}),e.type==="refresh-id"&&t.state.doc.descendants((r,s)=>{if(r.type.name==="myimage"&&r.attrs.id===e.payload.id){const i=t.state.tr;return i.setMeta("addToHistory",!1),i.setNodeAttribute(s,"show",e.payload),t.view.dispatch(i),!1}}),!1),onEditorMessage(t,e){return t.type==="get-ids-back"?(fi.onMessage(t.payload.messageId,t.payload.content),!0):t.type==="testing"?(console.log("Testing",t.payload),!0):!1},extendEditorInstance:t=>({setMyImage:e=>{t({type:"set-myimage",payload:e})},addBase64:e=>{t({type:"add-base64",payload:e})},setBase64Jpeg:e=>{t({type:"set-base64",payload:e})},getMyImageIDs:async()=>await fi.sendAsyncMessage({type:"get-ids"},t),setMyImageShown:e=>{t({type:"refresh-all",payload:e})},setSpecificMyImageShown:e=>{t({type:"refresh-id",payload:e})}}),extendEditorState:t=>({activeMyImage:t.getAttributes("myimage").id})});function y_(t){const e=[];return t.state.doc.descendants((n,r)=>{if(n.type.name==="myimage"){const{id:s}=n.attrs;e.push(s)}}),e}function v_(t){return window.ReactNativeWebView.postMessage(JSON.stringify(t))}const k_=t=>{const{editor:e,node:n,selected:r,deleteNode:s,getPos:i,...l}=t,{id:u}=n.attrs;return e&&n?ve.jsx(a1,{children:ve.jsxs("div",{className:"myaudio","data-drag-handle":!0,onClick:()=>c1(e,i()),children:[ve.jsx("div",{className:"myaudio-btn",onClick:()=>{v_({type:"play-audio",payload:{id:u}})},children:ve.jsx(w_,{})}),ve.jsx("span",{className:"myaudio-loading",children:u}),ve.jsx("div",{className:"myaudio-close",onClick:s,children:ve.jsx(S_,{})})]})}):ve.jsx("div",{className:"myaudio",style:{backgroundColor:t.backgroundColor?"red":"transparent"},children:ve.jsx("button",{className:"myaudio-button",...l,children:"remove"})})},w_=()=>ve.jsxs("svg",{viewBox:"0 0 64 64",children:[ve.jsx("circle",{cx:"32",cy:"32",r:"31"}),ve.jsx("polygon",{points:"26,18 26,46 46,32",fill:"#fff"})]}),S_=()=>ve.jsxs("svg",{viewBox:"0 0 64 64",children:[ve.jsx("circle",{cx:"32",cy:"32",r:"31"}),ve.jsx("line",{x1:"18",y1:"18",x2:"46",y2:"46",stroke:"#fff",strokeWidth:"4"}),ve.jsx("line",{x1:"46",y1:"18",x2:"18",y2:"46",stroke:"#fff",strokeWidth:"4"})]}),WC=Dl.create({name:"audio",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{id:{default:null}}},addNodeView(){return u1(k_)},parseHTML(){return[{tag:"div[class=audio]"}]},renderHTML({HTMLAttributes:t}){return["div",s1(this.options.HTMLAttributes,t)]},addCommands(){return{setAudio:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}}});var b_={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const uE=t=>{let e;const n=new Set,r=(p,m)=>{const y=typeof p=="function"?p(e):p;if(!Object.is(y,e)){const k=e;e=m??(typeof y!="object"||y===null)?y:Object.assign({},e,y),n.forEach(w=>w(e,k))}},s=()=>e,d={setState:r,getState:s,getInitialState:()=>f,subscribe:p=>(n.add(p),()=>n.delete(p)),destroy:()=>{(b_?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The \`destroy\` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},f=e=t(r,s,d);return d},x_=t=>t?uE(t):uE;var UC={exports:{}},JC={},QC={exports:{}},qC={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ll=Ee;function E_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var M_=typeof Object.is=="function"?Object.is:E_,T_=Ll.useState,N_=Ll.useEffect,C_=Ll.useLayoutEffect,O_=Ll.useDebugValue;function I_(t,e){var n=e(),r=T_({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return C_(function(){s.value=n,s.getSnapshot=e,ny(s)&&i({inst:s})},[t,n,e]),N_(function(){return ny(s)&&i({inst:s}),t(function(){ny(s)&&i({inst:s})})},[t]),O_(n),n}function ny(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!M_(t,n)}catch{return!0}}function A_(t,e){return e()}var P_=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?A_:I_;qC.useSyncExternalStore=Ll.useSyncExternalStore!==void 0?Ll.useSyncExternalStore:P_;QC.exports=qC;var D_=QC.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xh=Ee,L_=D_;function z_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var R_=typeof Object.is=="function"?Object.is:z_,B_=L_.useSyncExternalStore,\$_=Xh.useRef,F_=Xh.useEffect,__=Xh.useMemo,H_=Xh.useDebugValue;JC.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=\$_(null);if(i.current===null){var l={hasValue:!1,value:null};i.current=l}else l=i.current;i=__(function(){function d(k){if(!f){if(f=!0,p=k,k=r(k),s!==void 0&&l.hasValue){var w=l.value;if(s(w,k))return m=w}return m=k}if(w=m,R_(p,k))return w;var b=r(k);return s!==void 0&&s(w,b)?w:(p=k,m=b)}var f=!1,p,m,y=n===void 0?null:n;return[function(){return d(e())},y===null?void 0:function(){return d(y())}]},[e,n,r,s]);var u=B_(t,i[0],i[1]);return F_(function(){l.hasValue=!0,l.value=u},[u]),H_(u),u};UC.exports=JC;var V_=UC.exports;const j_=C0(V_);var KC={BASE_URL:"./",MODE:"production",DEV:!1,PROD:!0,SSR:!1};const{useDebugValue:W_}=ke,{useSyncExternalStoreWithSelector:U_}=j_;let cE=!1;const J_=t=>t;function Q_(t,e=J_,n){(KC?"production":void 0)!=="production"&&n&&!cE&&(console.warn("[DEPRECATED] Use \`createWithEqualityFn\` instead of \`create\` or use \`useStoreWithEqualityFn\` instead of \`useStore\`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),cE=!0);const r=U_(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return W_(r),r}const q_=t=>{(KC?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use \`import { useStore } from 'zustand'\`.");const e=typeof t=="function"?x_(t):t,n=(r,s)=>Q_(e,r,s);return Object.assign(n,e),n},K_=t=>q_,G_=t=>{let e=t;e.use={};for(let n of Object.keys(e.getState()))e.use[n]=()=>e(r=>r[n]);return e},Y_={voiceID:void 0},GC=K_()((t,e)=>({...Y_,setVoice:n=>t({voiceID:n})}));G_(GC);const YC=t=>GC.setState({voiceID:t}),X_=new Ae({tiptapExtension:WC,onBridgeMessage:(t,e,n)=>(e.type==="set-myaudio"&&t.chain().focus().setAudio({id:e.payload}).setTextSelection(t.state.selection.to+1).run(),e.type==="get-audio-ids"&&n({type:"get-audio-ids-back",payload:{content:Z_(t),messageId:e.payload.messageId}}),!1),onEditorMessage(t,e){return t.type==="get-audio-ids-back"?(fi.onMessage(t.payload.messageId,t.payload.content),!0):t.type==="play-audio"?(YC(t.payload.id),!0):!1},extendEditorInstance:t=>({setAudio:e=>{t({type:"set-myaudio",payload:e})},getAudioIDs:async()=>await fi.sendAsyncMessage({type:"get-audio-ids"},t)}),extendEditorState:t=>({activeAudio:t.getAttributes("myaudio").id})});function Z_(t){const e=[];return t.state.doc.descendants((n,r)=>{if(n.type.name==="myaudio"){const{id:s}=n.attrs;e.push(s)}}),e}const eH=t=>{const{editor:e,node:n,selected:r,deleteNode:s,getPos:i,...l}=t,{src:u}=n.attrs;return e&&n?ve.jsx(a1,{children:ve.jsxs("div",{className:"myvideo-container","data-drag-handle":!0,onClick:()=>c1(e,i()),children:[u?ve.jsx("video",{controls:!0,src:u,className:"myvideo-video"}):ve.jsx("span",{className:"myvideo-loading",children:"video not uploaded successfully..."}),ve.jsx("div",{className:"myvideo-controls",children:ve.jsx("button",{className:"myvideo-button",onClick:()=>s(),children:"remove"})})]})}):ve.jsx("div",{className:"myvideo",style:{backgroundColor:t.backgroundColor?"red":"transparent"},children:ve.jsx("button",{className:"myvideo-button",...l,children:"remove"})})},XC=Dl.create({name:"video",addOptions(){return{inline:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{id:{default:null},src:{default:null}}},addNodeView(){return u1(eH)},parseHTML(){return[{tag:"div[class=video]"}]},renderHTML({HTMLAttributes:t}){return["div",s1(this.options.HTMLAttributes,t)]},addCommands(){return{setVideo:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t}),completeSrc:t=>({editor:e})=>(e.state.doc.descendants((n,r)=>{if(n.type.name==="video"&&n.attrs.id===t.id){const s=e.state.tr;return s.setMeta("addToHistory",!1),s.setNodeAttribute(r,"src",t.src),e.view.dispatch(s),!1}}),!0)}}}),tH=new Ae({tiptapExtension:XC,onBridgeMessage:(t,e,n)=>(e.type==="set-myvideo"&&t.chain().focus().setVideo({id:e.payload.id,src:e.payload.src}).setTextSelection(t.state.selection.to+1).run(),e.type==="get-video-ids"&&n({type:"get-video-ids-back",payload:{content:nH(t),messageId:e.payload.messageId}}),e.type==="complete-video"&&t.chain().completeSrc({id:e.payload.id,src:e.payload.src}).run(),!1),onEditorMessage(t,e){return t.type==="get-video-ids-back"?(fi.onMessage(t.payload.messageId,t.payload.content),!0):t.type==="play-video"?(YC(t.payload.id),!0):!1},extendEditorInstance:t=>({setVideo:e=>{t({type:"set-myvideo",payload:e})},getPendingVideos:async()=>await fi.sendAsyncMessage({type:"get-video-ids"},t),completeVideo:e=>{t({type:"complete-video",payload:e})}}),extendEditorState:t=>({activeVideo:t.getAttributes("myvideo").id})});function nH(t){const e=[];return t.state.doc.descendants((n,r)=>{if(n.type.name==="myvideo"){const{id:s,src:i}=n.attrs;i||e.push(s)}}),e}const rH=()=>{const t=UB({bridges:[...N5,g_,h_,X_,tH],tiptapOptions:{extensions:[jC,WC,XC]}});return ve.jsx(q6,{editor:t})},sH=document.getElementById("root"),iH=ET(sH);iH.render(ve.jsx(rH,{}));
</script>
  </head>
  <style>
    body {
      margin: 0;
      padding: 0;
    }
    #root > div:nth-of-type(1) {
      overflow: auto;
      height: 100%;
      position: absolute;
      width: 100%;
      top: 0;
      bottom: 0;
    }
    #root div .ProseMirror {
      height: 100%;
      overflow: auto;
    }
    .ProseMirror:focus {
      outline: none;
    }
  </style>
  <body>
    <div id="root"></div>
  </body>
</html>

`.replace(/\\([`$])/g, '\$1')